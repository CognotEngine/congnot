(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();function Hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ou={exports:{}},es={},su={exports:{}},_e={};var bf;function qg(){if(bf)return _e;bf=1;var t=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function E(k,F,ne){this.props=k,this.context=F,this.refs=j,this.updater=ne||N}E.prototype.isReactComponent={},E.prototype.setState=function(k,F){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,F,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function M(){}M.prototype=E.prototype;function L(k,F,ne){this.props=k,this.context=F,this.refs=j,this.updater=ne||N}var U=L.prototype=new M;U.constructor=L,b(U,E.prototype),U.isPureReactComponent=!0;var P=Array.isArray,B=Object.prototype.hasOwnProperty,D={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function Z(k,F,ne){var te,ue={},ee=null,ge=null;if(F!=null)for(te in F.ref!==void 0&&(ge=F.ref),F.key!==void 0&&(ee=""+F.key),F)B.call(F,te)&&!K.hasOwnProperty(te)&&(ue[te]=F[te]);var re=arguments.length-2;if(re===1)ue.children=ne;else if(1<re){for(var ce=Array(re),fe=0;fe<re;fe++)ce[fe]=arguments[fe+2];ue.children=ce}if(k&&k.defaultProps)for(te in re=k.defaultProps,re)ue[te]===void 0&&(ue[te]=re[te]);return{$$typeof:t,type:k,key:ee,ref:ge,props:ue,_owner:D.current}}function J(k,F){return{$$typeof:t,type:k.type,key:F,ref:k.ref,props:k.props,_owner:k._owner}}function le(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function X(k){var F={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return F[ne]})}var q=/\/+/g;function W(k,F){return typeof k=="object"&&k!==null&&k.key!=null?X(""+k.key):F.toString(36)}function S(k,F,ne,te,ue){var ee=typeof k;(ee==="undefined"||ee==="boolean")&&(k=null);var ge=!1;if(k===null)ge=!0;else switch(ee){case"string":case"number":ge=!0;break;case"object":switch(k.$$typeof){case t:case o:ge=!0}}if(ge)return ge=k,ue=ue(ge),k=te===""?"."+W(ge,0):te,P(ue)?(ne="",k!=null&&(ne=k.replace(q,"$&/")+"/"),S(ue,F,ne,"",function(fe){return fe})):ue!=null&&(le(ue)&&(ue=J(ue,ne+(!ue.key||ge&&ge.key===ue.key?"":(""+ue.key).replace(q,"$&/")+"/")+k)),F.push(ue)),1;if(ge=0,te=te===""?".":te+":",P(k))for(var re=0;re<k.length;re++){ee=k[re];var ce=te+W(ee,re);ge+=S(ee,F,ne,ce,ue)}else if(ce=x(k),typeof ce=="function")for(k=ce.call(k),re=0;!(ee=k.next()).done;)ee=ee.value,ce=te+W(ee,re++),ge+=S(ee,F,ne,ce,ue);else if(ee==="object")throw F=String(k),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ge}function R(k,F,ne){if(k==null)return k;var te=[],ue=0;return S(k,te,"","",function(ee){return F.call(ne,ee,ue++)}),te}function $(k){if(k._status===-1){var F=k._result;F=F(),F.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=F)}if(k._status===1)return k._result.default;throw k._result}var Q={current:null},A={transition:null},C={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:A,ReactCurrentOwner:D};function O(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:R,forEach:function(k,F,ne){R(k,function(){F.apply(this,arguments)},ne)},count:function(k){var F=0;return R(k,function(){F++}),F},toArray:function(k){return R(k,function(F){return F})||[]},only:function(k){if(!le(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_e.Component=E,_e.Fragment=s,_e.Profiler=u,_e.PureComponent=L,_e.StrictMode=a,_e.Suspense=m,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,_e.act=O,_e.cloneElement=function(k,F,ne){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var te=b({},k.props),ue=k.key,ee=k.ref,ge=k._owner;if(F!=null){if(F.ref!==void 0&&(ee=F.ref,ge=D.current),F.key!==void 0&&(ue=""+F.key),k.type&&k.type.defaultProps)var re=k.type.defaultProps;for(ce in F)B.call(F,ce)&&!K.hasOwnProperty(ce)&&(te[ce]=F[ce]===void 0&&re!==void 0?re[ce]:F[ce])}var ce=arguments.length-2;if(ce===1)te.children=ne;else if(1<ce){re=Array(ce);for(var fe=0;fe<ce;fe++)re[fe]=arguments[fe+2];te.children=re}return{$$typeof:t,type:k.type,key:ue,ref:ee,props:te,_owner:ge}},_e.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},_e.createElement=Z,_e.createFactory=function(k){var F=Z.bind(null,k);return F.type=k,F},_e.createRef=function(){return{current:null}},_e.forwardRef=function(k){return{$$typeof:p,render:k}},_e.isValidElement=le,_e.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:$}},_e.memo=function(k,F){return{$$typeof:y,type:k,compare:F===void 0?null:F}},_e.startTransition=function(k){var F=A.transition;A.transition={};try{k()}finally{A.transition=F}},_e.unstable_act=O,_e.useCallback=function(k,F){return Q.current.useCallback(k,F)},_e.useContext=function(k){return Q.current.useContext(k)},_e.useDebugValue=function(){},_e.useDeferredValue=function(k){return Q.current.useDeferredValue(k)},_e.useEffect=function(k,F){return Q.current.useEffect(k,F)},_e.useId=function(){return Q.current.useId()},_e.useImperativeHandle=function(k,F,ne){return Q.current.useImperativeHandle(k,F,ne)},_e.useInsertionEffect=function(k,F){return Q.current.useInsertionEffect(k,F)},_e.useLayoutEffect=function(k,F){return Q.current.useLayoutEffect(k,F)},_e.useMemo=function(k,F){return Q.current.useMemo(k,F)},_e.useReducer=function(k,F,ne){return Q.current.useReducer(k,F,ne)},_e.useRef=function(k){return Q.current.useRef(k)},_e.useState=function(k){return Q.current.useState(k)},_e.useSyncExternalStore=function(k,F,ne){return Q.current.useSyncExternalStore(k,F,ne)},_e.useTransition=function(){return Q.current.useTransition()},_e.version="18.3.1",_e}var If;function xs(){return If||(If=1,su.exports=qg()),su.exports}var Tf;function Gg(){if(Tf)return es;Tf=1;var t=xs(),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function c(p,m,y){var g,w={},x=null,N=null;y!==void 0&&(x=""+y),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(N=m.ref);for(g in m)a.call(m,g)&&!f.hasOwnProperty(g)&&(w[g]=m[g]);if(p&&p.defaultProps)for(g in m=p.defaultProps,m)w[g]===void 0&&(w[g]=m[g]);return{$$typeof:o,type:p,key:x,ref:N,props:w,_owner:u.current}}return es.Fragment=s,es.jsx=c,es.jsxs=c,es}var Lf;function Kg(){return Lf||(Lf=1,ou.exports=Gg()),ou.exports}var i=Kg(),I=xs();const Y=Hu(I);var Hl={},lu={exports:{}},St={},iu={exports:{}},au={};var zf;function Yg(){return zf||(zf=1,(function(t){function o(A,C){var O=A.length;A.push(C);e:for(;0<O;){var k=O-1>>>1,F=A[k];if(0<u(F,C))A[k]=C,A[O]=F,O=k;else break e}}function s(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var C=A[0],O=A.pop();if(O!==C){A[0]=O;e:for(var k=0,F=A.length,ne=F>>>1;k<ne;){var te=2*(k+1)-1,ue=A[te],ee=te+1,ge=A[ee];if(0>u(ue,O))ee<F&&0>u(ge,ue)?(A[k]=ge,A[ee]=O,k=ee):(A[k]=ue,A[te]=O,k=te);else if(ee<F&&0>u(ge,O))A[k]=ge,A[ee]=O,k=ee;else break e}}return C}function u(A,C){var O=A.sortIndex-C.sortIndex;return O!==0?O:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var m=[],y=[],g=1,w=null,x=3,N=!1,b=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(A){for(var C=s(y);C!==null;){if(C.callback===null)a(y);else if(C.startTime<=A)a(y),C.sortIndex=C.expirationTime,o(m,C);else break;C=s(y)}}function P(A){if(j=!1,U(A),!b)if(s(m)!==null)b=!0,$(B);else{var C=s(y);C!==null&&Q(P,C.startTime-A)}}function B(A,C){b=!1,j&&(j=!1,M(Z),Z=-1),N=!0;var O=x;try{for(U(C),w=s(m);w!==null&&(!(w.expirationTime>C)||A&&!X());){var k=w.callback;if(typeof k=="function"){w.callback=null,x=w.priorityLevel;var F=k(w.expirationTime<=C);C=t.unstable_now(),typeof F=="function"?w.callback=F:w===s(m)&&a(m),U(C)}else a(m);w=s(m)}if(w!==null)var ne=!0;else{var te=s(y);te!==null&&Q(P,te.startTime-C),ne=!1}return ne}finally{w=null,x=O,N=!1}}var D=!1,K=null,Z=-1,J=5,le=-1;function X(){return!(t.unstable_now()-le<J)}function q(){if(K!==null){var A=t.unstable_now();le=A;var C=!0;try{C=K(!0,A)}finally{C?W():(D=!1,K=null)}}else D=!1}var W;if(typeof L=="function")W=function(){L(q)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,R=S.port2;S.port1.onmessage=q,W=function(){R.postMessage(null)}}else W=function(){E(q,0)};function $(A){K=A,D||(D=!0,W())}function Q(A,C){Z=E(function(){A(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){b||N||(b=!0,$(B))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return s(m)},t.unstable_next=function(A){switch(x){case 1:case 2:case 3:var C=3;break;default:C=x}var O=x;x=C;try{return A()}finally{x=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var O=x;x=A;try{return C()}finally{x=O}},t.unstable_scheduleCallback=function(A,C,O){var k=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?k+O:k):O=k,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=O+F,A={id:g++,callback:C,priorityLevel:A,startTime:O,expirationTime:F,sortIndex:-1},O>k?(A.sortIndex=O,o(y,A),s(m)===null&&A===s(y)&&(j?(M(Z),Z=-1):j=!0,Q(P,O-k))):(A.sortIndex=F,o(m,A),b||N||(b=!0,$(B))),A},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(A){var C=x;return function(){var O=x;x=C;try{return A.apply(this,arguments)}finally{x=O}}}})(au)),au}var Df;function Xg(){return Df||(Df=1,iu.exports=Yg()),iu.exports}var Ff;function Qg(){if(Ff)return St;Ff=1;var t=xs(),o=Xg();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function f(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(u[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function x(e){return m.call(w,e)?!0:m.call(g,e)?!1:y.test(e)?w[e]=!0:(g[e]=!0,!1)}function N(e,n,r,l){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,n,r,l){if(n===null||typeof n>"u"||N(e,n,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(e,n,r,l,d,h,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=v}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];E[n]=new j(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(M,L);E[n]=new j(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(M,L);E[n]=new j(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(M,L);E[n]=new j(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,n,r,l){var d=E.hasOwnProperty(n)?E[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(b(n,r,d,l)&&(r=null),l||d===null?x(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):d.mustUseProperty?e[d.propertyName]=r===null?d.type===3?!1:"":r:(n=d.attributeName,l=d.attributeNamespace,r===null?e.removeAttribute(n):(d=d.type,r=d===3||d===4&&r===!0?"":""+r,l?e.setAttributeNS(l,n,r):e.setAttribute(n,r))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),D=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),X=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),A=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var O=Object.assign,k;function F(e){if(k===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||""}return`
`+k+e}var ne=!1;function te(e,n){if(!e||ne)return"";ne=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(G){var l=G}Reflect.construct(e,[],n)}else{try{n.call()}catch(G){l=G}e.call(n.prototype)}else{try{throw Error()}catch(G){l=G}e()}}catch(G){if(G&&l&&typeof G.stack=="string"){for(var d=G.stack.split(`
`),h=l.stack.split(`
`),v=d.length-1,_=h.length-1;1<=v&&0<=_&&d[v]!==h[_];)_--;for(;1<=v&&0<=_;v--,_--)if(d[v]!==h[_]){if(v!==1||_!==1)do if(v--,_--,0>_||d[v]!==h[_]){var T=`
`+d[v].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=v&&0<=_);break}}}finally{ne=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function ue(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case D:return"Portal";case J:return"Profiler";case Z:return"StrictMode";case W:return"Suspense";case S:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case le:return(e._context.displayName||"Context")+".Provider";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(n);case 8:return n===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fe(e){var n=ce(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function we(e){e._valueTracker||(e._valueTracker=fe(e))}function ke(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=ce(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Le(e,n){var r=n.checked;return O({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function be(e,n){var r=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;r=re(n.value!=null?n.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xe(e,n){n=n.checked,n!=null&&U(e,"checked",n,!1)}function Ie(e,n){Xe(e,n);var r=re(n.value),l=n.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ze(e,n.type,r):n.hasOwnProperty("defaultValue")&&Ze(e,n.type,re(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function xe(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ze(e,n,r){(n!=="number"||Me(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pt=Array.isArray;function Mt(e,n,r,l){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&l&&(e[r].defaultSelected=!0)}else{for(r=""+re(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function rn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return O({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gn(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(s(92));if(pt(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:re(r)}}function bt(e,n){var r=re(n.value),l=re(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function yn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function on(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?on(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wt,vn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,r,l,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ut(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},It=["Webkit","ms","Moz","O"];Object.keys(qe).forEach(function(e){It.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qe[n]=qe[e]})});function sn(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||qe.hasOwnProperty(e)&&qe[e]?(""+n).trim():n+"px"}function ln(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var l=r.indexOf("--")===0,d=sn(r,n[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,d):e[r]=d}}var $n=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(e,n){if(n){if($n[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function qt(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ir=null;function ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,an=null,wn=null;function un(e){if(e=Ao(e)){if(typeof xn!="function")throw Error(s(280));var n=e.stateNode;n&&(n=rl(n),xn(e.stateNode,e.type,n))}}function ks(e){an?wn?wn.push(e):wn=[e]:an=e}function js(){if(an){var e=an,n=wn;if(wn=an=null,un(e),n)for(e=0;e<n.length;e++)un(n[e])}}function _s(e,n){return e(n)}function Ps(){}var go=!1;function Es(e,n,r){if(go)return e(n,r);go=!0;try{return _s(e,n,r)}finally{go=!1,(an!==null||wn!==null)&&(Ps(),js())}}function ur(e,n){var r=e.stateNode;if(r===null)return null;var l=rl(r);if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var yo=!1;if(p)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){yo=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{yo=!1}function xi(e,n,r,l,d,h,v,_,T){var G=Array.prototype.slice.call(arguments,3);try{n.apply(r,G)}catch(se){this.onError(se)}}var dr=!1,Tr=null,Lr=!1,vo=null,wi={onError:function(e){dr=!0,Tr=e}};function Ni(e,n,r,l,d,h,v,_,T){dr=!1,Tr=null,xi.apply(wi,arguments)}function Cs(e,n,r,l,d,h,v,_,T){if(Ni.apply(this,arguments),dr){if(dr){var G=Tr;dr=!1,Tr=null}else throw Error(s(198));Lr||(Lr=!0,vo=G)}}function Nn(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Ms(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function bs(e){if(Nn(e)!==e)throw Error(s(188))}function Si(e){var n=e.alternate;if(!n){if(n=Nn(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return bs(d),e;if(h===l)return bs(d),n;h=h.sibling}throw Error(s(188))}if(r.return!==l.return)r=d,l=h;else{for(var v=!1,_=d.child;_;){if(_===r){v=!0,r=d,l=h;break}if(_===l){v=!0,l=d,r=h;break}_=_.sibling}if(!v){for(_=h.child;_;){if(_===r){v=!0,r=h,l=d;break}if(_===l){v=!0,l=h,r=d;break}_=_.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function Is(e){return e=Si(e),e!==null?Ts(e):null}function Ts(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ts(e);if(n!==null)return n;e=e.sibling}return null}var Ls=o.unstable_scheduleCallback,zs=o.unstable_cancelCallback,Ds=o.unstable_shouldYield,ki=o.unstable_requestPaint,He=o.unstable_now,ji=o.unstable_getCurrentPriorityLevel,xo=o.unstable_ImmediatePriority,Fs=o.unstable_UserBlockingPriority,zr=o.unstable_NormalPriority,$s=o.unstable_LowPriority,Rs=o.unstable_IdlePriority,Dr=null,Tt=null;function wo(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dr,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:cm,am=Math.log,um=Math.LN2;function cm(e){return e>>>=0,e===0?32:31-(am(e)/um|0)|0}var As=64,Os=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,n){var r=e.pendingLanes;if(r===0)return 0;var l=0,d=e.suspendedLanes,h=e.pingedLanes,v=r&268435455;if(v!==0){var _=v&~d;_!==0?l=No(_):(h&=v,h!==0&&(l=No(h)))}else v=r&~d,v!==0?l=No(v):h!==0&&(l=No(h));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,h=n&-n,d>=h||d===16&&(h&4194240)!==0))return n;if((l&4)!==0&&(l|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)r=31-Gt(n),d=1<<r,l|=e[r],n&=~d;return l}function dm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fm(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-Gt(h),_=1<<v,T=d[v];T===-1?((_&r)===0||(_&l)!==0)&&(d[v]=dm(_,n)):T<=n&&(e.expiredLanes|=_),h&=~_}}function _i(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lc(){var e=As;return As<<=1,(As&4194240)===0&&(As=64),e}function Pi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function So(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Gt(n),e[n]=r}function pm(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var d=31-Gt(r),h=1<<d;n[d]=0,l[d]=-1,e[d]=-1,r&=~h}}function Ei(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Gt(r),d=1<<l;d&n|e[l]&n&&(e[l]|=n),r&=~d}}var ze=0;function ic(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ac,Ci,uc,cc,dc,Mi=!1,Hs=[],Rn=null,An=null,On=null,ko=new Map,jo=new Map,Vn=[],hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(e,n){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ko.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function _o(e,n,r,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ao(n),n!==null&&Ci(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function mm(e,n,r,l,d){switch(n){case"focusin":return Rn=_o(Rn,e,n,r,l,d),!0;case"dragenter":return An=_o(An,e,n,r,l,d),!0;case"mouseover":return On=_o(On,e,n,r,l,d),!0;case"pointerover":var h=d.pointerId;return ko.set(h,_o(ko.get(h)||null,e,n,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,jo.set(h,_o(jo.get(h)||null,e,n,r,l,d)),!0}return!1}function pc(e){var n=fr(e.target);if(n!==null){var r=Nn(n);if(r!==null){if(n=r.tag,n===13){if(n=Ms(r),n!==null){e.blockedOn=n,dc(e.priority,function(){uc(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ii(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);ir=l,r.target.dispatchEvent(l),ir=null}else return n=Ao(r),n!==null&&Ci(n),e.blockedOn=r,!1;n.shift()}return!0}function hc(e,n,r){Bs(e)&&r.delete(n)}function gm(){Mi=!1,Rn!==null&&Bs(Rn)&&(Rn=null),An!==null&&Bs(An)&&(An=null),On!==null&&Bs(On)&&(On=null),ko.forEach(hc),jo.forEach(hc)}function Po(e,n){e.blockedOn===n&&(e.blockedOn=null,Mi||(Mi=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,gm)))}function Eo(e){function n(d){return Po(d,e)}if(0<Hs.length){Po(Hs[0],e);for(var r=1;r<Hs.length;r++){var l=Hs[r];l.blockedOn===e&&(l.blockedOn=null)}}for(Rn!==null&&Po(Rn,e),An!==null&&Po(An,e),On!==null&&Po(On,e),ko.forEach(n),jo.forEach(n),r=0;r<Vn.length;r++)l=Vn[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)pc(r),r.blockedOn===null&&Vn.shift()}var Fr=P.ReactCurrentBatchConfig,Ws=!0;function ym(e,n,r,l){var d=ze,h=Fr.transition;Fr.transition=null;try{ze=1,bi(e,n,r,l)}finally{ze=d,Fr.transition=h}}function vm(e,n,r,l){var d=ze,h=Fr.transition;Fr.transition=null;try{ze=4,bi(e,n,r,l)}finally{ze=d,Fr.transition=h}}function bi(e,n,r,l){if(Ws){var d=Ii(e,n,r,l);if(d===null)Ki(e,n,l,Us,r),fc(e,l);else if(mm(d,e,n,r,l))l.stopPropagation();else if(fc(e,l),n&4&&-1<hm.indexOf(e)){for(;d!==null;){var h=Ao(d);if(h!==null&&ac(h),h=Ii(e,n,r,l),h===null&&Ki(e,n,l,Us,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else Ki(e,n,l,null,r)}}var Us=null;function Ii(e,n,r,l){if(Us=null,e=ar(l),e=fr(e),e!==null)if(n=Nn(e),n===null)e=null;else if(r=n.tag,r===13){if(e=Ms(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Us=e,null}function mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ji()){case xo:return 1;case Fs:return 4;case zr:case $s:return 16;case Rs:return 536870912;default:return 16}default:return 16}}var Hn=null,Ti=null,qs=null;function gc(){if(qs)return qs;var e,n=Ti,r=n.length,l,d="value"in Hn?Hn.value:Hn.textContent,h=d.length;for(e=0;e<r&&n[e]===d[e];e++);var v=r-e;for(l=1;l<=v&&n[r-l]===d[h-l];l++);return qs=d.slice(e,1<l?1-l:void 0)}function Gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function yc(){return!1}function jt(e){function n(r,l,d,h,v){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ks:yc,this.isPropagationStopped=yc,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),n}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=jt($r),Co=O({},$r,{view:0,detail:0}),xm=jt(Co),zi,Di,Mo,Ys=O({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mo&&(Mo&&e.type==="mousemove"?(zi=e.screenX-Mo.screenX,Di=e.screenY-Mo.screenY):Di=zi=0,Mo=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Di}}),vc=jt(Ys),wm=O({},Ys,{dataTransfer:0}),Nm=jt(wm),Sm=O({},Co,{relatedTarget:0}),Fi=jt(Sm),km=O({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=jt(km),_m=O({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=jt(_m),Em=O({},$r,{data:0}),xc=jt(Em),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bm[e])?!!n[e]:!1}function $i(){return Im}var Tm=O({},Co,{key:function(e){if(e.key){var n=Cm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(e){return e.type==="keypress"?Gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lm=jt(Tm),zm=O({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=jt(zm),Dm=O({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),Fm=jt(Dm),$m=O({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rm=jt($m),Am=O({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=jt(Am),Vm=[9,13,27,32],Ri=p&&"CompositionEvent"in window,bo=null;p&&"documentMode"in document&&(bo=document.documentMode);var Hm=p&&"TextEvent"in window&&!bo,Nc=p&&(!Ri||bo&&8<bo&&11>=bo),Sc=" ",kc=!1;function jc(e,n){switch(e){case"keyup":return Vm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function Bm(e,n){switch(e){case"compositionend":return _c(n);case"keypress":return n.which!==32?null:(kc=!0,Sc);case"textInput":return e=n.data,e===Sc&&kc?null:e;default:return null}}function Wm(e,n){if(Rr)return e==="compositionend"||!Ri&&jc(e,n)?(e=gc(),qs=Ti=Hn=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nc&&n.locale!=="ko"?null:n.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Um[e.type]:n==="textarea"}function Ec(e,n,r,l){ks(l),n=el(n,"onChange"),0<n.length&&(r=new Li("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Io=null,To=null;function qm(e){Uc(e,0)}function Xs(e){var n=Br(e);if(ke(n))return e}function Gm(e,n){if(e==="change")return n}var Cc=!1;if(p){var Ai;if(p){var Oi="oninput"in document;if(!Oi){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),Oi=typeof Mc.oninput=="function"}Ai=Oi}else Ai=!1;Cc=Ai&&(!document.documentMode||9<document.documentMode)}function bc(){Io&&(Io.detachEvent("onpropertychange",Ic),To=Io=null)}function Ic(e){if(e.propertyName==="value"&&Xs(To)){var n=[];Ec(n,To,e,ar(e)),Es(qm,n)}}function Km(e,n,r){e==="focusin"?(bc(),Io=n,To=r,Io.attachEvent("onpropertychange",Ic)):e==="focusout"&&bc()}function Ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(To)}function Xm(e,n){if(e==="click")return Xs(n)}function Qm(e,n){if(e==="input"||e==="change")return Xs(n)}function Zm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Kt=typeof Object.is=="function"?Object.is:Zm;function Lo(e,n){if(Kt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!m.call(n,d)||!Kt(e[d],n[d]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,n){var r=Tc(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tc(r)}}function zc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dc(){for(var e=window,n=Me();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Me(e.document)}return n}function Vi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Jm(e){var n=Dc(),r=e.focusedElem,l=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&zc(r.ownerDocument.documentElement,r)){if(l!==null&&Vi(r)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=r.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!e.extend&&h>l&&(d=l,l=h,h=d),d=Lc(r,h);var v=Lc(r,l);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eg=p&&"documentMode"in document&&11>=document.documentMode,Ar=null,Hi=null,zo=null,Bi=!1;function Fc(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bi||Ar==null||Ar!==Me(l)||(l=Ar,"selectionStart"in l&&Vi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Lo(zo,l)||(zo=l,l=el(Hi,"onSelect"),0<l.length&&(n=new Li("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Ar)))}function Qs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Or={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Wi={},$c={};p&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Zs(e){if(Wi[e])return Wi[e];if(!Or[e])return e;var n=Or[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in $c)return Wi[e]=n[r];return e}var Rc=Zs("animationend"),Ac=Zs("animationiteration"),Oc=Zs("animationstart"),Vc=Zs("transitionend"),Hc=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,n){Hc.set(e,n),f(n,[e])}for(var Ui=0;Ui<Bc.length;Ui++){var qi=Bc[Ui],tg=qi.toLowerCase(),ng=qi[0].toUpperCase()+qi.slice(1);Bn(tg,"on"+ng)}Bn(Rc,"onAnimationEnd"),Bn(Ac,"onAnimationIteration"),Bn(Oc,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Vc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Wc(e,n,r){var l=e.type||"unknown-event";e.currentTarget=r,Cs(l,n,void 0,e),e.currentTarget=null}function Uc(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var _=l[v],T=_.instance,G=_.currentTarget;if(_=_.listener,T!==h&&d.isPropagationStopped())break e;Wc(d,_,G),h=T}else for(v=0;v<l.length;v++){if(_=l[v],T=_.instance,G=_.currentTarget,_=_.listener,T!==h&&d.isPropagationStopped())break e;Wc(d,_,G),h=T}}}if(Lr)throw e=vo,Lr=!1,vo=null,e}function Re(e,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var l=e+"__bubble";r.has(l)||(qc(n,e,2,!1),r.add(l))}function Gi(e,n,r){var l=0;n&&(l|=4),qc(r,e,l,n)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[Js]){e[Js]=!0,a.forEach(function(r){r!=="selectionchange"&&(rg.has(r)||Gi(r,!1,e),Gi(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Js]||(n[Js]=!0,Gi("selectionchange",!1,n))}}function qc(e,n,r,l){switch(mc(n)){case 1:var d=ym;break;case 4:d=vm;break;default:d=bi}r=d.bind(null,n,r,e),d=void 0,!yo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function Ki(e,n,r,l,d){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===d||T.nodeType===8&&T.parentNode===d))return;v=v.return}for(;_!==null;){if(v=fr(_),v===null)return;if(T=v.tag,T===5||T===6){l=h=v;continue e}_=_.parentNode}}l=l.return}Es(function(){var G=h,se=ar(r),ie=[];e:{var oe=Hc.get(e);if(oe!==void 0){var pe=Li,me=e;switch(e){case"keypress":if(Gs(r)===0)break e;case"keydown":case"keyup":pe=Lm;break;case"focusin":me="focus",pe=Fi;break;case"focusout":me="blur",pe=Fi;break;case"beforeblur":case"afterblur":pe=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Fm;break;case Rc:case Ac:case Oc:pe=jm;break;case Vc:pe=Rm;break;case"scroll":pe=xm;break;case"wheel":pe=Om;break;case"copy":case"cut":case"paste":pe=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=wc}var ye=(n&4)!==0,Ye=!ye&&e==="scroll",V=ye?oe!==null?oe+"Capture":null:oe;ye=[];for(var z=G,H;z!==null;){H=z;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,V!==null&&(ae=ur(z,V),ae!=null&&ye.push($o(z,ae,H)))),Ye)break;z=z.return}0<ye.length&&(oe=new pe(oe,me,null,r,se),ie.push({event:oe,listeners:ye}))}}if((n&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",oe&&r!==ir&&(me=r.relatedTarget||r.fromElement)&&(fr(me)||me[Sn]))break e;if((pe||oe)&&(oe=se.window===se?se:(oe=se.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(me=r.relatedTarget||r.toElement,pe=G,me=me?fr(me):null,me!==null&&(Ye=Nn(me),me!==Ye||me.tag!==5&&me.tag!==6)&&(me=null)):(pe=null,me=G),pe!==me)){if(ye=vc,ae="onMouseLeave",V="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ye=wc,ae="onPointerLeave",V="onPointerEnter",z="pointer"),Ye=pe==null?oe:Br(pe),H=me==null?oe:Br(me),oe=new ye(ae,z+"leave",pe,r,se),oe.target=Ye,oe.relatedTarget=H,ae=null,fr(se)===G&&(ye=new ye(V,z+"enter",me,r,se),ye.target=H,ye.relatedTarget=Ye,ae=ye),Ye=ae,pe&&me)t:{for(ye=pe,V=me,z=0,H=ye;H;H=Vr(H))z++;for(H=0,ae=V;ae;ae=Vr(ae))H++;for(;0<z-H;)ye=Vr(ye),z--;for(;0<H-z;)V=Vr(V),H--;for(;z--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=Vr(ye),V=Vr(V)}ye=null}else ye=null;pe!==null&&Gc(ie,oe,pe,ye,!1),me!==null&&Ye!==null&&Gc(ie,Ye,me,ye,!0)}}e:{if(oe=G?Br(G):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var ve=Gm;else if(Pc(oe))if(Cc)ve=Qm;else{ve=Ym;var Ne=Km}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ve=Xm);if(ve&&(ve=ve(e,G))){Ec(ie,ve,r,se);break e}Ne&&Ne(e,oe,G),e==="focusout"&&(Ne=oe._wrapperState)&&Ne.controlled&&oe.type==="number"&&Ze(oe,"number",oe.value)}switch(Ne=G?Br(G):window,e){case"focusin":(Pc(Ne)||Ne.contentEditable==="true")&&(Ar=Ne,Hi=G,zo=null);break;case"focusout":zo=Hi=Ar=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,Fc(ie,r,se);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":Fc(ie,r,se)}var Se;if(Ri)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Rr?jc(e,r)&&(je="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Nc&&r.locale!=="ko"&&(Rr||je!=="onCompositionStart"?je==="onCompositionEnd"&&Rr&&(Se=gc()):(Hn=se,Ti="value"in Hn?Hn.value:Hn.textContent,Rr=!0)),Ne=el(G,je),0<Ne.length&&(je=new xc(je,e,null,r,se),ie.push({event:je,listeners:Ne}),Se?je.data=Se:(Se=_c(r),Se!==null&&(je.data=Se)))),(Se=Hm?Bm(e,r):Wm(e,r))&&(G=el(G,"onBeforeInput"),0<G.length&&(se=new xc("onBeforeInput","beforeinput",null,r,se),ie.push({event:se,listeners:G}),se.data=Se))}Uc(ie,n)})}function $o(e,n,r){return{instance:e,listener:n,currentTarget:r}}function el(e,n){for(var r=n+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=ur(e,r),h!=null&&l.unshift($o(e,h,d)),h=ur(e,n),h!=null&&l.push($o(e,h,d))),e=e.return}return l}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gc(e,n,r,l,d){for(var h=n._reactName,v=[];r!==null&&r!==l;){var _=r,T=_.alternate,G=_.stateNode;if(T!==null&&T===l)break;_.tag===5&&G!==null&&(_=G,d?(T=ur(r,h),T!=null&&v.unshift($o(r,T,_))):d||(T=ur(r,h),T!=null&&v.push($o(r,T,_)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var og=/\r\n?/g,sg=/\u0000|\uFFFD/g;function Kc(e){return(typeof e=="string"?e:""+e).replace(og,`
`).replace(sg,"")}function tl(e,n,r){if(n=Kc(n),Kc(e)!==n&&r)throw Error(s(425))}function nl(){}var Yi=null,Xi=null;function Qi(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zi=typeof setTimeout=="function"?setTimeout:void 0,lg=typeof clearTimeout=="function"?clearTimeout:void 0,Yc=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Yc<"u"?function(e){return Yc.resolve(null).then(e).catch(ag)}:Zi;function ag(e){setTimeout(function(){throw e})}function Ji(e,n){var r=n,l=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(l===0){e.removeChild(d),Eo(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=d}while(r);Eo(n)}function Wn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Xc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),cn="__reactFiber$"+Hr,Ro="__reactProps$"+Hr,Sn="__reactContainer$"+Hr,ea="__reactEvents$"+Hr,ug="__reactListeners$"+Hr,cg="__reactHandles$"+Hr;function fr(e){var n=e[cn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Sn]||r[cn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Xc(e);e!==null;){if(r=e[cn])return r;e=Xc(e)}return n}e=r,r=e.parentNode}return null}function Ao(e){return e=e[cn]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function rl(e){return e[Ro]||null}var ta=[],Wr=-1;function Un(e){return{current:e}}function Ae(e){0>Wr||(e.current=ta[Wr],ta[Wr]=null,Wr--)}function Fe(e,n){Wr++,ta[Wr]=e.current,e.current=n}var qn={},ut=Un(qn),yt=Un(!1),pr=qn;function Ur(e,n){var r=e.type.contextTypes;if(!r)return qn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in r)d[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function vt(e){return e=e.childContextTypes,e!=null}function ol(){Ae(yt),Ae(ut)}function Qc(e,n,r){if(ut.current!==qn)throw Error(s(168));Fe(ut,n),Fe(yt,r)}function Zc(e,n,r){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(s(108,ge(e)||"Unknown",d));return O({},r,l)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,pr=ut.current,Fe(ut,e),Fe(yt,yt.current),!0}function Jc(e,n,r){var l=e.stateNode;if(!l)throw Error(s(169));r?(e=Zc(e,n,pr),l.__reactInternalMemoizedMergedChildContext=e,Ae(yt),Ae(ut),Fe(ut,e)):Ae(yt),Fe(yt,r)}var kn=null,ll=!1,na=!1;function ed(e){kn===null?kn=[e]:kn.push(e)}function dg(e){ll=!0,ed(e)}function Gn(){if(!na&&kn!==null){na=!0;var e=0,n=ze;try{var r=kn;for(ze=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}kn=null,ll=!1}catch(d){throw kn!==null&&(kn=kn.slice(e+1)),Ls(xo,Gn),d}finally{ze=n,na=!1}}return null}var qr=[],Gr=0,il=null,al=0,Lt=[],zt=0,hr=null,jn=1,_n="";function mr(e,n){qr[Gr++]=al,qr[Gr++]=il,il=e,al=n}function td(e,n,r){Lt[zt++]=jn,Lt[zt++]=_n,Lt[zt++]=hr,hr=e;var l=jn;e=_n;var d=32-Gt(l)-1;l&=~(1<<d),r+=1;var h=32-Gt(n)+d;if(30<h){var v=d-d%5;h=(l&(1<<v)-1).toString(32),l>>=v,d-=v,jn=1<<32-Gt(n)+d|r<<d|l,_n=h+e}else jn=1<<h|r<<d|l,_n=e}function ra(e){e.return!==null&&(mr(e,1),td(e,1,0))}function oa(e){for(;e===il;)il=qr[--Gr],qr[Gr]=null,al=qr[--Gr],qr[Gr]=null;for(;e===hr;)hr=Lt[--zt],Lt[zt]=null,_n=Lt[--zt],Lt[zt]=null,jn=Lt[--zt],Lt[zt]=null}var _t=null,Pt=null,Oe=!1,Yt=null;function nd(e,n){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function rd(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,_t=e,Pt=Wn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,_t=e,Pt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=hr!==null?{id:jn,overflow:_n}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,_t=e,Pt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function la(e){if(Oe){var n=Pt;if(n){var r=n;if(!rd(e,n)){if(sa(e))throw Error(s(418));n=Wn(r.nextSibling);var l=_t;n&&rd(e,n)?nd(l,r):(e.flags=e.flags&-4097|2,Oe=!1,_t=e)}}else{if(sa(e))throw Error(s(418));e.flags=e.flags&-4097|2,Oe=!1,_t=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function ul(e){if(e!==_t)return!1;if(!Oe)return od(e),Oe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Qi(e.type,e.memoizedProps)),n&&(n=Pt)){if(sa(e))throw sd(),Error(s(418));for(;n;)nd(e,n),n=Wn(n.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Pt=Wn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Pt=null}}else Pt=_t?Wn(e.stateNode.nextSibling):null;return!0}function sd(){for(var e=Pt;e;)e=Wn(e.nextSibling)}function Kr(){Pt=_t=null,Oe=!1}function ia(e){Yt===null?Yt=[e]:Yt.push(e)}var fg=P.ReactCurrentBatchConfig;function Oo(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,e));var d=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(v){var _=d.refs;v===null?delete _[h]:_[h]=v},n._stringRef=h,n)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function cl(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ld(e){var n=e._init;return n(e._payload)}function id(e){function n(V,z){if(e){var H=V.deletions;H===null?(V.deletions=[z],V.flags|=16):H.push(z)}}function r(V,z){if(!e)return null;for(;z!==null;)n(V,z),z=z.sibling;return null}function l(V,z){for(V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function d(V,z){return V=tr(V,z),V.index=0,V.sibling=null,V}function h(V,z,H){return V.index=H,e?(H=V.alternate,H!==null?(H=H.index,H<z?(V.flags|=2,z):H):(V.flags|=2,z)):(V.flags|=1048576,z)}function v(V){return e&&V.alternate===null&&(V.flags|=2),V}function _(V,z,H,ae){return z===null||z.tag!==6?(z=Za(H,V.mode,ae),z.return=V,z):(z=d(z,H),z.return=V,z)}function T(V,z,H,ae){var ve=H.type;return ve===K?se(V,z,H.props.children,ae,H.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&ld(ve)===z.type)?(ae=d(z,H.props),ae.ref=Oo(V,z,H),ae.return=V,ae):(ae=zl(H.type,H.key,H.props,null,V.mode,ae),ae.ref=Oo(V,z,H),ae.return=V,ae)}function G(V,z,H,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Ja(H,V.mode,ae),z.return=V,z):(z=d(z,H.children||[]),z.return=V,z)}function se(V,z,H,ae,ve){return z===null||z.tag!==7?(z=kr(H,V.mode,ae,ve),z.return=V,z):(z=d(z,H),z.return=V,z)}function ie(V,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Za(""+z,V.mode,H),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return H=zl(z.type,z.key,z.props,null,V.mode,H),H.ref=Oo(V,null,z),H.return=V,H;case D:return z=Ja(z,V.mode,H),z.return=V,z;case $:var ae=z._init;return ie(V,ae(z._payload),H)}if(pt(z)||C(z))return z=kr(z,V.mode,H,null),z.return=V,z;cl(V,z)}return null}function oe(V,z,H,ae){var ve=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:_(V,z,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return H.key===ve?T(V,z,H,ae):null;case D:return H.key===ve?G(V,z,H,ae):null;case $:return ve=H._init,oe(V,z,ve(H._payload),ae)}if(pt(H)||C(H))return ve!==null?null:se(V,z,H,ae,null);cl(V,H)}return null}function pe(V,z,H,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return V=V.get(H)||null,_(z,V,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:return V=V.get(ae.key===null?H:ae.key)||null,T(z,V,ae,ve);case D:return V=V.get(ae.key===null?H:ae.key)||null,G(z,V,ae,ve);case $:var Ne=ae._init;return pe(V,z,H,Ne(ae._payload),ve)}if(pt(ae)||C(ae))return V=V.get(H)||null,se(z,V,ae,ve,null);cl(z,ae)}return null}function me(V,z,H,ae){for(var ve=null,Ne=null,Se=z,je=z=0,ot=null;Se!==null&&je<H.length;je++){Se.index>je?(ot=Se,Se=null):ot=Se.sibling;var Te=oe(V,Se,H[je],ae);if(Te===null){Se===null&&(Se=ot);break}e&&Se&&Te.alternate===null&&n(V,Se),z=h(Te,z,je),Ne===null?ve=Te:Ne.sibling=Te,Ne=Te,Se=ot}if(je===H.length)return r(V,Se),Oe&&mr(V,je),ve;if(Se===null){for(;je<H.length;je++)Se=ie(V,H[je],ae),Se!==null&&(z=h(Se,z,je),Ne===null?ve=Se:Ne.sibling=Se,Ne=Se);return Oe&&mr(V,je),ve}for(Se=l(V,Se);je<H.length;je++)ot=pe(Se,V,je,H[je],ae),ot!==null&&(e&&ot.alternate!==null&&Se.delete(ot.key===null?je:ot.key),z=h(ot,z,je),Ne===null?ve=ot:Ne.sibling=ot,Ne=ot);return e&&Se.forEach(function(nr){return n(V,nr)}),Oe&&mr(V,je),ve}function ye(V,z,H,ae){var ve=C(H);if(typeof ve!="function")throw Error(s(150));if(H=ve.call(H),H==null)throw Error(s(151));for(var Ne=ve=null,Se=z,je=z=0,ot=null,Te=H.next();Se!==null&&!Te.done;je++,Te=H.next()){Se.index>je?(ot=Se,Se=null):ot=Se.sibling;var nr=oe(V,Se,Te.value,ae);if(nr===null){Se===null&&(Se=ot);break}e&&Se&&nr.alternate===null&&n(V,Se),z=h(nr,z,je),Ne===null?ve=nr:Ne.sibling=nr,Ne=nr,Se=ot}if(Te.done)return r(V,Se),Oe&&mr(V,je),ve;if(Se===null){for(;!Te.done;je++,Te=H.next())Te=ie(V,Te.value,ae),Te!==null&&(z=h(Te,z,je),Ne===null?ve=Te:Ne.sibling=Te,Ne=Te);return Oe&&mr(V,je),ve}for(Se=l(V,Se);!Te.done;je++,Te=H.next())Te=pe(Se,V,je,Te.value,ae),Te!==null&&(e&&Te.alternate!==null&&Se.delete(Te.key===null?je:Te.key),z=h(Te,z,je),Ne===null?ve=Te:Ne.sibling=Te,Ne=Te);return e&&Se.forEach(function(Ug){return n(V,Ug)}),Oe&&mr(V,je),ve}function Ye(V,z,H,ae){if(typeof H=="object"&&H!==null&&H.type===K&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case B:e:{for(var ve=H.key,Ne=z;Ne!==null;){if(Ne.key===ve){if(ve=H.type,ve===K){if(Ne.tag===7){r(V,Ne.sibling),z=d(Ne,H.props.children),z.return=V,V=z;break e}}else if(Ne.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===$&&ld(ve)===Ne.type){r(V,Ne.sibling),z=d(Ne,H.props),z.ref=Oo(V,Ne,H),z.return=V,V=z;break e}r(V,Ne);break}else n(V,Ne);Ne=Ne.sibling}H.type===K?(z=kr(H.props.children,V.mode,ae,H.key),z.return=V,V=z):(ae=zl(H.type,H.key,H.props,null,V.mode,ae),ae.ref=Oo(V,z,H),ae.return=V,V=ae)}return v(V);case D:e:{for(Ne=H.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){r(V,z.sibling),z=d(z,H.children||[]),z.return=V,V=z;break e}else{r(V,z);break}else n(V,z);z=z.sibling}z=Ja(H,V.mode,ae),z.return=V,V=z}return v(V);case $:return Ne=H._init,Ye(V,z,Ne(H._payload),ae)}if(pt(H))return me(V,z,H,ae);if(C(H))return ye(V,z,H,ae);cl(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,z!==null&&z.tag===6?(r(V,z.sibling),z=d(z,H),z.return=V,V=z):(r(V,z),z=Za(H,V.mode,ae),z.return=V,V=z),v(V)):r(V,z)}return Ye}var Yr=id(!0),ad=id(!1),dl=Un(null),fl=null,Xr=null,aa=null;function ua(){aa=Xr=fl=null}function ca(e){var n=dl.current;Ae(dl),e._currentValue=n}function da(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Qr(e,n){fl=e,aa=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(xt=!0),e.firstContext=null)}function Dt(e){var n=e._currentValue;if(aa!==e)if(e={context:e,memoizedValue:n,next:null},Xr===null){if(fl===null)throw Error(s(308));Xr=e,fl.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return n}var gr=null;function fa(e){gr===null?gr=[e]:gr.push(e)}function ud(e,n,r,l){var d=n.interleaved;return d===null?(r.next=r,fa(n)):(r.next=d.next,d.next=r),n.interleaved=r,Pn(e,l)}function Pn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kn=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,Pn(e,r)}return d=l.interleaved,d===null?(n.next=n,fa(l)):(n.next=d.next,d.next=n),l.interleaved=n,Pn(e,r)}function pl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ei(e,r)}}function dd(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=n:h=h.next=n}else d=h=n;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function hl(e,n,r,l){var d=e.updateQueue;Kn=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var T=_,G=T.next;T.next=null,v===null?h=G:v.next=G,v=T;var se=e.alternate;se!==null&&(se=se.updateQueue,_=se.lastBaseUpdate,_!==v&&(_===null?se.firstBaseUpdate=G:_.next=G,se.lastBaseUpdate=T))}if(h!==null){var ie=d.baseState;v=0,se=G=T=null,_=h;do{var oe=_.lane,pe=_.eventTime;if((l&oe)===oe){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var me=e,ye=_;switch(oe=n,pe=r,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ie=me.call(pe,ie,oe);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,oe=typeof me=="function"?me.call(pe,ie,oe):me,oe==null)break e;ie=O({},ie,oe);break e;case 2:Kn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,oe=d.effects,oe===null?d.effects=[_]:oe.push(_))}else pe={eventTime:pe,lane:oe,tag:_.tag,payload:_.payload,callback:_.callback,next:null},se===null?(G=se=pe,T=ie):se=se.next=pe,v|=oe;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;oe=_,_=oe.next,oe.next=null,d.lastBaseUpdate=oe,d.shared.pending=null}}while(!0);if(se===null&&(T=ie),d.baseState=T,d.firstBaseUpdate=G,d.lastBaseUpdate=se,n=d.shared.interleaved,n!==null){d=n;do v|=d.lane,d=d.next;while(d!==n)}else h===null&&(d.shared.lanes=0);xr|=v,e.lanes=v,e.memoizedState=ie}}function fd(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=r,typeof d!="function")throw Error(s(191,d));d.call(l)}}}var Vo={},dn=Un(Vo),Ho=Un(Vo),Bo=Un(Vo);function yr(e){if(e===Vo)throw Error(s(174));return e}function ha(e,n){switch(Fe(Bo,n),Fe(Ho,e),Fe(dn,Vo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Bt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Bt(n,e)}Ae(dn),Fe(dn,n)}function Zr(){Ae(dn),Ae(Ho),Ae(Bo)}function pd(e){yr(Bo.current);var n=yr(dn.current),r=Bt(n,e.type);n!==r&&(Fe(Ho,e),Fe(dn,r))}function ma(e){Ho.current===e&&(Ae(dn),Ae(Ho))}var Be=Un(0);function ml(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ga=[];function ya(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var gl=P.ReactCurrentDispatcher,va=P.ReactCurrentBatchConfig,vr=0,We=null,Je=null,nt=null,yl=!1,Wo=!1,Uo=0,pg=0;function ct(){throw Error(s(321))}function xa(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Kt(e[r],n[r]))return!1;return!0}function wa(e,n,r,l,d,h){if(vr=h,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,gl.current=e===null||e.memoizedState===null?yg:vg,e=r(l,d),Wo){h=0;do{if(Wo=!1,Uo=0,25<=h)throw Error(s(301));h+=1,nt=Je=null,n.updateQueue=null,gl.current=xg,e=r(l,d)}while(Wo)}if(gl.current=wl,n=Je!==null&&Je.next!==null,vr=0,nt=Je=We=null,yl=!1,n)throw Error(s(300));return e}function Na(){var e=Uo!==0;return Uo=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?We.memoizedState=nt=e:nt=nt.next=e,nt}function Ft(){if(Je===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=nt===null?We.memoizedState:nt.next;if(n!==null)nt=n,Je=e;else{if(e===null)throw Error(s(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?We.memoizedState=nt=e:nt=nt.next=e}return nt}function qo(e,n){return typeof n=="function"?n(e):n}function Sa(e){var n=Ft(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=Je,d=l.baseQueue,h=r.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}l.baseQueue=d=h,r.pending=null}if(d!==null){h=d.next,l=l.baseState;var _=v=null,T=null,G=h;do{var se=G.lane;if((vr&se)===se)T!==null&&(T=T.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),l=G.hasEagerState?G.eagerState:e(l,G.action);else{var ie={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};T===null?(_=T=ie,v=l):T=T.next=ie,We.lanes|=se,xr|=se}G=G.next}while(G!==null&&G!==h);T===null?v=l:T.next=_,Kt(l,n.memoizedState)||(xt=!0),n.memoizedState=l,n.baseState=v,n.baseQueue=T,r.lastRenderedState=l}if(e=r.interleaved,e!==null){d=e;do h=d.lane,We.lanes|=h,xr|=h,d=d.next;while(d!==e)}else d===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function ka(e){var n=Ft(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,d=r.pending,h=n.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=e(h,v.action),v=v.next;while(v!==d);Kt(h,n.memoizedState)||(xt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function hd(){}function md(e,n){var r=We,l=Ft(),d=n(),h=!Kt(l.memoizedState,d);if(h&&(l.memoizedState=d,xt=!0),l=l.queue,ja(vd.bind(null,r,l,e),[e]),l.getSnapshot!==n||h||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,Go(9,yd.bind(null,r,l,d,n),void 0,null),rt===null)throw Error(s(349));(vr&30)!==0||gd(r,n,d)}return d}function gd(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function yd(e,n,r,l){n.value=r,n.getSnapshot=l,xd(n)&&wd(e)}function vd(e,n,r){return r(function(){xd(n)&&wd(e)})}function xd(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Kt(e,r)}catch{return!0}}function wd(e){var n=Pn(e,1);n!==null&&Jt(n,e,1,-1)}function Nd(e){var n=fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},n.queue=e,e=e.dispatch=gg.bind(null,We,e),[n.memoizedState,e]}function Go(e,n,r,l){return e={tag:e,create:n,destroy:r,deps:l,next:null},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e)),e}function Sd(){return Ft().memoizedState}function vl(e,n,r,l){var d=fn();We.flags|=e,d.memoizedState=Go(1|n,r,void 0,l===void 0?null:l)}function xl(e,n,r,l){var d=Ft();l=l===void 0?null:l;var h=void 0;if(Je!==null){var v=Je.memoizedState;if(h=v.destroy,l!==null&&xa(l,v.deps)){d.memoizedState=Go(n,r,h,l);return}}We.flags|=e,d.memoizedState=Go(1|n,r,h,l)}function kd(e,n){return vl(8390656,8,e,n)}function ja(e,n){return xl(2048,8,e,n)}function jd(e,n){return xl(4,2,e,n)}function _d(e,n){return xl(4,4,e,n)}function Pd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ed(e,n,r){return r=r!=null?r.concat([e]):null,xl(4,4,Pd.bind(null,n,e),r)}function _a(){}function Cd(e,n){var r=Ft();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&xa(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Md(e,n){var r=Ft();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&xa(n,l[1])?l[0]:(e=e(),r.memoizedState=[e,n],e)}function bd(e,n,r){return(vr&21)===0?(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=r):(Kt(r,n)||(r=lc(),We.lanes|=r,xr|=r,e.baseState=!0),n)}function hg(e,n){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var l=va.transition;va.transition={};try{e(!1),n()}finally{ze=r,va.transition=l}}function Id(){return Ft().memoizedState}function mg(e,n,r){var l=Jn(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},Td(e))Ld(n,r);else if(r=ud(e,n,r,l),r!==null){var d=mt();Jt(r,e,l,d),zd(r,n,l)}}function gg(e,n,r){var l=Jn(e),d={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Ld(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,_=h(v,r);if(d.hasEagerState=!0,d.eagerState=_,Kt(_,v)){var T=n.interleaved;T===null?(d.next=d,fa(n)):(d.next=T.next,T.next=d),n.interleaved=d;return}}catch{}finally{}r=ud(e,n,d,l),r!==null&&(d=mt(),Jt(r,e,l,d),zd(r,n,l))}}function Td(e){var n=e.alternate;return e===We||n!==null&&n===We}function Ld(e,n){Wo=yl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function zd(e,n,r){if((r&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Ei(e,r)}}var wl={readContext:Dt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},yg={readContext:Dt,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Dt,useEffect:kd,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,vl(4194308,4,Pd.bind(null,n,e),r)},useLayoutEffect:function(e,n){return vl(4194308,4,e,n)},useInsertionEffect:function(e,n){return vl(4,2,e,n)},useMemo:function(e,n){var r=fn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var l=fn();return n=r!==void 0?r(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=mg.bind(null,We,e),[l.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:Nd,useDebugValue:_a,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Nd(!1),n=e[0];return e=hg.bind(null,e[1]),fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var l=We,d=fn();if(Oe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),rt===null)throw Error(s(349));(vr&30)!==0||gd(l,n,r)}d.memoizedState=r;var h={value:r,getSnapshot:n};return d.queue=h,kd(vd.bind(null,l,h,e),[e]),l.flags|=2048,Go(9,yd.bind(null,l,h,r,n),void 0,null),r},useId:function(){var e=fn(),n=rt.identifierPrefix;if(Oe){var r=_n,l=jn;r=(l&~(1<<32-Gt(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Uo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=pg++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},vg={readContext:Dt,useCallback:Cd,useContext:Dt,useEffect:ja,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:_d,useMemo:Md,useReducer:Sa,useRef:Sd,useState:function(){return Sa(qo)},useDebugValue:_a,useDeferredValue:function(e){var n=Ft();return bd(n,Je.memoizedState,e)},useTransition:function(){var e=Sa(qo)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:hd,useSyncExternalStore:md,useId:Id,unstable_isNewReconciler:!1},xg={readContext:Dt,useCallback:Cd,useContext:Dt,useEffect:ja,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:_d,useMemo:Md,useReducer:ka,useRef:Sd,useState:function(){return ka(qo)},useDebugValue:_a,useDeferredValue:function(e){var n=Ft();return Je===null?n.memoizedState=e:bd(n,Je.memoizedState,e)},useTransition:function(){var e=ka(qo)[0],n=Ft().memoizedState;return[e,n]},useMutableSource:hd,useSyncExternalStore:md,useId:Id,unstable_isNewReconciler:!1};function Xt(e,n){if(e&&e.defaultProps){n=O({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Pa(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:O({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nl={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var l=mt(),d=Jn(e),h=En(l,d);h.payload=n,r!=null&&(h.callback=r),n=Yn(e,h,d),n!==null&&(Jt(n,e,d,l),pl(n,e,d))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=mt(),d=Jn(e),h=En(l,d);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Yn(e,h,d),n!==null&&(Jt(n,e,d,l),pl(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=mt(),l=Jn(e),d=En(r,l);d.tag=2,n!=null&&(d.callback=n),n=Yn(e,d,l),n!==null&&(Jt(n,e,l,r),pl(n,e,l))}};function Dd(e,n,r,l,d,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,l)||!Lo(d,h):!0}function Fd(e,n,r){var l=!1,d=qn,h=n.contextType;return typeof h=="object"&&h!==null?h=Dt(h):(d=vt(n)?pr:ut.current,l=n.contextTypes,h=(l=l!=null)?Ur(e,d):qn),n=new n(r,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Nl,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),n}function $d(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Nl.enqueueReplaceState(n,n.state,null)}function Ea(e,n,r,l){var d=e.stateNode;d.props=r,d.state=e.memoizedState,d.refs={},pa(e);var h=n.contextType;typeof h=="object"&&h!==null?d.context=Dt(h):(h=vt(n)?pr:ut.current,d.context=Ur(e,h)),d.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Pa(e,n,h,r),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Nl.enqueueReplaceState(d,d.state,null),hl(e,r,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,n){try{var r="",l=n;do r+=ue(l),l=l.return;while(l);var d=r}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:d,digest:null}}function Ca(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Ma(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var wg=typeof WeakMap=="function"?WeakMap:Map;function Rd(e,n,r){r=En(-1,r),r.tag=3,r.payload={element:null};var l=n.value;return r.callback=function(){Cl||(Cl=!0,Wa=l),Ma(e,n)},r}function Ad(e,n,r){r=En(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;r.payload=function(){return l(d)},r.callback=function(){Ma(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){Ma(e,n),typeof l!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),r}function Od(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new wg;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(r)||(d.add(r),e=zg.bind(null,e,n,r),n.then(e,e))}function Vd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Hd(e,n,r,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=En(-1,1),n.tag=2,Yn(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Ng=P.ReactCurrentOwner,xt=!1;function ht(e,n,r,l){n.child=e===null?ad(n,null,r,l):Yr(n,e.child,r,l)}function Bd(e,n,r,l,d){r=r.render;var h=n.ref;return Qr(n,d),l=wa(e,n,r,l,h,d),r=Na(),e!==null&&!xt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Cn(e,n,d)):(Oe&&r&&ra(n),n.flags|=1,ht(e,n,l,d),n.child)}function Wd(e,n,r,l,d){if(e===null){var h=r.type;return typeof h=="function"&&!Qa(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=h,Ud(e,n,h,l,d)):(e=zl(r.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,(e.lanes&d)===0){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(v,l)&&e.ref===n.ref)return Cn(e,n,d)}return n.flags|=1,e=tr(h,l),e.ref=n.ref,e.return=n,n.child=e}function Ud(e,n,r,l,d){if(e!==null){var h=e.memoizedProps;if(Lo(h,l)&&e.ref===n.ref)if(xt=!1,n.pendingProps=l=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(xt=!0);else return n.lanes=e.lanes,Cn(e,n,d)}return ba(e,n,r,l,d)}function qd(e,n,r){var l=n.pendingProps,d=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(to,Et),Et|=r;else{if((r&1073741824)===0)return e=h!==null?h.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Fe(to,Et),Et|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:r,Fe(to,Et),Et|=l}else h!==null?(l=h.baseLanes|r,n.memoizedState=null):l=r,Fe(to,Et),Et|=l;return ht(e,n,d,r),n.child}function Gd(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function ba(e,n,r,l,d){var h=vt(r)?pr:ut.current;return h=Ur(n,h),Qr(n,d),r=wa(e,n,r,l,h,d),l=Na(),e!==null&&!xt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Cn(e,n,d)):(Oe&&l&&ra(n),n.flags|=1,ht(e,n,r,d),n.child)}function Kd(e,n,r,l,d){if(vt(r)){var h=!0;sl(n)}else h=!1;if(Qr(n,d),n.stateNode===null)kl(e,n),Fd(n,r,l),Ea(n,r,l,d),l=!0;else if(e===null){var v=n.stateNode,_=n.memoizedProps;v.props=_;var T=v.context,G=r.contextType;typeof G=="object"&&G!==null?G=Dt(G):(G=vt(r)?pr:ut.current,G=Ur(n,G));var se=r.getDerivedStateFromProps,ie=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function";ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==l||T!==G)&&$d(n,v,l,G),Kn=!1;var oe=n.memoizedState;v.state=oe,hl(n,l,v,d),T=n.memoizedState,_!==l||oe!==T||yt.current||Kn?(typeof se=="function"&&(Pa(n,r,se,l),T=n.memoizedState),(_=Kn||Dd(n,r,_,l,oe,T,G))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=T),v.props=l,v.state=T,v.context=G,l=_):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,cd(e,n),_=n.memoizedProps,G=n.type===n.elementType?_:Xt(n.type,_),v.props=G,ie=n.pendingProps,oe=v.context,T=r.contextType,typeof T=="object"&&T!==null?T=Dt(T):(T=vt(r)?pr:ut.current,T=Ur(n,T));var pe=r.getDerivedStateFromProps;(se=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==ie||oe!==T)&&$d(n,v,l,T),Kn=!1,oe=n.memoizedState,v.state=oe,hl(n,l,v,d);var me=n.memoizedState;_!==ie||oe!==me||yt.current||Kn?(typeof pe=="function"&&(Pa(n,r,pe,l),me=n.memoizedState),(G=Kn||Dd(n,r,G,l,oe,me,T)||!1)?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,me,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,me,T)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=me),v.props=l,v.state=me,v.context=T,l=G):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),l=!1)}return Ia(e,n,r,l,h,d)}function Ia(e,n,r,l,d,h){Gd(e,n);var v=(n.flags&128)!==0;if(!l&&!v)return d&&Jc(n,r,!1),Cn(e,n,h);l=n.stateNode,Ng.current=n;var _=v&&typeof r.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&v?(n.child=Yr(n,e.child,null,h),n.child=Yr(n,null,_,h)):ht(e,n,_,h),n.memoizedState=l.state,d&&Jc(n,r,!0),n.child}function Yd(e){var n=e.stateNode;n.pendingContext?Qc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Qc(e,n.context,!1),ha(e,n.containerInfo)}function Xd(e,n,r,l,d){return Kr(),ia(d),n.flags|=256,ht(e,n,r,l),n.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qd(e,n,r){var l=n.pendingProps,d=Be.current,h=!1,v=(n.flags&128)!==0,_;if((_=v)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Fe(Be,d&1),e===null)return la(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(v=l.children,e=l.fallback,h?(l=n.mode,h=n.child,v={mode:"hidden",children:v},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Dl(v,l,0,null),e=kr(e,l,r,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=La(r),n.memoizedState=Ta,e):za(n,v));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return Sg(e,n,v,l,_,d,r);if(h){h=l.fallback,v=n.mode,d=e.child,_=d.sibling;var T={mode:"hidden",children:l.children};return(v&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=T,n.deletions=null):(l=tr(d,T),l.subtreeFlags=d.subtreeFlags&14680064),_!==null?h=tr(_,h):(h=kr(h,v,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,v=e.child.memoizedState,v=v===null?La(r):{baseLanes:v.baseLanes|r,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~r,n.memoizedState=Ta,l}return h=e.child,e=h.sibling,l=tr(h,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=r),l.return=n,l.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=l,n.memoizedState=null,l}function za(e,n){return n=Dl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Sl(e,n,r,l){return l!==null&&ia(l),Yr(n,e.child,null,r),e=za(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sg(e,n,r,l,d,h,v){if(r)return n.flags&256?(n.flags&=-257,l=Ca(Error(s(422))),Sl(e,n,v,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,d=n.mode,l=Dl({mode:"visible",children:l.children},d,0,null),h=kr(h,d,v,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,(n.mode&1)!==0&&Yr(n,e.child,null,v),n.child.memoizedState=La(v),n.memoizedState=Ta,h);if((n.mode&1)===0)return Sl(e,n,v,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var _=l.dgst;return l=_,h=Error(s(419)),l=Ca(h,l,void 0),Sl(e,n,v,l)}if(_=(v&e.childLanes)!==0,xt||_){if(l=rt,l!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|v))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Pn(e,d),Jt(l,e,d,-1))}return Xa(),l=Ca(Error(s(421))),Sl(e,n,v,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Dg.bind(null,e),d._reactRetry=n,null):(e=h.treeContext,Pt=Wn(d.nextSibling),_t=n,Oe=!0,Yt=null,e!==null&&(Lt[zt++]=jn,Lt[zt++]=_n,Lt[zt++]=hr,jn=e.id,_n=e.overflow,hr=n),n=za(n,l.children),n.flags|=4096,n)}function Zd(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),da(e.return,n,r)}function Da(e,n,r,l,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=d)}function Jd(e,n,r){var l=n.pendingProps,d=l.revealOrder,h=l.tail;if(ht(e,n,l.children,r),l=Be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,r,n);else if(e.tag===19)Zd(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Fe(Be,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&ml(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),Da(n,!1,d,r,h);break;case"backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ml(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Da(n,!0,r,null,h);break;case"together":Da(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function kl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Cn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),xr|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=tr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function kg(e,n,r){switch(n.tag){case 3:Yd(n),Kr();break;case 5:pd(n);break;case 1:vt(n.type)&&sl(n);break;case 4:ha(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;Fe(dl,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Fe(Be,Be.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Qd(e,n,r):(Fe(Be,Be.current&1),e=Cn(e,n,r),e!==null?e.sibling:null);Fe(Be,Be.current&1);break;case 19:if(l=(r&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Jd(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Fe(Be,Be.current),l)break;return null;case 22:case 23:return n.lanes=0,qd(e,n,r)}return Cn(e,n,r)}var ef,Fa,tf,nf;ef=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Fa=function(){},tf=function(e,n,r,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,yr(dn.current);var h=null;switch(r){case"input":d=Le(e,d),l=Le(e,l),h=[];break;case"select":d=O({},d,{value:void 0}),l=O({},l,{value:void 0}),h=[];break;case"textarea":d=rn(e,d),l=rn(e,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=nl)}gt(r,l);var v;r=null;for(G in d)if(!l.hasOwnProperty(G)&&d.hasOwnProperty(G)&&d[G]!=null)if(G==="style"){var _=d[G];for(v in _)_.hasOwnProperty(v)&&(r||(r={}),r[v]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(u.hasOwnProperty(G)?h||(h=[]):(h=h||[]).push(G,null));for(G in l){var T=l[G];if(_=d?.[G],l.hasOwnProperty(G)&&T!==_&&(T!=null||_!=null))if(G==="style")if(_){for(v in _)!_.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(r||(r={}),r[v]="");for(v in T)T.hasOwnProperty(v)&&_[v]!==T[v]&&(r||(r={}),r[v]=T[v])}else r||(h||(h=[]),h.push(G,r)),r=T;else G==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,_=_?_.__html:void 0,T!=null&&_!==T&&(h=h||[]).push(G,T)):G==="children"?typeof T!="string"&&typeof T!="number"||(h=h||[]).push(G,""+T):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(u.hasOwnProperty(G)?(T!=null&&G==="onScroll"&&Re("scroll",e),h||_===T||(h=[])):(h=h||[]).push(G,T))}r&&(h=h||[]).push("style",r);var G=h;(n.updateQueue=G)&&(n.flags|=4)}},nf=function(e,n,r,l){r!==l&&(n.flags|=4)};function Ko(e,n){if(!Oe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function jg(e,n,r){var l=n.pendingProps;switch(oa(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return vt(n.type)&&ol(),dt(n),null;case 3:return l=n.stateNode,Zr(),Ae(yt),Ae(ut),ya(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ul(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yt!==null&&(Ga(Yt),Yt=null))),Fa(e,n),dt(n),null;case 5:ma(n);var d=yr(Bo.current);if(r=n.type,e!==null&&n.stateNode!=null)tf(e,n,r,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return dt(n),null}if(e=yr(dn.current),ul(n)){l=n.stateNode,r=n.type;var h=n.memoizedProps;switch(l[cn]=n,l[Ro]=h,e=(n.mode&1)!==0,r){case"dialog":Re("cancel",l),Re("close",l);break;case"iframe":case"object":case"embed":Re("load",l);break;case"video":case"audio":for(d=0;d<Do.length;d++)Re(Do[d],l);break;case"source":Re("error",l);break;case"img":case"image":case"link":Re("error",l),Re("load",l);break;case"details":Re("toggle",l);break;case"input":be(l,h),Re("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Re("invalid",l);break;case"textarea":gn(l,h),Re("invalid",l)}gt(r,h),d=null;for(var v in h)if(h.hasOwnProperty(v)){var _=h[v];v==="children"?typeof _=="string"?l.textContent!==_&&(h.suppressHydrationWarning!==!0&&tl(l.textContent,_,e),d=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&tl(l.textContent,_,e),d=["children",""+_]):u.hasOwnProperty(v)&&_!=null&&v==="onScroll"&&Re("scroll",l)}switch(r){case"input":we(l),xe(l,h,!0);break;case"textarea":we(l),yn(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=nl)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=on(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(r,{is:l.is}):(e=v.createElement(r),r==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,r),e[cn]=n,e[Ro]=l,ef(e,n,!1,!1),n.stateNode=e;e:{switch(v=qt(r,l),r){case"dialog":Re("cancel",e),Re("close",e),d=l;break;case"iframe":case"object":case"embed":Re("load",e),d=l;break;case"video":case"audio":for(d=0;d<Do.length;d++)Re(Do[d],e);d=l;break;case"source":Re("error",e),d=l;break;case"img":case"image":case"link":Re("error",e),Re("load",e),d=l;break;case"details":Re("toggle",e),d=l;break;case"input":be(e,l),d=Le(e,l),Re("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=O({},l,{value:void 0}),Re("invalid",e);break;case"textarea":gn(e,l),d=rn(e,l),Re("invalid",e);break;default:d=l}gt(r,d),_=d;for(h in _)if(_.hasOwnProperty(h)){var T=_[h];h==="style"?ln(e,T):h==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&vn(e,T)):h==="children"?typeof T=="string"?(r!=="textarea"||T!=="")&&Ut(e,T):typeof T=="number"&&Ut(e,""+T):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(u.hasOwnProperty(h)?T!=null&&h==="onScroll"&&Re("scroll",e):T!=null&&U(e,h,T,v))}switch(r){case"input":we(e),xe(e,l,!1);break;case"textarea":we(e),yn(e);break;case"option":l.value!=null&&e.setAttribute("value",""+re(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Mt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Mt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=nl)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return dt(n),null;case 6:if(e&&n.stateNode!=null)nf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(r=yr(Bo.current),yr(dn.current),ul(n)){if(l=n.stateNode,r=n.memoizedProps,l[cn]=n,(h=l.nodeValue!==r)&&(e=_t,e!==null))switch(e.tag){case 3:tl(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(l.nodeValue,r,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[cn]=n,n.stateNode=l}return dt(n),null;case 13:if(Ae(Be),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Pt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)sd(),Kr(),n.flags|=98560,h=!1;else if(h=ul(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[cn]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else Yt!==null&&(Ga(Yt),Yt=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Be.current&1)!==0?et===0&&(et=3):Xa())),n.updateQueue!==null&&(n.flags|=4),dt(n),null);case 4:return Zr(),Fa(e,n),e===null&&Fo(n.stateNode.containerInfo),dt(n),null;case 10:return ca(n.type._context),dt(n),null;case 17:return vt(n.type)&&ol(),dt(n),null;case 19:if(Ae(Be),h=n.memoizedState,h===null)return dt(n),null;if(l=(n.flags&128)!==0,v=h.rendering,v===null)if(l)Ko(h,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=ml(e),v!==null){for(n.flags|=128,Ko(h,!1),l=v.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=r,r=n.child;r!==null;)h=r,e=l,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Be,Be.current&1|2),n.child}e=e.sibling}h.tail!==null&&He()>no&&(n.flags|=128,l=!0,Ko(h,!1),n.lanes=4194304)}else{if(!l)if(e=ml(v),e!==null){if(n.flags|=128,l=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Oe)return dt(n),null}else 2*He()-h.renderingStartTime>no&&r!==1073741824&&(n.flags|=128,l=!0,Ko(h,!1),n.lanes=4194304);h.isBackwards?(v.sibling=n.child,n.child=v):(r=h.last,r!==null?r.sibling=v:n.child=v,h.last=v)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=He(),n.sibling=null,r=Be.current,Fe(Be,l?r&1|2:r&1),n):(dt(n),null);case 22:case 23:return Ya(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Et&1073741824)!==0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function _g(e,n){switch(oa(n),n.tag){case 1:return vt(n.type)&&ol(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zr(),Ae(yt),Ae(ut),ya(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return ma(n),null;case 13:if(Ae(Be),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ae(Be),null;case 4:return Zr(),null;case 10:return ca(n.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var jl=!1,ft=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,he=null;function eo(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Ge(e,n,l)}else r.current=null}function $a(e,n,r){try{r()}catch(l){Ge(e,n,l)}}var rf=!1;function Eg(e,n){if(Yi=Ws,e=Dc(),Vi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,_=-1,T=-1,G=0,se=0,ie=e,oe=null;t:for(;;){for(var pe;ie!==r||d!==0&&ie.nodeType!==3||(_=v+d),ie!==h||l!==0&&ie.nodeType!==3||(T=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)oe=ie,ie=pe;for(;;){if(ie===e)break t;if(oe===r&&++G===d&&(_=v),oe===h&&++se===l&&(T=v),(pe=ie.nextSibling)!==null)break;ie=oe,oe=ie.parentNode}ie=pe}r=_===-1||T===-1?null:{start:_,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xi={focusedElem:e,selectionRange:r},Ws=!1,he=n;he!==null;)if(n=he,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,he=e;else for(;he!==null;){n=he;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,Ye=me.memoizedState,V=n.stateNode,z=V.getSnapshotBeforeUpdate(n.elementType===n.type?ye:Xt(n.type,ye),Ye);V.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ae){Ge(n,n.return,ae)}if(e=n.sibling,e!==null){e.return=n.return,he=e;break}he=n.return}return me=rf,rf=!1,me}function Yo(e,n,r){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&$a(n,r,h)}d=d.next}while(d!==l)}}function _l(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==n)}}function Ra(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function of(e){var n=e.alternate;n!==null&&(e.alternate=null,of(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[cn],delete n[Ro],delete n[ea],delete n[ug],delete n[cg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sf(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aa(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=nl));else if(l!==4&&(e=e.child,e!==null))for(Aa(e,n,r),e=e.sibling;e!==null;)Aa(e,n,r),e=e.sibling}function Oa(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Oa(e,n,r),e=e.sibling;e!==null;)Oa(e,n,r),e=e.sibling}var lt=null,Qt=!1;function Xn(e,n,r){for(r=r.child;r!==null;)af(e,n,r),r=r.sibling}function af(e,n,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dr,r)}catch{}switch(r.tag){case 5:ft||eo(r,n);case 6:var l=lt,d=Qt;lt=null,Xn(e,n,r),lt=l,Qt=d,lt!==null&&(Qt?(e=lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lt.removeChild(r.stateNode));break;case 18:lt!==null&&(Qt?(e=lt,r=r.stateNode,e.nodeType===8?Ji(e.parentNode,r):e.nodeType===1&&Ji(e,r),Eo(e)):Ji(lt,r.stateNode));break;case 4:l=lt,d=Qt,lt=r.stateNode.containerInfo,Qt=!0,Xn(e,n,r),lt=l,Qt=d;break;case 0:case 11:case 14:case 15:if(!ft&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&$a(r,n,v),d=d.next}while(d!==l)}Xn(e,n,r);break;case 1:if(!ft&&(eo(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(_){Ge(r,n,_)}Xn(e,n,r);break;case 21:Xn(e,n,r);break;case 22:r.mode&1?(ft=(l=ft)||r.memoizedState!==null,Xn(e,n,r),ft=l):Xn(e,n,r);break;default:Xn(e,n,r)}}function uf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Pg),n.forEach(function(l){var d=Fg.bind(null,e,l);r.has(l)||(r.add(l),l.then(d,d))})}}function Zt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];try{var h=e,v=n,_=v;e:for(;_!==null;){switch(_.tag){case 5:lt=_.stateNode,Qt=!1;break e;case 3:lt=_.stateNode.containerInfo,Qt=!0;break e;case 4:lt=_.stateNode.containerInfo,Qt=!0;break e}_=_.return}if(lt===null)throw Error(s(160));af(h,v,d),lt=null,Qt=!1;var T=d.alternate;T!==null&&(T.return=null),d.return=null}catch(G){Ge(d,n,G)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)cf(n,e),n=n.sibling}function cf(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(n,e),pn(e),l&4){try{Yo(3,e,e.return),_l(3,e)}catch(ye){Ge(e,e.return,ye)}try{Yo(5,e,e.return)}catch(ye){Ge(e,e.return,ye)}}break;case 1:Zt(n,e),pn(e),l&512&&r!==null&&eo(r,r.return);break;case 5:if(Zt(n,e),pn(e),l&512&&r!==null&&eo(r,r.return),e.flags&32){var d=e.stateNode;try{Ut(d,"")}catch(ye){Ge(e,e.return,ye)}}if(l&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,v=r!==null?r.memoizedProps:h,_=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&Xe(d,h),qt(_,v);var G=qt(_,h);for(v=0;v<T.length;v+=2){var se=T[v],ie=T[v+1];se==="style"?ln(d,ie):se==="dangerouslySetInnerHTML"?vn(d,ie):se==="children"?Ut(d,ie):U(d,se,ie,G)}switch(_){case"input":Ie(d,h);break;case"textarea":bt(d,h);break;case"select":var oe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var pe=h.value;pe!=null?Mt(d,!!h.multiple,pe,!1):oe!==!!h.multiple&&(h.defaultValue!=null?Mt(d,!!h.multiple,h.defaultValue,!0):Mt(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ro]=h}catch(ye){Ge(e,e.return,ye)}}break;case 6:if(Zt(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(ye){Ge(e,e.return,ye)}}break;case 3:if(Zt(n,e),pn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(n.containerInfo)}catch(ye){Ge(e,e.return,ye)}break;case 4:Zt(n,e),pn(e);break;case 13:Zt(n,e),pn(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Ba=He())),l&4&&uf(e);break;case 22:if(se=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(G=ft)||se,Zt(n,e),ft=G):Zt(n,e),pn(e),l&8192){if(G=e.memoizedState!==null,(e.stateNode.isHidden=G)&&!se&&(e.mode&1)!==0)for(he=e,se=e.child;se!==null;){for(ie=he=se;he!==null;){switch(oe=he,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:Yo(4,oe,oe.return);break;case 1:eo(oe,oe.return);var me=oe.stateNode;if(typeof me.componentWillUnmount=="function"){l=oe,r=oe.return;try{n=l,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(ye){Ge(l,r,ye)}}break;case 5:eo(oe,oe.return);break;case 22:if(oe.memoizedState!==null){pf(ie);continue}}pe!==null?(pe.return=oe,he=pe):pf(ie)}se=se.sibling}e:for(se=null,ie=e;;){if(ie.tag===5){if(se===null){se=ie;try{d=ie.stateNode,G?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=ie.stateNode,T=ie.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,_.style.display=sn("display",v))}catch(ye){Ge(e,e.return,ye)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(ye){Ge(e,e.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===e)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===e)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===e)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Zt(n,e),pn(e),l&4&&uf(e);break;case 21:break;default:Zt(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(sf(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Ut(d,""),l.flags&=-33);var h=lf(e);Oa(e,h,d);break;case 3:case 4:var v=l.stateNode.containerInfo,_=lf(e);Aa(e,_,v);break;default:throw Error(s(161))}}catch(T){Ge(e,e.return,T)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cg(e,n,r){he=e,df(e)}function df(e,n,r){for(var l=(e.mode&1)!==0;he!==null;){var d=he,h=d.child;if(d.tag===22&&l){var v=d.memoizedState!==null||jl;if(!v){var _=d.alternate,T=_!==null&&_.memoizedState!==null||ft;_=jl;var G=ft;if(jl=v,(ft=T)&&!G)for(he=d;he!==null;)v=he,T=v.child,v.tag===22&&v.memoizedState!==null?hf(d):T!==null?(T.return=v,he=T):hf(d);for(;h!==null;)he=h,df(h),h=h.sibling;he=d,jl=_,ft=G}ff(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,he=h):ff(e)}}function ff(e){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ft||_l(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!ft)if(r===null)l.componentDidMount();else{var d=n.elementType===n.type?r.memoizedProps:Xt(n.type,r.memoizedProps);l.componentDidUpdate(d,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&fd(n,h,l);break;case 3:var v=n.updateQueue;if(v!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}fd(n,v,r)}break;case 5:var _=n.stateNode;if(r===null&&n.flags&4){r=_;var T=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&r.focus();break;case"img":T.src&&(r.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var G=n.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Eo(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ft||n.flags&512&&Ra(n)}catch(oe){Ge(n,n.return,oe)}}if(n===e){he=null;break}if(r=n.sibling,r!==null){r.return=n.return,he=r;break}he=n.return}}function pf(e){for(;he!==null;){var n=he;if(n===e){he=null;break}var r=n.sibling;if(r!==null){r.return=n.return,he=r;break}he=n.return}}function hf(e){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{_l(4,n)}catch(T){Ge(n,r,T)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(T){Ge(n,d,T)}}var h=n.return;try{Ra(n)}catch(T){Ge(n,h,T)}break;case 5:var v=n.return;try{Ra(n)}catch(T){Ge(n,v,T)}}}catch(T){Ge(n,n.return,T)}if(n===e){he=null;break}var _=n.sibling;if(_!==null){_.return=n.return,he=_;break}he=n.return}}var Mg=Math.ceil,Pl=P.ReactCurrentDispatcher,Va=P.ReactCurrentOwner,$t=P.ReactCurrentBatchConfig,Ce=0,rt=null,Qe=null,it=0,Et=0,to=Un(0),et=0,Xo=null,xr=0,El=0,Ha=0,Qo=null,wt=null,Ba=0,no=1/0,Mn=null,Cl=!1,Wa=null,Qn=null,Ml=!1,Zn=null,bl=0,Zo=0,Ua=null,Il=-1,Tl=0;function mt(){return(Ce&6)!==0?He():Il!==-1?Il:Il=He()}function Jn(e){return(e.mode&1)===0?1:(Ce&2)!==0&&it!==0?it&-it:fg.transition!==null?(Tl===0&&(Tl=lc()),Tl):(e=ze,e!==0||(e=window.event,e=e===void 0?16:mc(e.type)),e)}function Jt(e,n,r,l){if(50<Zo)throw Zo=0,Ua=null,Error(s(185));So(e,r,l),((Ce&2)===0||e!==rt)&&(e===rt&&((Ce&2)===0&&(El|=r),et===4&&er(e,it)),Nt(e,l),r===1&&Ce===0&&(n.mode&1)===0&&(no=He()+500,ll&&Gn()))}function Nt(e,n){var r=e.callbackNode;fm(e,n);var l=Vs(e,e===rt?it:0);if(l===0)r!==null&&zs(r),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(r!=null&&zs(r),n===1)e.tag===0?dg(gf.bind(null,e)):ed(gf.bind(null,e)),ig(function(){(Ce&6)===0&&Gn()}),r=null;else{switch(ic(l)){case 1:r=xo;break;case 4:r=Fs;break;case 16:r=zr;break;case 536870912:r=Rs;break;default:r=zr}r=jf(r,mf.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function mf(e,n){if(Il=-1,Tl=0,(Ce&6)!==0)throw Error(s(327));var r=e.callbackNode;if(ro()&&e.callbackNode!==r)return null;var l=Vs(e,e===rt?it:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Ll(e,l);else{n=l;var d=Ce;Ce|=2;var h=vf();(rt!==e||it!==n)&&(Mn=null,no=He()+500,Nr(e,n));do try{Tg();break}catch(_){yf(e,_)}while(!0);ua(),Pl.current=h,Ce=d,Qe!==null?n=0:(rt=null,it=0,n=et)}if(n!==0){if(n===2&&(d=_i(e),d!==0&&(l=d,n=qa(e,d))),n===1)throw r=Xo,Nr(e,0),er(e,l),Nt(e,He()),r;if(n===6)er(e,l);else{if(d=e.current.alternate,(l&30)===0&&!bg(d)&&(n=Ll(e,l),n===2&&(h=_i(e),h!==0&&(l=h,n=qa(e,h))),n===1))throw r=Xo,Nr(e,0),er(e,l),Nt(e,He()),r;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:Sr(e,wt,Mn);break;case 3:if(er(e,l),(l&130023424)===l&&(n=Ba+500-He(),10<n)){if(Vs(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){mt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Zi(Sr.bind(null,e,wt,Mn),n);break}Sr(e,wt,Mn);break;case 4:if(er(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var v=31-Gt(l);h=1<<v,v=n[v],v>d&&(d=v),l&=~h}if(l=d,l=He()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Mg(l/1960))-l,10<l){e.timeoutHandle=Zi(Sr.bind(null,e,wt,Mn),l);break}Sr(e,wt,Mn);break;case 5:Sr(e,wt,Mn);break;default:throw Error(s(329))}}}return Nt(e,He()),e.callbackNode===r?mf.bind(null,e):null}function qa(e,n){var r=Qo;return e.current.memoizedState.isDehydrated&&(Nr(e,n).flags|=256),e=Ll(e,n),e!==2&&(n=wt,wt=r,n!==null&&Ga(n)),e}function Ga(e){wt===null?wt=e:wt.push.apply(wt,e)}function bg(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!Kt(h(),d))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(e,n){for(n&=~Ha,n&=~El,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Gt(n),l=1<<r;e[r]=-1,n&=~l}}function gf(e){if((Ce&6)!==0)throw Error(s(327));ro();var n=Vs(e,0);if((n&1)===0)return Nt(e,He()),null;var r=Ll(e,n);if(e.tag!==0&&r===2){var l=_i(e);l!==0&&(n=l,r=qa(e,l))}if(r===1)throw r=Xo,Nr(e,0),er(e,n),Nt(e,He()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Sr(e,wt,Mn),Nt(e,He()),null}function Ka(e,n){var r=Ce;Ce|=1;try{return e(n)}finally{Ce=r,Ce===0&&(no=He()+500,ll&&Gn())}}function wr(e){Zn!==null&&Zn.tag===0&&(Ce&6)===0&&ro();var n=Ce;Ce|=1;var r=$t.transition,l=ze;try{if($t.transition=null,ze=1,e)return e()}finally{ze=l,$t.transition=r,Ce=n,(Ce&6)===0&&Gn()}}function Ya(){Et=to.current,Ae(to)}function Nr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lg(r)),Qe!==null)for(r=Qe.return;r!==null;){var l=r;switch(oa(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ol();break;case 3:Zr(),Ae(yt),Ae(ut),ya();break;case 5:ma(l);break;case 4:Zr();break;case 13:Ae(Be);break;case 19:Ae(Be);break;case 10:ca(l.type._context);break;case 22:case 23:Ya()}r=r.return}if(rt=e,Qe=e=tr(e.current,null),it=Et=n,et=0,Xo=null,Ha=El=xr=0,wt=Qo=null,gr!==null){for(n=0;n<gr.length;n++)if(r=gr[n],l=r.interleaved,l!==null){r.interleaved=null;var d=l.next,h=r.pending;if(h!==null){var v=h.next;h.next=d,l.next=v}r.pending=l}gr=null}return e}function yf(e,n){do{var r=Qe;try{if(ua(),gl.current=wl,yl){for(var l=We.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}yl=!1}if(vr=0,nt=Je=We=null,Wo=!1,Uo=0,Va.current=null,r===null||r.return===null){et=1,Xo=n,Qe=null;break}e:{var h=e,v=r.return,_=r,T=n;if(n=it,_.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var G=T,se=_,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var oe=se.alternate;oe?(se.updateQueue=oe.updateQueue,se.memoizedState=oe.memoizedState,se.lanes=oe.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=Vd(v);if(pe!==null){pe.flags&=-257,Hd(pe,v,_,h,n),pe.mode&1&&Od(h,G,n),n=pe,T=G;var me=n.updateQueue;if(me===null){var ye=new Set;ye.add(T),n.updateQueue=ye}else me.add(T);break e}else{if((n&1)===0){Od(h,G,n),Xa();break e}T=Error(s(426))}}else if(Oe&&_.mode&1){var Ye=Vd(v);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),Hd(Ye,v,_,h,n),ia(Jr(T,_));break e}}h=T=Jr(T,_),et!==4&&(et=2),Qo===null?Qo=[h]:Qo.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var V=Rd(h,T,n);dd(h,V);break e;case 1:_=T;var z=h.type,H=h.stateNode;if((h.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Qn===null||!Qn.has(H)))){h.flags|=65536,n&=-n,h.lanes|=n;var ae=Ad(h,_,n);dd(h,ae);break e}}h=h.return}while(h!==null)}wf(r)}catch(ve){n=ve,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function vf(){var e=Pl.current;return Pl.current=wl,e===null?wl:e}function Xa(){(et===0||et===3||et===2)&&(et=4),rt===null||(xr&268435455)===0&&(El&268435455)===0||er(rt,it)}function Ll(e,n){var r=Ce;Ce|=2;var l=vf();(rt!==e||it!==n)&&(Mn=null,Nr(e,n));do try{Ig();break}catch(d){yf(e,d)}while(!0);if(ua(),Ce=r,Pl.current=l,Qe!==null)throw Error(s(261));return rt=null,it=0,et}function Ig(){for(;Qe!==null;)xf(Qe)}function Tg(){for(;Qe!==null&&!Ds();)xf(Qe)}function xf(e){var n=kf(e.alternate,e,Et);e.memoizedProps=e.pendingProps,n===null?wf(e):Qe=n,Va.current=null}function wf(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=jg(r,n,Et),r!==null){Qe=r;return}}else{if(r=_g(r,n),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Qe=null;return}}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=e}while(n!==null);et===0&&(et=5)}function Sr(e,n,r){var l=ze,d=$t.transition;try{$t.transition=null,ze=1,Lg(e,n,r,l)}finally{$t.transition=d,ze=l}return null}function Lg(e,n,r,l){do ro();while(Zn!==null);if((Ce&6)!==0)throw Error(s(327));r=e.finishedWork;var d=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(pm(e,h),e===rt&&(Qe=rt=null,it=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ml||(Ml=!0,jf(zr,function(){return ro(),null})),h=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||h){h=$t.transition,$t.transition=null;var v=ze;ze=1;var _=Ce;Ce|=4,Va.current=null,Eg(e,r),cf(r,e),Jm(Xi),Ws=!!Yi,Xi=Yi=null,e.current=r,Cg(r),ki(),Ce=_,ze=v,$t.transition=h}else e.current=r;if(Ml&&(Ml=!1,Zn=e,bl=d),h=e.pendingLanes,h===0&&(Qn=null),wo(r.stateNode),Nt(e,He()),n!==null)for(l=e.onRecoverableError,r=0;r<n.length;r++)d=n[r],l(d.value,{componentStack:d.stack,digest:d.digest});if(Cl)throw Cl=!1,e=Wa,Wa=null,e;return(bl&1)!==0&&e.tag!==0&&ro(),h=e.pendingLanes,(h&1)!==0?e===Ua?Zo++:(Zo=0,Ua=e):Zo=0,Gn(),null}function ro(){if(Zn!==null){var e=ic(bl),n=$t.transition,r=ze;try{if($t.transition=null,ze=16>e?16:e,Zn===null)var l=!1;else{if(e=Zn,Zn=null,bl=0,(Ce&6)!==0)throw Error(s(331));var d=Ce;for(Ce|=4,he=e.current;he!==null;){var h=he,v=h.child;if((he.flags&16)!==0){var _=h.deletions;if(_!==null){for(var T=0;T<_.length;T++){var G=_[T];for(he=G;he!==null;){var se=he;switch(se.tag){case 0:case 11:case 15:Yo(8,se,h)}var ie=se.child;if(ie!==null)ie.return=se,he=ie;else for(;he!==null;){se=he;var oe=se.sibling,pe=se.return;if(of(se),se===G){he=null;break}if(oe!==null){oe.return=pe,he=oe;break}he=pe}}}var me=h.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var Ye=ye.sibling;ye.sibling=null,ye=Ye}while(ye!==null)}}he=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,he=v;else e:for(;he!==null;){if(h=he,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Yo(9,h,h.return)}var V=h.sibling;if(V!==null){V.return=h.return,he=V;break e}he=h.return}}var z=e.current;for(he=z;he!==null;){v=he;var H=v.child;if((v.subtreeFlags&2064)!==0&&H!==null)H.return=v,he=H;else e:for(v=z;he!==null;){if(_=he,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:_l(9,_)}}catch(ve){Ge(_,_.return,ve)}if(_===v){he=null;break e}var ae=_.sibling;if(ae!==null){ae.return=_.return,he=ae;break e}he=_.return}}if(Ce=d,Gn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dr,e)}catch{}l=!0}return l}finally{ze=r,$t.transition=n}}return!1}function Nf(e,n,r){n=Jr(r,n),n=Rd(e,n,1),e=Yn(e,n,1),n=mt(),e!==null&&(So(e,1,n),Nt(e,n))}function Ge(e,n,r){if(e.tag===3)Nf(e,e,r);else for(;n!==null;){if(n.tag===3){Nf(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qn===null||!Qn.has(l))){e=Jr(r,e),e=Ad(n,e,1),n=Yn(n,e,1),e=mt(),n!==null&&(So(n,1,e),Nt(n,e));break}}n=n.return}}function zg(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),n=mt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(it&r)===r&&(et===4||et===3&&(it&130023424)===it&&500>He()-Ba?Nr(e,0):Ha|=r),Nt(e,n)}function Sf(e,n){n===0&&((e.mode&1)===0?n=1:(n=Os,Os<<=1,(Os&130023424)===0&&(Os=4194304)));var r=mt();e=Pn(e,n),e!==null&&(So(e,n,r),Nt(e,r))}function Dg(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Sf(e,r)}function Fg(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sf(e,r)}var kf;kf=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||yt.current)xt=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return xt=!1,kg(e,n,r);xt=(e.flags&131072)!==0}else xt=!1,Oe&&(n.flags&1048576)!==0&&td(n,al,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;kl(e,n),e=n.pendingProps;var d=Ur(n,ut.current);Qr(n,r),d=wa(null,n,l,e,d,r);var h=Na();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,vt(l)?(h=!0,sl(n)):h=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,pa(n),d.updater=Nl,n.stateNode=d,d._reactInternals=n,Ea(n,l,e,r),n=Ia(null,n,l,!0,h,r)):(n.tag=0,Oe&&h&&ra(n),ht(null,n,d,r),n=n.child),n;case 16:l=n.elementType;e:{switch(kl(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Rg(l),e=Xt(l,e),d){case 0:n=ba(null,n,l,e,r);break e;case 1:n=Kd(null,n,l,e,r);break e;case 11:n=Bd(null,n,l,e,r);break e;case 14:n=Wd(null,n,l,Xt(l.type,e),r);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),ba(e,n,l,d,r);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),Kd(e,n,l,d,r);case 3:e:{if(Yd(n),e===null)throw Error(s(387));l=n.pendingProps,h=n.memoizedState,d=h.element,cd(e,n),hl(n,l,null,r);var v=n.memoizedState;if(l=v.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){d=Jr(Error(s(423)),n),n=Xd(e,n,l,r,d);break e}else if(l!==d){d=Jr(Error(s(424)),n),n=Xd(e,n,l,r,d);break e}else for(Pt=Wn(n.stateNode.containerInfo.firstChild),_t=n,Oe=!0,Yt=null,r=ad(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),l===d){n=Cn(e,n,r);break e}ht(e,n,l,r)}n=n.child}return n;case 5:return pd(n),e===null&&la(n),l=n.type,d=n.pendingProps,h=e!==null?e.memoizedProps:null,v=d.children,Qi(l,d)?v=null:h!==null&&Qi(l,h)&&(n.flags|=32),Gd(e,n),ht(e,n,v,r),n.child;case 6:return e===null&&la(n),null;case 13:return Qd(e,n,r);case 4:return ha(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Yr(n,null,l,r):ht(e,n,l,r),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),Bd(e,n,l,d,r);case 7:return ht(e,n,n.pendingProps,r),n.child;case 8:return ht(e,n,n.pendingProps.children,r),n.child;case 12:return ht(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,h=n.memoizedProps,v=d.value,Fe(dl,l._currentValue),l._currentValue=v,h!==null)if(Kt(h.value,v)){if(h.children===d.children&&!yt.current){n=Cn(e,n,r);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var _=h.dependencies;if(_!==null){v=h.child;for(var T=_.firstContext;T!==null;){if(T.context===l){if(h.tag===1){T=En(-1,r&-r),T.tag=2;var G=h.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?T.next=T:(T.next=se.next,se.next=T),G.pending=T}}h.lanes|=r,T=h.alternate,T!==null&&(T.lanes|=r),da(h.return,r,n),_.lanes|=r;break}T=T.next}}else if(h.tag===10)v=h.type===n.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,_=v.alternate,_!==null&&(_.lanes|=r),da(v,r,n),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}ht(e,n,d.children,r),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Qr(n,r),d=Dt(d),l=l(d),n.flags|=1,ht(e,n,l,r),n.child;case 14:return l=n.type,d=Xt(l,n.pendingProps),d=Xt(l.type,d),Wd(e,n,l,d,r);case 15:return Ud(e,n,n.type,n.pendingProps,r);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Xt(l,d),kl(e,n),n.tag=1,vt(l)?(e=!0,sl(n)):e=!1,Qr(n,r),Fd(n,l,d),Ea(n,l,d,r),Ia(null,n,l,!0,e,r);case 19:return Jd(e,n,r);case 22:return qd(e,n,r)}throw Error(s(156,n.tag))};function jf(e,n){return Ls(e,n)}function $g(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,r,l){return new $g(e,n,r,l)}function Qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rg(e){if(typeof e=="function")return Qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q)return 11;if(e===R)return 14}return 2}function tr(e,n){var r=e.alternate;return r===null?(r=Rt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zl(e,n,r,l,d,h){var v=2;if(l=e,typeof e=="function")Qa(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case K:return kr(r.children,d,h,n);case Z:v=8,d|=8;break;case J:return e=Rt(12,r,n,d|2),e.elementType=J,e.lanes=h,e;case W:return e=Rt(13,r,n,d),e.elementType=W,e.lanes=h,e;case S:return e=Rt(19,r,n,d),e.elementType=S,e.lanes=h,e;case Q:return Dl(r,d,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:v=10;break e;case X:v=9;break e;case q:v=11;break e;case R:v=14;break e;case $:v=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=Rt(v,r,n,d),n.elementType=e,n.type=l,n.lanes=h,n}function kr(e,n,r,l){return e=Rt(7,e,l,n),e.lanes=r,e}function Dl(e,n,r,l){return e=Rt(22,e,l,n),e.elementType=Q,e.lanes=r,e.stateNode={isHidden:!1},e}function Za(e,n,r){return e=Rt(6,e,null,n),e.lanes=r,e}function Ja(e,n,r){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ag(e,n,r,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function eu(e,n,r,l,d,h,v,_,T){return e=new Ag(e,n,r,_,T),n===1?(n=1,h===!0&&(n|=8)):n=0,h=Rt(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(h),e}function Og(e,n,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:l==null?null:""+l,children:e,containerInfo:n,implementation:r}}function _f(e){if(!e)return qn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(vt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(vt(r))return Zc(e,r,n)}return n}function Pf(e,n,r,l,d,h,v,_,T){return e=eu(r,l,!0,e,d,h,v,_,T),e.context=_f(null),r=e.current,l=mt(),d=Jn(r),h=En(l,d),h.callback=n??null,Yn(r,h,d),e.current.lanes=d,So(e,d,l),Nt(e,l),e}function Fl(e,n,r,l){var d=n.current,h=mt(),v=Jn(d);return r=_f(r),n.context===null?n.context=r:n.pendingContext=r,n=En(h,v),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Yn(d,n,v),e!==null&&(Jt(e,d,v,h),pl(e,d,v)),v}function $l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ef(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function tu(e,n){Ef(e,n),(e=e.alternate)&&Ef(e,n)}function Vg(){return null}var Cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}Rl.prototype.render=nu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Fl(e,n,null,null)},Rl.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wr(function(){Fl(null,e,null,null)}),n[Sn]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var n=cc();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vn.length&&n!==0&&n<Vn[r].priority;r++);Vn.splice(r,0,e),r===0&&pc(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function Hg(e,n,r,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var G=$l(v);h.call(G)}}var v=Pf(n,l,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=v,e[Sn]=v.current,Fo(e.nodeType===8?e.parentNode:e),wr(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var _=l;l=function(){var G=$l(T);_.call(G)}}var T=eu(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=T,e[Sn]=T.current,Fo(e.nodeType===8?e.parentNode:e),wr(function(){Fl(n,T,r,l)}),T}function Ol(e,n,r,l,d){var h=r._reactRootContainer;if(h){var v=h;if(typeof d=="function"){var _=d;d=function(){var T=$l(v);_.call(T)}}Fl(n,v,e,d)}else v=Hg(r,n,e,d,l);return $l(v)}ac=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=No(n.pendingLanes);r!==0&&(Ei(n,r|1),Nt(n,He()),(Ce&6)===0&&(no=He()+500,Gn()))}break;case 13:wr(function(){var l=Pn(e,1);if(l!==null){var d=mt();Jt(l,e,1,d)}}),tu(e,1)}},Ci=function(e){if(e.tag===13){var n=Pn(e,134217728);if(n!==null){var r=mt();Jt(n,e,134217728,r)}tu(e,134217728)}},uc=function(e){if(e.tag===13){var n=Jn(e),r=Pn(e,n);if(r!==null){var l=mt();Jt(r,e,n,l)}tu(e,n)}},cc=function(){return ze},dc=function(e,n){var r=ze;try{return ze=e,n()}finally{ze=r}},xn=function(e,n,r){switch(n){case"input":if(Ie(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var d=rl(l);if(!d)throw Error(s(90));ke(l),Ie(l,d)}}}break;case"textarea":bt(e,r);break;case"select":n=r.value,n!=null&&Mt(e,!!r.multiple,n,!1)}},_s=Ka,Ps=wr;var Bg={usingClientEntryPoint:!1,Events:[Ao,Br,rl,ks,js,Ka]},Jo={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wg={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Is(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||Vg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{Dr=Vl.inject(Wg),Tt=Vl}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg,St.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(n))throw Error(s(200));return Og(e,n,null,r)},St.createRoot=function(e,n){if(!ru(e))throw Error(s(299));var r=!1,l="",d=Cf;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=eu(e,1,!1,null,null,r,!1,l,d),e[Sn]=n.current,Fo(e.nodeType===8?e.parentNode:e),new nu(n)},St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Is(n),e=e===null?null:e.stateNode,e},St.flushSync=function(e){return wr(e)},St.hydrate=function(e,n,r){if(!Al(n))throw Error(s(200));return Ol(null,e,n,!0,r)},St.hydrateRoot=function(e,n,r){if(!ru(e))throw Error(s(405));var l=r!=null&&r.hydratedSources||null,d=!1,h="",v=Cf;if(r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),n=Pf(n,null,e,1,r??null,d,!1,h,v),e[Sn]=n.current,Fo(e),l)for(e=0;e<l.length;e++)r=l[e],d=r._getVersion,d=d(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,d]:n.mutableSourceEagerHydrationData.push(r,d);return new Rl(n)},St.render=function(e,n,r){if(!Al(n))throw Error(s(200));return Ol(null,e,n,!1,r)},St.unmountComponentAtNode=function(e){if(!Al(e))throw Error(s(40));return e._reactRootContainer?(wr(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1},St.unstable_batchedUpdates=Ka,St.unstable_renderSubtreeIntoContainer=function(e,n,r,l){if(!Al(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ol(e,n,r,!1,l)},St.version="18.3.1-next-f1338f8080-20240426",St}var $f;function Lp(){if($f)return lu.exports;$f=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(o){console.error(o)}}return t(),lu.exports=Qg(),lu.exports}var Rf;function Zg(){if(Rf)return Hl;Rf=1;var t=Lp();return Hl.createRoot=t.createRoot,Hl.hydrateRoot=t.hydrateRoot,Hl}var Jg=Zg();const e0=Hu(Jg),At={"zh-CN":{"settings.title":"","settings.general":"","settings.basicSettings":"","settings.theme":"","settings.theme.select":"","settings.theme.dark":"","settings.language":"","settings.language.select":"","settings.language.zh-CN":"","settings.language.en-US":"English","settings.preferences":"","settings.editorSettings":"Editor","settings.editorSettings.description":"Editorword-wrapwindow","settings.editorSettings.goTo":"","settings.editor.settings":"Editor","settings.editor.description":"Editorword-wrapwindow","settings.editor.goToSettings":"","settings.about":"Cognot","settings.about.title":"Cognot","settings.about.description":"GitHub","settings.shortcutSettings":"","settings.shortcutSettings.description":"IDE","settings.shortcutSettings.goTo":"","settings.importConfig":"","settings.importConfig.description":"","settings.importConfig.import":"","settings.account":"","settings.development":"","settings.agent":"","settings.mcp":"MCP","settings.dialogFlow":"","settings.cue":"CUE","settings.model":"","settings.context":"","common.save":"","common.load":"","common.new":"","common.delete":"","common.run":"","common.stop":"","common.clear":"","common.export":"","common.import":"","common.settings":"","common.nodes":"","common.edges":"","common.workflow":"","common.propertyPanel":"","common.nodePalette":"","common.livePreview":"","common.gallery":"","common.saveWorkflow":"","common.exportWorkflow":"","common.executeWorkflow":"","common.resource":"","common.file":"","common.download":"","common.help":"","common.workflowImported":"","common.errorImporting":"","common.errorImportingWorkflow":"","common.workflowValidationFailed":"","nodePalette.title":"","nodePalette.search":"...","nodePalette.searchPlaceholder":"...","nodePalette.clearSearch":"","nodePalette.all":"","nodePalette.favorites":"","nodePalette.recent":"","nodePalette.workflows":"","nodePalette.createdAt":": ","nodePalette.workflowLoaded":"","nodePalette.confirmDeleteWorkflow":"","nodePalette.loading":"...","nodePalette.searchResults":": {{count}}","nodePalette.noResults":"","nodePalette.deletePreset":"","nodePalette.emptyPalette":"","nodePalette.Input/Output":"/","nodePalette.Text Processing":"","nodePalette.Image Generation":"","nodePalette.Video Processing":"","nodePalette.Video/Image Load":"/","nodePalette.Frame Index Manager":"","nodePalette.Optical Flow Calculator":"","nodePalette.Prompt Interpolator":"","nodePalette.Frame Processor Loop":"","nodePalette.Fusion Image":"","nodePalette.Video Composer":"","nodePalette.Image Output":"","nodePalette.Stable Diffusion Generate":"Stable Diffusion","nodePalette.Stable Diffusion Image To Image":"Stable Diffusion","nodePalette.Image Input":"","nodePalette.Image Manipulation":"","nodePalette.Save Image":"","nodePalette.VAE Decode":"VAE","nodePalette.Preview Image":"","nodePalette.Generated Image":"","nodePalette.Original Image":"","nodePalette.Fusion Mask":"","nodePalette.Fused Image":"","nodePalette.Generated Frame":"","nodePalette.Latent Output":"","nodePalette.Image":"","nodePalette.Video Info":"","nodePalette.Frame Info":"","nodePalette.Progress":"","nodePalette.Flags":"","nodePalette.Previous Frame":"","nodePalette.Current Frame":"","nodePalette.Flow Field":"","nodePalette.Motion Mask":"","nodePalette.Visualization":"","nodePalette.Interpolated Prompt":"","nodePalette.Initial Frame":"","nodePalette.Prompt":"","nodePalette.Negative Prompt":"","nodePalette.Height":"","nodePalette.Width":"","nodePalette.Inference Steps":"","nodePalette.Guidance Scale":"","nodePalette.Seed":"","nodePalette.Success":"","nodePalette.Message":"","nodePalette.Initial Image":"","nodePalette.Strength":"","nodePalette.Mask":"","nodePalette.Latent":"","nodePalette.Input":"","nodePalette.Frames":"","nodePalette.interpolationMethod":"","nodePalette.smoothness":"","nodePalette.steps":"","nodePalette.method":"","nodePalette.quality":"","nodePalette.maxFlow":"","nodePalette.showVisualization":"","nodePalette.denoiseStrength":"","nodePalette.guidanceScale":"","nodePalette.useMotionBlending":"","nodePalette.motionBlendingStrength":"","nodePalette.outputFormat":"","nodePalette.fps":" (FPS)","nodePalette.bitrate":"","nodePalette.codec":"","nodePalette.outputPath":"","nodePalette.sampler":"","nodePalette.cfGuidance":"CF","nodePalette.fusionMethod":"","nodePalette.fusionStrength":"","nodePalette.gaussianBlur":"","nodePalette.motionVector":"","nodePalette.blurStrength":"","nodePalette.imagePath":"","nodePalette.videoPath":"","nodePalette.savePath":"","nodePalette.interpolationStrength":"","nodePalette.blendRatio":"","nodePalette.maskSmoothness":"","nodePalette.preserveDetails":"","nodePalette.detailPreservationLevel":"","nodePalette.totalFrames":"","nodePalette.resolution":"","nodePalette.samplingIterations":"","nodePalette.prompt":"","nodePalette.negativePrompt":"","nodePalette.generationSteps":"","nodePalette.cfgScale":"CFG","nodePalette.strength":"","nodePalette.width":"","nodePalette.height":"","nodePalette.scheduler":"","nodePalette.seed":"","nodePalette.Video":"","nodePalette.linear":"","nodePalette.smoothstep":"","nodePalette.easeInOut":"","nodePalette.catmullRom":"Catmull-Rom","nodePalette.blendMethod":"","nodePalette.alphaBlend":"Alpha ","nodePalette.maskedBlend":"","nodePalette.laplacian":"","nodePalette.gradient":"","nodePalette.currentFrame":"","nodePalette.calculationMethod":"","nodePalette.farneback":"Farneback","nodePalette.lucasKanade":"Lucas-Kanade","nodePalette.dense":"Dense","nodePalette.qualitySetting":"","nodePalette.low":"","nodePalette.medium":"","nodePalette.high":"","nodePalette.maxFlowValue":"","nodePalette.enableMotionFusion":"","nodePalette.motionFusionStrength":"","nodePalette.mp4":"MP4","nodePalette.webm":"WebM","nodePalette.avi":"AVI","nodePalette.mov":"MOV","nodePalette.videoCodec":"","nodePalette.h264":"H.264","nodePalette.h265":"H.265","nodePalette.vp9":"VP9","nodePalette.av1":"AV1","nodePalette.textContent":"","nodePalette.Video/Image Load description":"","nodePalette.Frame Index Manager description":"","nodePalette.Optical Flow Calculator description":"","nodePalette.Prompt Interpolator description":"","nodePalette.Frame Processor Loop description":"","nodePalette.Fusion Image description":"","nodePalette.Video Composer description":"","nodePalette.Image Output description":"","nodePalette.Stable Diffusion Generate description":"Stable Diffusion","nodePalette.Stable Diffusion Image To Image description":"Stable Diffusion","nodePalette.Image Input description":"","nodePalette.Image Manipulation description":"","nodePalette.Save Image description":"","nodePalette.VAE Decode description":"VAE","nodePalette.Preview Image description":"","Video/Image Load":"/","Load initial image or video sequence":"","Frame Index Manager":"","Track current frame number and total frames":"","Optical Flow Calculator":"","Detect motion between frames":"","Prompt Interpolator":"","Smoothly interpolate prompts over video sequence":"","Frame Processor Loop":"","Iteratively process each frame with AI generation":"AI","Fusion Image":"","Fuse generated image with original image":"","Video Composer":"","Compose frames into final video":"","Unknown Node":"","Generic node type":"",:"","Image Output":"","Image Output node":"","Stable Diffusion Generate":"Stable Diffusion","Generate images using Stable Diffusion on local GPU":"GPUStable Diffusion","Stable Diffusion Image To Image":"Stable Diffusion","Generate images using Stable Diffusion image-to-image on local GPU":"GPUStable Diffusion","Image Input":"","Loads an initial image for Img2Img or Inpainting":"","Image Manipulation":"","Resizes, crops, blends or enhances images":"","Save Image":"","Saves the generated image to local file system":"","VAE Decode":"VAE","Converts latent space data to pixel image using VAE":"VAE","Preview Image":"","Previews images at any point in the workflow":"","gallery.title":"","gallery.image":"","gallery.video":"","gallery.audio":"","gallery.document":"","gallery.other":"","gallery.upload":"","gallery.uploading":"...","gallery.delete":"","gallery.confirmDelete":"","gallery.loading":"...","gallery.noFiles":"","gallery.searchPlaceholder":"...","gallery.all":"","gallery.images":"","gallery.videos":"","gallery.documents":"","gallery.browserNotSupportAudio":"","gallery.browserNotSupportVideo":"","gallery.documentPreviewNotAvailable":"","gallery.downloadToView":"","gallery.previewNotAvailable":"","gallery.fileDetails":"","gallery.detail.name":":","gallery.detail.type":":","gallery.detail.size":":","gallery.detail.uploaded":":","gallery.detail.path":":","narrowNav.nodePalette":"","narrowNav.models":"","narrowNav.settings":"","livePreview.title":"","livePreview.run":"","livePreview.pause":"","livePreview.clear":"","livePreview.tabs.output":"","livePreview.tabs.logs":"","livePreview.tabs.timeline":"","livePreview.placeholder.main":"","livePreview.placeholder.hint":"","livePreview.placeholder.noLogs":"","livePreview.placeholder.noTimeline":"","modelsManager.title":"","modelsManager.upload":"","modelsManager.cancelUpload":"","modelsManager.search":"...","modelsManager.allTypes":"","modelsManager.loading":"...","modelsManager.noModels":"","modelsManager.delete":"","modelsManager.confirmDelete":"","modelsManager.deleteError":"{message}","modelsManager.uploading":"...","modelsManager.uploadSuccess":"","modelsManager.uploadError":"","modelsManager.details":"","modelsManager.name":"","modelsManager.type":"","modelsManager.path":"","modelsManager.size":"","modelsManager.description":"","modelsManager.preview":"","modelsManager.close":"","modelsManager.selectFile":"","modelsManager.selectType":"","modelsManager.loadModelTypesError":"","modelsManager.placeModelInfo":"","modelsManager.modelDirectory":"","modelTypes.base":"","modelTypes.lora":"LoRA","modelTypes.vae":"VAE","modelTypes.text_encoder":"","modelTypes.clip_vision":"CLIP","modelTypes.controlnet":"ControlNet","modelTypes.embedding":"","modelTypes.upscale":"","queueMonitor.title":"","queueMonitor.refresh":"","queueMonitor.refresh.1s":"1","queueMonitor.refresh.5s":"5","queueMonitor.refresh.10s":"10","queueMonitor.refresh.30s":"30","queueMonitor.stats.queued":"","queueMonitor.stats.running":"","queueMonitor.stats.finished":"","queueMonitor.stats.failed":"","queueMonitor.tasks.recent":"","queueMonitor.tasks.id":"ID","queueMonitor.tasks.status":"","queueMonitor.tasks.created":"","queueMonitor.tasks.started":"","queueMonitor.tasks.ended":"","queueMonitor.tasks.noTasks":"","queueMonitor.status.queued":"","queueMonitor.status.started":"","queueMonitor.status.finished":"","queueMonitor.status.failed":""},"en-US":{"settings.title":"Settings","settings.general":"General","settings.basicSettings":"Basic Settings","settings.theme":"Theme","settings.theme.select":"Select theme","settings.theme.dark":"Dark","settings.language":"Language","settings.language.select":"Select the language for button labels and other text in the application","settings.language.zh-CN":"Chinese (Simplified)","settings.language.en-US":"English (US)","settings.preferences":"Preferences","settings.editorSettings":"Editor Settings","settings.editorSettings.description":"Editor font, word-wrap, window settings, etc.","settings.editorSettings.goTo":"Go to Settings","settings.editor.settings":"Editor Settings","settings.editor.description":"Editor font, word-wrap, window settings, etc.","settings.editor.goToSettings":"Go to Settings","settings.about":"About Cognot","settings.about.title":"About Cognot","settings.about.description":"The software is open source, welcome to visit our GitHub repository:","settings.shortcutSettings":"Shortcut Settings","settings.shortcutSettings.description":"Customize keyboard shortcuts for various operations in the IDE","settings.shortcutSettings.goTo":"Go to Settings","settings.importConfig":"Import Config","settings.importConfig.description":"Import configuration from file or sync from cloud","settings.importConfig.import":"Import","settings.account":"Account","settings.development":"Development Environment","settings.agent":"Agent","settings.mcp":"MCP","settings.dialogFlow":"Dialog Flow","settings.cue":"CUE","settings.model":"Model","settings.context":"Context","common.save":"Save","common.load":"Load","common.new":"New","common.delete":"Delete","common.run":"Run","common.stop":"Stop","common.clear":"Clear","common.export":"Export","common.import":"Import","common.settings":"Settings","common.nodes":"Nodes","common.edges":"Edges","common.workflow":"Workflow","common.propertyPanel":"Property Panel","common.nodePalette":"Node Palette","common.livePreview":"Live Preview","common.gallery":"Gallery","common.saveWorkflow":"Save Workflow","common.exportWorkflow":"Export Workflow","common.executeWorkflow":"Execute Workflow","common.resource":"Resource","common.file":"File","common.download":"Download","common.help":"Help","common.workflowImported":"Workflow imported successfully!","common.errorImporting":"Error importing workflow:","common.errorImportingWorkflow":"Error importing workflow:","common.workflowValidationFailed":"Workflow Validation Failed:","nodePalette.title":"Nodes","nodePalette.search":"Search nodes...","nodePalette.searchPlaceholder":"Search nodes...","nodePalette.clearSearch":"Clear search","nodePalette.all":"All","nodePalette.favorites":"Favorites","nodePalette.recent":"Recent","nodePalette.workflows":"Workflows","nodePalette.createdAt":"Created: ","nodePalette.workflowLoaded":"Workflow loaded!","nodePalette.confirmDeleteWorkflow":"Are you sure you want to delete this workflow?","nodePalette.loading":"Loading...","nodePalette.searchResults":"Search Results: {{count}}","nodePalette.noResults":"No matching nodes found","nodePalette.deletePreset":"Delete preset","nodePalette.emptyPalette":"No node data loaded","nodePalette.Input/Output":"Input/Output","nodePalette.Text Processing":"Text Processing","nodePalette.Image Generation":"Image Generation","nodePalette.Video Processing":"Video Processing","nodePalette.interpolationMethod":"Interpolation Method","nodePalette.smoothness":"Smoothness","nodePalette.steps":"Steps","nodePalette.method":"Method","nodePalette.quality":"Quality","nodePalette.maxFlow":"Max Flow","nodePalette.showVisualization":"Show Visualization","nodePalette.denoiseStrength":"Denoise Strength","nodePalette.guidanceScale":"Guidance Scale","nodePalette.seed":"Seed","nodePalette.useMotionBlending":"Use Motion Blending","nodePalette.motionBlendingStrength":"Motion Blending Strength","nodePalette.outputFormat":"Output Format","nodePalette.fps":"FPS","nodePalette.bitrate":"Bitrate","nodePalette.codec":"Codec","nodePalette.outputPath":"Output Path","nodePalette.prompt":"Prompt","nodePalette.negativePrompt":"Negative Prompt","nodePalette.width":"Width","nodePalette.height":"Height","nodePalette.sampler":"Sampler","nodePalette.cfGuidance":"CF Guidance","nodePalette.strength":"Strength","nodePalette.fusionMethod":"Fusion Method","nodePalette.fusionStrength":"Fusion Strength","nodePalette.gaussianBlur":"Gaussian Blur","nodePalette.motionVector":"Motion Vector","nodePalette.blurStrength":"Blur Strength","nodePalette.imagePath":"Image Path","nodePalette.videoPath":"Video Path","nodePalette.output":"Output","nodePalette.savePath":"Save Path","nodePalette.previousFrame":"Previous Frame","nodePalette.currentFrame":"Current Frame","nodePalette.initialFrame":"Initial Frame","nodePalette.flowField":"Flow Field","nodePalette.motionMask":"Motion Mask","nodePalette.visualization":"Visualization","nodePalette.generatedFrame":"Generated Frame","nodePalette.latentOutput":"Latent Output","nodePalette.Video/Image Load":"Video/Image Load","nodePalette.Frame Index Manager":"Frame Index Manager","nodePalette.Optical Flow Calculator":"Optical Flow Calculator","nodePalette.Prompt Interpolator":"Prompt Interpolator","nodePalette.Frame Processor Loop":"Frame Processor Loop","nodePalette.Fusion Image":"Fusion Image","nodePalette.Video Composer":"Video Composer","nodePalette.Unknown Node":"Unknown Node","nodePalette.Parameters":"Parameters","nodePalette.Image Output":"Image Output","nodePalette.Generated Image":"Generated Image","nodePalette.Prompt":"Prompt","nodePalette.Text":"Text","nodePalette.Prompt Template":"Prompt Template","nodePalette.Stable Diffusion Generate":"Stable Diffusion Generate","nodePalette.Stable Diffusion Image To Image":"Stable Diffusion Image To Image","nodePalette.Image Input":"Image Input","nodePalette.SDXL Prompt Mixer":"SDXL Prompt Mixer","nodePalette.ControlNet Apply":"ControlNet Apply","nodePalette.Text To Image":"Text To Image","nodePalette.Image To Image":"Image To Image","nodePalette.Image Manipulation":"Image Manipulation","nodePalette.Save Image":"Save Image","nodePalette.VAE Decode":"VAE Decode","nodePalette.Preview Image":"Preview Image","nodePalette.linear":"Linear","nodePalette.smoothstep":"Smooth","nodePalette.easeInOut":"Ease In Out","nodePalette.catmullRom":"Catmull-Rom","nodePalette.interpolationStrength":"Interpolation Strength","nodePalette.blendMethod":"Blend Method","nodePalette.alphaBlend":"Alpha Blend","nodePalette.maskedBlend":"Masked Blend","nodePalette.laplacian":"Laplacian Pyramid","nodePalette.gradient":"Gradient Blend","nodePalette.blendRatio":"Blend Ratio","nodePalette.maskSmoothness":"Mask Smoothness","nodePalette.preserveDetails":"Preserve Details","nodePalette.detailPreservationLevel":"Detail Preservation Level","nodePalette.calculationMethod":"Calculation Method","nodePalette.farneback":"Farneback","nodePalette.lucasKanade":"Lucas-Kanade","nodePalette.dense":"Dense","nodePalette.qualitySetting":"Quality Setting","nodePalette.low":"Low","nodePalette.medium":"Medium","nodePalette.high":"High","nodePalette.maxFlowValue":"Max Flow Value","nodePalette.randomSeed":"Random Seed","nodePalette.enableMotionFusion":"Enable Motion Fusion","nodePalette.motionFusionStrength":"Motion Fusion Strength","nodePalette.mp4":"MP4","nodePalette.webm":"WebM","nodePalette.avi":"AVI","nodePalette.mov":"MOV","nodePalette.videoCodec":"Video Codec","nodePalette.h264":"H.264","nodePalette.h265":"H.265","nodePalette.vp9":"VP9","nodePalette.av1":"AV1","nodePalette.textContent":"Text Content","nodePalette.Video/Image Load description":"Load video or image file","nodePalette.Frame Index Manager description":"Manage frame index and progress information","nodePalette.Optical Flow Calculator description":"Calculate optical flow between frames","nodePalette.Prompt Interpolator description":"Generate interpolated prompts based on frame information","nodePalette.Frame Processor Loop description":"Process video frames in a loop","nodePalette.Fusion Image description":"Fuse generated image with original image","nodePalette.Video Composer description":"Compose frames into final video","nodePalette.Image Output description":"Output image","nodePalette.Stable Diffusion Generate description":"Generate images using Stable Diffusion","nodePalette.Stable Diffusion Image To Image description":"Generate images using Stable Diffusion image-to-image","nodePalette.Image Input description":"Load initial image","nodePalette.Image Manipulation description":"Adjust, crop, blend, or enhance images","nodePalette.Save Image description":"Save generated image to local file system","nodePalette.VAE Decode description":"Convert latent space data to pixel image using VAE","nodePalette.Preview Image description":"Preview image","gallery.title":"Gallery","gallery.image":"Image","gallery.video":"Video","gallery.audio":"Audio","gallery.document":"Document","gallery.other":"Other","gallery.upload":"Upload","gallery.uploading":"Uploading...","gallery.delete":"Delete","gallery.confirmDelete":"Are you sure you want to delete this file?","gallery.loading":"Loading...","gallery.noFiles":"No files","gallery.searchPlaceholder":"Search files...","gallery.all":"All","gallery.images":"Images","gallery.videos":"Video","gallery.documents":"Document","gallery.browserNotSupportAudio":"Your browser does not support the audio element.","gallery.browserNotSupportVideo":"Your browser does not support the video element.","gallery.documentPreviewNotAvailable":"Document preview not available","gallery.downloadToView":"Download to view","gallery.previewNotAvailable":"Preview not available for this file type","gallery.fileDetails":"File Details","gallery.detail.name":"Name:","gallery.detail.type":"Type:","gallery.detail.size":"Size:","gallery.detail.uploaded":"Uploaded:","gallery.detail.path":"Path:","narrowNav.nodePalette":"Toggle Node Palette","narrowNav.models":"Model Management","narrowNav.settings":"Settings","livePreview.title":"Live Preview","livePreview.run":"Run","livePreview.pause":"Pause","livePreview.clear":"Clear","livePreview.tabs.output":"Output","livePreview.tabs.logs":"Logs","livePreview.tabs.timeline":"Timeline","livePreview.placeholder.main":"Workflow execution output will be displayed here","livePreview.placeholder.hint":"Run a workflow to see the results","livePreview.placeholder.noLogs":"No logs available","livePreview.placeholder.noTimeline":"No timeline data available","modelsManager.title":"Model Management","modelsManager.upload":"Upload Model","modelsManager.cancelUpload":"Cancel Upload","modelsManager.search":"Search models...","modelsManager.allTypes":"All Types","modelsManager.loading":"Loading models...","modelsManager.noModels":"No models found","modelsManager.delete":"Delete","modelsManager.confirmDelete":"Are you sure you want to delete this model?","modelsManager.uploading":"Uploading...","modelsManager.uploadSuccess":"Model uploaded successfully!","modelsManager.uploadError":"Upload failed:","modelsManager.details":"Model Details","modelsManager.name":"Name","modelsManager.type":"Type","modelsManager.path":"Path","modelsManager.size":"Size","modelsManager.description":"Description","modelsManager.preview":"Preview","modelsManager.close":"Close","modelsManager.selectFile":"Select model file:","modelsManager.selectType":"Model type:","modelsManager.loadModelTypesError":"Failed to load model types","modelTypes.base":"Base","modelTypes.lora":"LoRA","modelTypes.vae":"VAE","queueMonitor.title":"Queue Monitor","queueMonitor.refresh":"Refresh:","queueMonitor.refresh.1s":"1s","queueMonitor.refresh.5s":"5s","queueMonitor.refresh.10s":"10s","queueMonitor.refresh.30s":"30s","queueMonitor.stats.queued":"Queued","queueMonitor.stats.running":"Running","queueMonitor.stats.finished":"Finished","queueMonitor.stats.failed":"Failed","queueMonitor.tasks.recent":"Recent","queueMonitor.tasks.id":"ID","queueMonitor.tasks.status":"Status","queueMonitor.tasks.created":"Created","queueMonitor.tasks.started":"Started","queueMonitor.tasks.ended":"Ended","queueMonitor.tasks.noTasks":"No tasks","queueMonitor.status.queued":"queued","queueMonitor.status.started":"started","queueMonitor.status.finished":"finished","queueMonitor.status.failed":"failed"}};let cs="en-US";const t0=t=>{cs=t,localStorage.setItem("language",t)},Ue=(t,o)=>At[cs]?.[t]||At["en-US"]?.[t]||t,n0=()=>{const t=localStorage.getItem("language"),o=navigator.language||"en-US";t&&At[t]?cs=t:At[o]?cs=o:At[o.split("-")[0]]&&(cs=o.split("-")[0])},zp=I.createContext(void 0),r0=({children:t})=>{const[o,s]=I.useState("en-US");I.useEffect(()=>{n0();const c=localStorage.getItem("language"),p=navigator.language||"en-US";c&&At[c]?s(c):At[p]?s(p):At[p.split("-")[0]]&&s(p.split("-")[0])},[]);const a=c=>{At[c]&&(t0(c),s(c))},u=(c,p)=>{let m=At[o]?.[c]||At["en-US"]?.[c]||c;return p&&Object.entries(p).forEach(([y,g])=>{m=m.replace(`{{${y}}}`,String(g))}),m},f=Object.keys(At);return i.jsx(zp.Provider,{value:{currentLanguage:o,setCurrentLanguage:a,t:u,availableLanguages:f},children:t})},Ir=()=>{const t=I.useContext(zp);if(!t)throw new Error("useI18n must be used within an I18nProvider");return t},ts={input:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),output:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M17 21v-4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v4"}),i.jsx("polyline",{points:"12 3 17 8 12 13"}),i.jsx("line",{x1:"7",y1:"8",x2:"17",y2:"8"})]}),processing:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]}),math:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}),i.jsx("line",{x1:"9",y1:"10",x2:"15",y2:"10"}),i.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}),string:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}),logic:i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),control:i.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polyline",{points:"6 9 12 15 18 9"})}),basic:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),general:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),preset:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),ai:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"}),i.jsx("path",{d:"M12 6v6l4 2"})]}),video:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),i.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]})};function o0({setNodes:t,setEdges:o}){const{t:s,currentLanguage:a}=Ir(),[u,f]=I.useState(["general","presets"]),[c,p]=I.useState([]),[m,y]=I.useState([]),[g,w]=I.useState([]),[x,N]=I.useState(!0),[b,j]=I.useState(""),[E,M]=I.useState(!1),[L,U]=I.useState([]);I.useEffect(()=>{console.log("NodePalette useEffect called with language:",a),(async()=>{try{N(!0);const W=await(await fetch("/node-config.json")).json(),S=Object.entries(W).map(([A,C])=>{const O=C.inputs?Object.entries(C.inputs).map(([ne,te])=>({id:ne,type:String(te),label:ne})):[],k=C.outputs?Object.entries(C.outputs).map(([ne,te])=>({id:ne,type:String(te),label:ne})):[],F={};return C.input_schema&&C.input_schema.properties&&Object.entries(C.input_schema.properties).forEach(([ne,te])=>{F[ne]={name:ne,type:te.type||"string",value:te.default||"",label:te.title||ne,description:te.description||"",widget_meta:te.widget_meta||{widget_type:"text_input",options:[]}}}),{id:A,type:A,label:C.name||A,description:C.description||"",config:{},inputs:O,outputs:k,params:F,category:C.category}}),R=[{id:"input_output",name:s("nodePalette.Input/Output"),icon:ts.general,nodes:[{id:"imageInput",type:"imageInput",label:s("nodePalette.Image Input"),description:s("nodePalette.Image Input description"),config:{},inputs:[],outputs:[{id:"image",type:"image",label:s("nodePalette.Image")},{id:"mask",type:"image",label:s("nodePalette.Mask")}]},{id:"imageOutput",type:"imageOutput",label:s("nodePalette.Image Output"),description:s("nodePalette.Image Output node"),config:{},inputs:[{id:"input",type:"string",label:s("nodePalette.Input")}],outputs:[]},{id:"saveImage",type:"saveImage",label:s("nodePalette.Save Image"),description:s("nodePalette.Save Image description"),config:{},inputs:[{id:"image",type:"image",label:s("nodePalette.Image")}],outputs:[]},{id:"previewNode",type:"previewNode",label:s("nodePalette.Preview Image"),description:s("nodePalette.Preview Image description"),config:{},inputs:[{id:"image",type:"image",label:s("nodePalette.Image")}],outputs:[{id:"image",type:"image",label:s("nodePalette.Image")}]}]},{id:"text_processing",name:s("nodePalette.Text Processing"),icon:ts.string,nodes:[{id:"promptInterpolator",type:"promptInterpolator",label:s("nodePalette.Prompt Interpolator"),description:s("nodePalette.Prompt Interpolator description"),config:{},inputs:[{id:"frame_info",type:"object",label:s("nodePalette.Frame Info")}],outputs:[{id:"interpolated_prompt",type:"string",label:s("nodePalette.Interpolated Prompt")}],params:{interpolationMethod:{name:"interpolationMethod",type:"string",value:"linear",label:s("nodePalette.interpolationMethod"),description:"",widget_meta:{widget_type:"select",options:[{value:"linear",label:""},{value:"smoothstep",label:""},{value:"ease_in_out",label:""},{value:"catmull_rom",label:"Catmull-Rom"}]}},strength:{name:"strength",type:"number",value:.5,label:s("nodePalette.interpolationStrength"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:1,step:.01}},smoothness:{name:"smoothness",type:"number",value:1,label:s("nodePalette.smoothness"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:5,step:.1}}}}]},{id:"image_generation",name:s("nodePalette.Image Generation"),icon:ts.ai,nodes:[{id:"stable_diffusion_generate",type:"stable_diffusion_generate",label:s("nodePalette.Stable Diffusion Generate"),description:s("nodePalette.Stable Diffusion Generate description"),config:{},inputs:[{id:"prompt",type:"string",label:s("nodePalette.Prompt")},{id:"negative_prompt",type:"string",label:s("nodePalette.Negative Prompt")},{id:"height",type:"number",label:s("nodePalette.Height")},{id:"width",type:"number",label:s("nodePalette.Width")},{id:"num_inference_steps",type:"number",label:s("nodePalette.Inference Steps")},{id:"guidance_scale",type:"number",label:s("nodePalette.Guidance Scale")},{id:"seed",type:"number",label:s("nodePalette.Seed")}],outputs:[{id:"image",type:"string",label:s("nodePalette.Image")},{id:"success",type:"boolean",label:s("nodePalette.Success")},{id:"message",type:"string",label:s("nodePalette.Message")}]},{id:"stable_diffusion_image_to_image",type:"stable_diffusion_image_to_image",label:s("nodePalette.Stable Diffusion Image To Image"),description:s("nodePalette.Stable Diffusion Image To Image description"),config:{},inputs:[{id:"prompt",type:"string",label:s("nodePalette.Prompt")},{id:"negative_prompt",type:"string",label:s("nodePalette.Negative Prompt")},{id:"init_image",type:"string",label:s("nodePalette.Initial Image")},{id:"strength",type:"number",label:s("nodePalette.Strength")},{id:"num_inference_steps",type:"number",label:s("nodePalette.Inference Steps")},{id:"guidance_scale",type:"number",label:s("nodePalette.Guidance Scale")},{id:"seed",type:"number",label:s("nodePalette.Seed")}],outputs:[{id:"image",type:"string",label:s("nodePalette.Image")},{id:"success",type:"boolean",label:s("nodePalette.Success")},{id:"message",type:"string",label:s("nodePalette.Message")}]},{id:"imageManipulation",type:"imageManipulation",label:s("nodePalette.Image Manipulation"),description:s("nodePalette.Image Manipulation description"),config:{},inputs:[{id:"image",type:"image",label:s("nodePalette.Image")}],outputs:[{id:"image",type:"image",label:s("nodePalette.Image")}]},{id:"vaeDecode",type:"vaeDecode",label:s("nodePalette.VAE Decode"),description:s("nodePalette.VAE Decode description"),config:{},inputs:[{id:"latent",type:"object",label:s("nodePalette.Latent")}],outputs:[{id:"image",type:"image",label:s("nodePalette.Image")}]},{id:"fusionImage",type:"fusionImage",label:s("nodePalette.Fusion Image"),description:s("nodePalette.Fusion Image description"),config:{},inputs:[{id:"generated_image",type:"image",label:s("nodePalette.Generated Image")},{id:"original_image",type:"image",label:s("nodePalette.Original Image")},{id:"fusion_mask",type:"image",label:s("nodePalette.Fusion Mask")}],outputs:[{id:"fused_image",type:"image",label:s("nodePalette.Fused Image")}],params:{fusionMethod:{name:"fusionMethod",type:"string",value:"alpha_blend",label:s("nodePalette.fusionMethod"),description:"",widget_meta:{widget_type:"select",options:[{value:"alpha_blend",label:"Alpha "},{value:"masked_blend",label:""},{value:"laplacian",label:""},{value:"gradient",label:""}]}},alpha:{name:"alpha",type:"number",value:.5,label:s("nodePalette.blendRatio"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:1,step:.01}},maskSmoothness:{name:"maskSmoothness",type:"number",value:1,label:s("nodePalette.maskSmoothness"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:5,step:.1}},preserveDetails:{name:"preserveDetails",type:"boolean",value:!1,label:s("nodePalette.preserveDetails"),description:"",widget_meta:{widget_type:"checkbox"}},detailPreservationLevel:{name:"detailPreservationLevel",type:"number",value:.5,label:s("nodePalette.detailPreservationLevel"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:1,step:.01}}}}]},{id:"video_processing",name:s("nodePalette.Video Processing"),icon:ts.ai,nodes:[{id:"videoLoad",type:"videoLoad",label:s("nodePalette.Video/Image Load"),description:s("nodePalette.Video/Image Load description"),config:{},inputs:[],outputs:[{id:"image",type:"image",label:s("nodePalette.Image")},{id:"video_info",type:"object",label:s("nodePalette.Video Info")}],params:{videoPath:{name:"videoPath",type:"string",value:"",label:s("nodePalette.videoPath"),description:"",widget_meta:{widget_type:"text"}},frameRate:{name:"frameRate",type:"number",value:24,label:"",description:"",widget_meta:{widget_type:"slider",min_value:1,max_value:60,step:1}},totalFrames:{name:"totalFrames",type:"number",value:100,label:s("nodePalette.totalFrames"),description:"",widget_meta:{widget_type:"slider",min_value:1,max_value:1e3,step:1}},resolution:{name:"resolution",type:"object",value:{width:1920,height:1080},label:s("nodePalette.resolution"),description:"",widget_meta:{widget_type:"text"}}}},{id:"frameIndexManager",type:"frameIndexManager",label:s("nodePalette.Frame Index Manager"),description:s("nodePalette.Frame Index Manager description"),config:{},inputs:[],outputs:[{id:"frame_info",type:"object",label:s("nodePalette.Frame Info")},{id:"progress",type:"number",label:s("nodePalette.Progress")},{id:"flags",type:"object",label:s("nodePalette.Flags")}],params:{totalFrames:{name:"totalFrames",type:"number",value:100,label:"",description:"",widget_meta:{widget_type:"number",min_value:1,max_value:1e4}},currentFrame:{name:"currentFrame",type:"number",value:0,label:s("nodePalette.currentFrame"),description:"",widget_meta:{widget_type:"number",min_value:0,max_value:9999}}}},{id:"opticalFlowCalculator",type:"opticalFlowCalculator",label:s("nodePalette.Optical Flow Calculator"),description:s("nodePalette.Optical Flow Calculator description"),config:{},inputs:[{id:"prev_frame",type:"image",label:s("nodePalette.Previous Frame")},{id:"current_frame",type:"image",label:s("nodePalette.Current Frame")}],outputs:[{id:"flow_field",type:"image",label:s("nodePalette.Flow Field")},{id:"motion_mask",type:"image",label:s("nodePalette.Motion Mask")},{id:"visualization",type:"image",label:s("nodePalette.Visualization")}],params:{method:{name:"method",type:"string",value:"farneback",label:s("nodePalette.method"),description:"",widget_meta:{widget_type:"select",options:[{value:"farneback",label:"Farneback"},{value:"lucas_kanade",label:"Lucas-Kanade"},{value:"dense",label:"Dense"}]}},quality:{name:"quality",type:"string",value:"medium",label:s("nodePalette.quality"),description:"",widget_meta:{widget_type:"select",options:[{value:"low",label:""},{value:"medium",label:""},{value:"high",label:""}]}},maxFlow:{name:"maxFlow",type:"number",value:20,label:s("nodePalette.maxFlow"),description:"",widget_meta:{widget_type:"number",min_value:1,max_value:100}},showVisualization:{name:"showVisualization",type:"boolean",value:!1,label:s("nodePalette.showVisualization"),description:"",widget_meta:{widget_type:"checkbox"}}}},{id:"frameProcessorLoop",type:"frameProcessorLoop",label:s("nodePalette.Frame Processor Loop"),description:s("nodePalette.Frame Processor Loop description"),config:{},inputs:[{id:"initial_frame",type:"image",label:s("nodePalette.Initial Frame")},{id:"prompt",type:"string",label:s("nodePalette.Prompt")},{id:"flow_field",type:"image",label:s("nodePalette.Flow Field")}],outputs:[{id:"generated_frame",type:"image",label:s("nodePalette.Generated Frame")},{id:"latent_output",type:"object",label:s("nodePalette.Latent Output")}],params:{iterations:{name:"iterations",type:"number",value:50,label:s("nodePalette.samplingIterations"),description:"",widget_meta:{widget_type:"number",min_value:1,max_value:200}},denoiseStrength:{name:"denoiseStrength",type:"number",value:.7,label:s("nodePalette.denoiseStrength"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:1,step:.01}},guidanceScale:{name:"guidanceScale",type:"number",value:7.5,label:s("nodePalette.guidanceScale"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:20,step:.1}},seed:{name:"seed",type:"number",value:-1,label:s("nodePalette.seed"),description:"-1",widget_meta:{widget_type:"number",min_value:-1,max_value:999999999}},useMotionBlending:{name:"useMotionBlending",type:"boolean",value:!1,label:s("nodePalette.useMotionBlending"),description:"",widget_meta:{widget_type:"checkbox"}},motionBlendingStrength:{name:"motionBlendingStrength",type:"number",value:.5,label:s("nodePalette.motionBlendingStrength"),description:"",widget_meta:{widget_type:"slider",min_value:0,max_value:1,step:.01}}}},{id:"videoComposer",type:"videoComposer",label:s("nodePalette.Video Composer"),description:s("nodePalette.Video Composer description"),config:{},inputs:[{id:"frames",type:"array",label:s("nodePalette.Frames")}],outputs:[{id:"video",type:"string",label:s("nodePalette.Video")}],params:{outputFormat:{name:"outputFormat",type:"string",value:"mp4",label:s("nodePalette.outputFormat"),description:"",widget_meta:{widget_type:"select",options:[{value:"mp4",label:"MP4"},{value:"webm",label:"WebM"},{value:"avi",label:"AVI"},{value:"mov",label:"MOV"}]}},fps:{name:"fps",type:"number",value:24,label:s("nodePalette.fps"),description:"",widget_meta:{widget_type:"number",min_value:1,max_value:60}},bitrate:{name:"bitrate",type:"string",value:"10M",label:s("nodePalette.bitrate"),description:"",widget_meta:{widget_type:"text"}},codec:{name:"codec",type:"string",value:"h264",label:s("nodePalette.codec"),description:"",widget_meta:{widget_type:"select",options:[{value:"h264",label:"H.264"},{value:"h265",label:"H.265"},{value:"vp9",label:"VP9"},{value:"av1",label:"AV1"}]}},outputPath:{name:"outputPath",type:"string",value:"",label:s("nodePalette.outputPath"),description:"",widget_meta:{widget_type:"text"}}}}]}],$=[...R];S.forEach(A=>{const C=A.category,O=$.find(k=>C==="output"&&k.id==="postprocessing"||C==="input"&&k.id==="input_output"||C==="ai"&&k.id==="image_generation"?!0:C==="video"||A.type.includes("video")||A.type.includes("Video")?k.id==="video_processing":C==="text"||A.type.includes("text")||A.type.includes("Text")?k.id==="text_processing":k.id===C);if(O)O.nodes.push(A);else{const k=$.find(F=>F.id==="image_generation");k&&k.nodes.push(A)}}),p($),y($);const Q=R.map(A=>A.id);f(Q)}catch(q){console.error("Error initializing app:",q)}finally{N(!1),Z()}})()},[a,s]),I.useEffect(()=>{g.length>0&&(p(X=>{const q=[...X],W=q.findIndex(S=>S.id==="presets");return W!==-1&&(q[W]={...q[W],nodes:g.map(S=>({id:S.id,type:"preset",label:S.name,description:`Created: ${new Date(S.createdAt).toLocaleString()}`,category:"presets",workflowData:S}))}),q}),y(X=>{const q=[...X],W=q.findIndex(S=>S.id==="presets");return W!==-1&&(q[W]={...q[W],nodes:g.map(S=>({id:S.id,type:"preset",label:S.name,description:`Created: ${new Date(S.createdAt).toLocaleString()}`,category:"presets",workflowData:S}))}),q}))},[g]);const P=X=>{const q=X.target.value;if(j(q),q.trim()===""){M(!1),p(m);return}const W=[];m.forEach(R=>{R.nodes.forEach($=>{W.push({...$,categoryName:R.name,categoryIcon:R.icon})})});const S=W.filter(R=>R.label.toLowerCase().includes(q.toLowerCase())||R.description.toLowerCase().includes(q.toLowerCase())||R.type.toLowerCase().includes(q.toLowerCase()));U(S),M(!0)},B=X=>{f(q=>q.includes(X)?q.filter(W=>W!==X):[...q,X])},D=(X,q)=>{const W={id:`node_${Date.now()}`,type:q.type,position:{x:0,y:0},data:{label:q.label,description:q.description,category:q.category,icon:q.icon,outputs:q.outputs||[],inputs:q.inputs||[],config:q.config,params:q.params||{}}};X.dataTransfer.setData("application/reactflow",JSON.stringify(W)),X.dataTransfer.effectAllowed="move"},K=X=>{if(X.type==="preset"&&X.workflowData)try{const W=JSON.parse(localStorage.getItem("savedWorkflows")||"[]").find(S=>S.id===X.workflowData?.id);W&&W.data&&(t(W.data.nodes),o(W.data.edges))}catch(q){console.error("Failed to load workflow preset:",q)}},Z=()=>{try{let X=JSON.parse(localStorage.getItem("savedWorkflows")||"[]");X=X.filter(W=>W.id!=="sd-example-workflow");const q=X.map(W=>({id:W.id,name:W.name,data:{nodes:W.data?.nodes||W.nodes||[],edges:W.data?.edges||W.edges||[]},createdAt:W.createdAt||new Date().toISOString()}));localStorage.setItem("savedWorkflows",JSON.stringify(q)),w(q),J(q)}catch(X){console.error("Error loading saved workflows:",X)}},J=X=>{(c.length>0||m.length>0)&&(p(q=>{const W=[...q],S=W.findIndex(R=>R.id==="presets");return S!==-1?W[S]={...W[S],nodes:X.map(R=>({id:R.id,type:"preset",label:R.name,description:`: ${new Date(R.createdAt).toLocaleString()}`,category:"presets",workflowData:R}))}:X.length>0&&W.push({id:"presets",name:"Presets",icon:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.jsx("line",{x1:"10",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"13",x2:"14",y2:"13"}),i.jsx("line",{x1:"14",y1:"17",x2:"8",y2:"17"}),i.jsx("line",{x1:"16",y1:"17",x2:"22",y2:"17"}),i.jsx("line",{x1:"14",y1:"9",x2:"22",y2:"9"})]}),nodes:X.map(R=>({id:R.id,type:"preset",label:R.name,description:`: ${new Date(R.createdAt).toLocaleString()}`,category:"presets",workflowData:R}))}),W}),y(q=>{const W=[...q],S=W.findIndex(R=>R.id==="presets");return S!==-1?W[S]={...W[S],nodes:X.map(R=>({id:R.id,type:"preset",label:R.name,description:`: ${new Date(R.createdAt).toLocaleString()}`,category:"presets",workflowData:R}))}:X.length>0&&W.push({id:"presets",name:"Presets",icon:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),i.jsx("line",{x1:"10",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"13",x2:"14",y2:"13"}),i.jsx("line",{x1:"14",y1:"17",x2:"8",y2:"17"}),i.jsx("line",{x1:"16",y1:"17",x2:"22",y2:"17"}),i.jsx("line",{x1:"14",y1:"9",x2:"22",y2:"9"})]}),nodes:X.map(R=>({id:R.id,type:"preset",label:R.name,description:`: ${new Date(R.createdAt).toLocaleString()}`,category:"presets",workflowData:R}))}),W}))},le=X=>{if(confirm("Are you sure you want to delete this workflow?")){const q=g.filter(W=>W.id!==X);localStorage.setItem("savedWorkflows",JSON.stringify(q)),w(q),J(q)}};return i.jsxs("div",{className:"node-palette",children:[i.jsxs("div",{className:"palette-header",children:[i.jsx("h3",{children:"Node"}),i.jsxs("div",{className:"search-container",children:[i.jsx("input",{type:"text",className:"search-input",placeholder:s("nodePalette.searchPlaceholder"),value:b,onChange:P}),b&&i.jsx("button",{className:"clear-search",onClick:()=>P({target:{value:""}}),children:i.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),i.jsx("div",{className:"palette-content",children:x?i.jsx("div",{className:"loading",children:"Loading..."}):E&&b?i.jsxs("div",{className:"search-results",children:[i.jsxs("h4",{children:["Search Results: ",L.length]}),L.length>0?L.map(X=>i.jsxs("div",{className:"palette-node search-result-node",draggable:!0,onDragStart:q=>D(q,X),children:[i.jsx("div",{className:"node-icon",children:X.categoryIcon}),i.jsxs("div",{className:"node-info",children:[i.jsx("div",{className:"node-label",children:s(X.label)}),i.jsx("div",{className:"node-description",children:s(X.description)}),i.jsx("div",{className:"node-category",children:s(X.categoryName)})]})]},X.id)):i.jsx("div",{className:"no-results",children:i.jsx("p",{children:"No matching nodes found"})})]}):c.length>0?c.map(X=>i.jsxs("div",{className:"palette-category",children:[i.jsxs("div",{className:"category-header",onClick:()=>B(X.id),children:[i.jsx("span",{className:"category-icon",children:X.icon}),i.jsx("span",{className:"category-name",children:X.name}),i.jsx("span",{className:`category-toggle ${u.includes(X.id)?"expanded":""}`,children:u.includes(X.id)?i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polyline",{points:"6 9 12 15 18 9"})}):i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polyline",{points:"9 6 15 12 9 18"})})})]}),u.includes(X.id)&&i.jsx("div",{className:"category-nodes",children:X.nodes.map(q=>i.jsxs("div",{className:`palette-node ${q.type==="preset"?"preset-node":""}`,draggable:q.type!=="preset",onDragStart:W=>D(W,q),onClick:()=>q.type==="preset"&&K(q),children:[i.jsx("div",{className:"node-icon",children:q.type==="preset"?ts.preset:X.icon}),i.jsxs("div",{className:"node-info",children:[i.jsx("div",{className:"node-label",children:s(q.label)}),i.jsx("div",{className:"node-description",children:s(q.description)})]}),q.type==="preset"&&i.jsx("div",{className:"preset-actions",children:i.jsx("button",{className:"delete-preset-btn",onClick:W=>{W.stopPropagation(),q.workflowData&&le(q.workflowData.id)},title:"",children:""})})]},q.id))})]},X.id)):i.jsx("div",{className:"empty-palette",children:i.jsx("p",{children:"No node data loaded"})})})]})}const s0=Y.memo(o0),l0=({workflow:t,isRunning:o,executionResults:s})=>{const{t:a}=Ir(),[u,f]=I.useState(null),[c,p]=I.useState("output"),[m,y]=I.useState([]),[g,w]=I.useState([]),x=I.useRef(null),N=()=>{x.current?.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{N()},[m]),I.useEffect(()=>{if(s){if(typeof s=="object"&&s!==null){const L={};if(Object.keys(s).some(P=>P.startsWith("node_")||P.includes("input-")||P.includes("output-")))Object.entries(s).forEach(([P,B])=>{L[P]=B});else{let P=1;Object.entries(s).forEach(([B,D])=>{const K=`node_${P}`;L[K]=D,P++})}if(Object.keys(L).length===1){const P=Object.keys(L)[0],B=L[P];B.value?f(B.value):B.result?f(B.result):f(B)}else f(L)}else f(s);s.logs&&y(L=>[...L,...s.logs||[]]),s.timeline&&w(L=>[...L,...s.timeline||[]])}},[s]);const b=L=>new Date(L).toLocaleTimeString(),j=()=>u?typeof u=="string"?i.jsx("div",{className:"preview-text",children:u}):"image"in u&&u.image?i.jsx("img",{src:u.image,alt:"Workflow output",className:"preview-image"}):"html"in u&&u.html?i.jsx("div",{dangerouslySetInnerHTML:{__html:u.html},className:"preview-html"}):i.jsx("div",{className:"preview-json",children:i.jsx("pre",{children:JSON.stringify(u,null,2)})}):i.jsxs("div",{className:"preview-placeholder",children:[i.jsx("p",{children:a("livePreview.placeholder.main")}),i.jsx("p",{className:"hint",children:a("livePreview.placeholder.hint")})]}),E=()=>m.length===0?i.jsx("div",{className:"logs-placeholder",children:a("livePreview.placeholder.noLogs")}):i.jsxs("div",{className:"logs-container",children:[m.map((L,U)=>i.jsxs("div",{className:`log-entry log-${L.level||"info"}`,children:[i.jsx("span",{className:"log-time",children:b(L.timestamp)}),i.jsxs("span",{className:"log-level",children:["[",L.level||"INFO","]"]}),i.jsx("span",{className:"log-message",children:L.message})]},U)),i.jsx("div",{ref:x})]}),M=()=>g.length===0?i.jsx("div",{className:"timeline-placeholder",children:a("livePreview.placeholder.noTimeline")}):i.jsx("div",{className:"timeline-container",children:g.map((L,U)=>i.jsxs("div",{className:"timeline-event",children:[i.jsx("div",{className:"timeline-time",children:b(L.timestamp)}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-title",children:[L.nodeName," (",L.nodeId,")"]}),i.jsx("div",{className:`timeline-status status-${L.status}`,children:L.status}),L.duration&&i.jsxs("div",{className:"timeline-duration",children:[L.duration,"ms"]})]})]},U))});return i.jsxs("div",{className:"live-preview-container",children:[i.jsxs("div",{className:"live-preview-header",children:[i.jsx("h3",{children:a("livePreview.title")}),i.jsxs("div",{className:"preview-controls",children:[i.jsx("button",{className:`control-btn ${o?"running":""}`,disabled:!t||t.nodes.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),i.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})," ",a("livePreview.pause")]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})," ",a("livePreview.run")]})}),i.jsxs("button",{className:"button",onClick:()=>{y([]),w([]),f(null)},children:[i.jsxs("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polyline",{points:"3 6 5 6 21 6"}),i.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),i.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),i.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})," ",a("livePreview.clear")]})]})]}),i.jsxs("div",{className:"preview-tabs",children:[i.jsx("button",{className:`tab-btn ${c==="output"?"active":""}`,onClick:()=>p("output"),children:a("livePreview.tabs.output")}),i.jsxs("button",{className:`tab-btn ${c==="logs"?"active":""}`,onClick:()=>p("logs"),children:[a("livePreview.tabs.logs"),m.length>0&&i.jsx("span",{className:"tab-badge",children:m.length})]}),i.jsx("button",{className:`tab-btn ${c==="timeline"?"active":""}`,onClick:()=>p("timeline"),children:a("livePreview.tabs.timeline")})]}),i.jsxs("div",{className:"preview-content",children:[c==="output"&&j(),c==="logs"&&E(),c==="timeline"&&M()]})]})},i0=({onSelectFile:t})=>{const{t:o}=Ir(),[s,a]=I.useState([]),[u,f]=I.useState([]),[c,p]=I.useState(null),[m,y]=I.useState("all"),[g,w]=I.useState(!1),[x,N]=I.useState(""),b=async()=>{try{const K=await(await fetch("/files/list")).json();K.files&&(a(K.files),f(K.files))}catch(D){console.error("Failed to load files:",D)}};I.useEffect(()=>{b()},[]),I.useEffect(()=>{let D=[...s];if(m!=="all"&&(D=D.filter(K=>K.file_type===m)),x){const K=x.toLowerCase();D=D.filter(Z=>Z.filename.toLowerCase().includes(K)||Z.content_type.toLowerCase().includes(K))}f(D)},[m,x,s]);const j=async D=>{const K=D.target.files?.[0];if(K){w(!0);try{const Z=new FormData;Z.append("file",K),(await fetch("/files/upload",{method:"POST",body:Z})).ok?b():console.error("File upload failed")}catch(Z){console.error("File upload error:",Z)}finally{w(!1)}}},E=async D=>{if(window.confirm(`Are you sure you want to delete "${D.filename}"?`))try{(await fetch(`/files/delete?filename=${D.filename}`,{method:"DELETE"})).ok?(b(),c&&c.storage_path===D.storage_path&&p(null)):console.error("File deletion failed")}catch(K){console.error("File deletion error:",K)}},M=D=>{p(D),t&&t(D)},L=D=>{window.open(`/files/download?filename=${D.filename}`)},U=D=>{const{file_type:K,content_type:Z}=D;switch(K){case"image":return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.jsx("polyline",{points:"21 15 16 10 5 21"})]});case"audio":return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]});case"video":return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),i.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]});case"document":return Z.includes("pdf")?i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}):Z.includes("word")?i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}):Z.includes("excel")||Z.includes("csv")?i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}):Z.includes("text")||Z.includes("json")||Z.includes("javascript")?i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]}):i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]});default:return i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}},P=D=>{if(D===0)return"0 Bytes";const K=1024,Z=["Bytes","KB","MB","GB"],J=Math.floor(Math.log(D)/Math.log(K));return parseFloat((D/Math.pow(K,J)).toFixed(2))+" "+Z[J]},B=D=>{const K=new Date(D*1e3);return K.toLocaleDateString()+" "+K.toLocaleTimeString()};return i.jsxs("div",{className:"gallery-container",children:[i.jsxs("div",{className:"gallery-header",children:[i.jsx("h3",{children:o("gallery.title")}),i.jsxs("div",{className:"gallery-controls",children:[i.jsxs("label",{htmlFor:"file-upload",className:"button",children:[i.jsxs("svg",{className:"svgIcon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"17 8 12 3 7 8"}),i.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})," ",o("gallery.upload")]}),i.jsx("input",{id:"file-upload",type:"file",onChange:j,style:{display:"none"},disabled:g})]})]}),i.jsxs("div",{className:"gallery-toolbar",children:[i.jsx("div",{className:"search-bar",children:i.jsx("input",{type:"text",placeholder:o("gallery.searchPlaceholder"),value:x,onChange:D=>N(D.target.value)})}),i.jsxs("div",{className:"file-type-filters",children:[i.jsx("button",{className:`filter-btn ${m==="all"?"active":""}`,onClick:()=>y("all"),children:o("gallery.all")}),i.jsxs("button",{className:`filter-btn ${m==="image"?"active":""}`,onClick:()=>y("image"),children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.jsx("polyline",{points:"21 15 16 10 5 21"})]})," ",o("gallery.images")]}),i.jsxs("button",{className:`filter-btn ${m==="audio"?"active":""}`,onClick:()=>y("audio"),children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),i.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]})," ",o("gallery.audio")]}),i.jsxs("button",{className:`filter-btn ${m==="video"?"active":""}`,onClick:()=>y("video"),children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),i.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]})," ",o("gallery.videos")]}),i.jsxs("button",{className:`filter-btn ${m==="document"?"active":""}`,onClick:()=>y("document"),children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]})," ",o("gallery.documents")]})]})]}),i.jsx("div",{className:"gallery-content",children:u.length===0?i.jsx("div",{className:"no-files",children:i.jsx("p",{children:o(g?"gallery.uploading":"gallery.noFiles")})}):i.jsx("div",{className:"files-grid",children:u.map((D,K)=>i.jsxs("div",{className:`file-item ${c?.storage_path===D.storage_path?"selected":""}`,onClick:()=>M(D),children:[i.jsx("div",{className:"file-icon",children:D.file_type==="image"?i.jsx("img",{src:`/files/preview?filename=${D.filename}`,alt:D.filename,className:"file-thumbnail"}):i.jsx("div",{className:"icon-svg",children:U(D)})}),i.jsxs("div",{className:"file-info",children:[i.jsx("div",{className:"file-name",children:D.filename}),i.jsxs("div",{className:"file-meta",children:[i.jsx("span",{className:"file-size",children:P(D.file_size)}),i.jsx("span",{className:"file-date",children:B(D.upload_time)})]})]}),i.jsxs("div",{className:"file-actions",children:[i.jsx("button",{className:"action-btn download-btn",onClick:Z=>{Z.stopPropagation(),L(D)},title:o("common.download"),children:i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),i.jsx("button",{className:"action-btn delete-btn",onClick:Z=>{Z.stopPropagation(),E(D)},title:o("common.delete"),children:i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("polyline",{points:"3 6 5 6 21 6"}),i.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),i.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),i.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},K))})}),c&&i.jsxs("div",{className:"file-preview",children:[i.jsxs("div",{className:"preview-header",children:[i.jsx("h4",{children:o("gallery.previewTitle")}),i.jsx("button",{className:"close-btn",onClick:()=>p(null),children:i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),i.jsxs("div",{className:"preview-content",children:[c.file_type==="image"&&i.jsx("img",{src:`/files/preview?filename=${c.filename}`,alt:c.filename,className:"full-preview"}),c.file_type==="audio"&&i.jsxs("audio",{controls:!0,className:"full-preview",children:[i.jsx("source",{src:`http://localhost:8000/files/preview?filename=${c.filename}`}),o("gallery.browserNotSupportAudio")]}),c.file_type==="video"&&i.jsxs("video",{controls:!0,className:"full-preview",children:[i.jsx("source",{src:`http://localhost:8000/files/preview?filename=${c.filename}`}),o("gallery.browserNotSupportVideo")]}),c.file_type==="document"&&i.jsxs("div",{className:"document-preview",children:[i.jsx("p",{children:o("gallery.documentPreviewNotAvailable")}),i.jsx("button",{className:"preview-download-btn",onClick:()=>L(c),children:o("gallery.downloadToView")})]}),c.file_type==="other"&&i.jsxs("div",{className:"other-preview",children:[i.jsx("p",{children:o("gallery.previewNotAvailable")}),i.jsx("button",{className:"preview-download-btn",onClick:()=>L(c),children:o("common.download")})]})]}),i.jsxs("div",{className:"file-details",children:[i.jsx("h5",{children:o("gallery.details")}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:o("gallery.detail.name")}),i.jsx("span",{className:"detail-value",children:c.filename})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:o("gallery.detail.type")}),i.jsx("span",{className:"detail-value",children:c.content_type})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:o("gallery.detail.size")}),i.jsx("span",{className:"detail-value",children:P(c.file_size)})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:o("gallery.detail.uploaded")}),i.jsx("span",{className:"detail-value",children:B(c.upload_time)})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:o("gallery.detail.path")}),i.jsx("span",{className:"detail-value",children:c.relative_path})]})]})]})]})},a0=()=>{const{t}=Ir(),[o,s]=I.useState({queued:0,started:0,finished:0,failed:0}),[a,u]=I.useState([]),[f,c]=I.useState(5e3),p=async()=>{try{const x=await fetch("/queue/info");if(x.ok){const N=await x.json();s(N.queue_info)}}catch(x){console.error("Failed to fetch queue info:",x)}},m=async()=>{try{const x=await fetch("/queue/tasks");if(x.ok){const N=await x.json(),b=[...N.queue_tasks.queued||[],...N.queue_tasks.started||[],...N.queue_tasks.finished||[],...N.queue_tasks.failed||[]].map(j=>({id:j.job_id,status:j.status,created_at:j.created_at,started_at:j.started_at,ended_at:j.ended_at}));b.sort((j,E)=>j.created_at?E.created_at?new Date(E.created_at).getTime()-new Date(j.created_at).getTime():-1:1),u(b)}}catch(x){console.error("Failed to fetch queue tasks:",x)}};I.useEffect(()=>{p(),m();const x=setInterval(()=>{p(),m()},f);return()=>clearInterval(x)},[f]);const y=x=>new Date(x).toLocaleTimeString(),g=x=>{switch(x){case"queued":return"status-queued";case"started":return"status-started";case"finished":return"status-finished";case"failed":return"status-failed";default:return""}},w=x=>{switch(x){case"queued":return t("queueMonitor.status.queued");case"started":return t("queueMonitor.status.started");case"finished":return t("queueMonitor.status.finished");case"failed":return t("queueMonitor.status.failed");default:return x}};return i.jsxs("div",{className:"queue-monitor-container",children:[i.jsxs("div",{className:"queue-monitor-header",children:[i.jsx("h2",{children:t("queueMonitor.title")}),i.jsxs("div",{className:"refresh-controls",children:[i.jsx("label",{htmlFor:"refresh-interval",children:t("queueMonitor.refresh")}),i.jsxs("select",{id:"refresh-interval",value:f,onChange:x=>c(Number(x.target.value)),children:[i.jsx("option",{value:1e3,children:t("queueMonitor.refresh.1s")}),i.jsx("option",{value:5e3,children:t("queueMonitor.refresh.5s")}),i.jsx("option",{value:1e4,children:t("queueMonitor.refresh.10s")}),i.jsx("option",{value:3e4,children:t("queueMonitor.refresh.30s")})]})]})]}),i.jsxs("div",{className:"queue-stats",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-title",children:t("queueMonitor.stats.queued")}),i.jsx("div",{className:"stat-value queued",children:o.queued})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-title",children:t("queueMonitor.stats.running")}),i.jsx("div",{className:"stat-value started",children:o.started})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-title",children:t("queueMonitor.stats.finished")}),i.jsx("div",{className:"stat-value finished",children:o.finished})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-title",children:t("queueMonitor.stats.failed")}),i.jsx("div",{className:"stat-value failed",children:o.failed})]})]}),i.jsxs("div",{className:"tasks-table-container",children:[i.jsx("h3",{children:t("queueMonitor.tasks.recent")}),i.jsxs("table",{className:"tasks-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:t("queueMonitor.tasks.id")}),i.jsx("th",{children:t("queueMonitor.tasks.status")}),i.jsx("th",{children:t("queueMonitor.tasks.created")}),i.jsx("th",{children:t("queueMonitor.tasks.started")}),i.jsx("th",{children:t("queueMonitor.tasks.ended")})]})}),i.jsxs("tbody",{children:[a.map(x=>i.jsxs("tr",{children:[i.jsx("td",{className:"task-id",children:x.id}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${g(x.status)}`,children:w(x.status)})}),i.jsx("td",{children:y(x.created_at)}),i.jsx("td",{children:x.started_at?y(x.started_at):"-"}),i.jsx("td",{children:x.ended_at?y(x.ended_at):"-"})]},x.id)),a.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"no-tasks",children:t("queueMonitor.tasks.noTasks")})})]})]})]})]})},u0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),i.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),i.jsx("polyline",{points:"7 3 7 8 15 8"})]}),c0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),d0=({size:t=20,color:o="currentColor"})=>i.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),f0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 16v-4"}),i.jsx("path",{d:"M12 8h.01"})]}),p0=({size:t=20,color:o="currentColor"})=>i.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),h0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),m0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),i.jsx("path",{d:"M21 15l-5-5L5 21"})]}),g0=({size:t=20,color:o="currentColor"})=>i.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"})}),y0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M15 3h6v6"}),i.jsx("path",{d:"M9 21H3v-6"}),i.jsx("path",{d:"M21 3L14 10"}),i.jsx("path",{d:"M3 21l7-7"})]}),Dp=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]}),v0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"}),i.jsx("line",{x1:"7",y1:"16",x2:"17",y2:"16"}),i.jsx("line",{x1:"7",y1:"8",x2:"11",y2:"8"})]}),x0=({size:t=20,color:o="currentColor"})=>i.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),i.jsx("path",{d:"M9 9h6v6H9z"}),i.jsx("path",{d:"M9 3v6h6V3"}),i.jsx("path",{d:"M3 9h6v6H3"})]}),w0=({isOpen:t,onClose:o})=>{const{currentLanguage:s,setCurrentLanguage:a,t:u}=Ir(),[f,c]=I.useState("general"),[p]=I.useState("dark"),[m,y]=I.useState(s);if(I.useEffect(()=>{y(s)},[s]),!t)return null;const g=x=>{console.log("")},w=x=>{const N=x.target.value;y(N),a(N),console.log(`: ${N}`)};return i.jsx("div",{className:"settings-overlay",onClick:o,children:i.jsxs("div",{className:"settings-window",onClick:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h2",{children:u("settings.title")}),i.jsx("button",{className:"settings-close-btn",onClick:o,children:""})]}),i.jsxs("div",{className:"settings-content",children:[i.jsxs("div",{className:"settings-menu",children:[i.jsx("div",{className:"menu-group",children:i.jsxs("button",{className:`menu-item ${f==="general"?"active":""}`,onClick:()=>c("general"),children:[i.jsx("span",{className:"menu-icon",children:i.jsx(Dp,{size:18})}),u("settings.general")]})}),i.jsx("div",{className:"menu-group",children:i.jsxs("button",{className:`menu-item ${f==="about"?"active":""}`,onClick:()=>c("about"),children:[i.jsx("span",{className:"menu-icon",children:i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),u("settings.about")]})})]}),i.jsxs("div",{className:"settings-panel",children:[f==="general"&&i.jsxs("div",{className:"general-settings",children:[i.jsxs("h3",{children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})," ",u("settings.general")]}),i.jsxs("div",{className:"setting-item",children:[i.jsxs("div",{className:"setting-label",children:[i.jsxs("span",{children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})," ",u("settings.theme")]}),i.jsx("span",{className:"setting-description",children:u("settings.theme.select")})]}),i.jsx("div",{className:"setting-control",children:i.jsx("select",{value:p,onChange:g,className:"settings-select",disabled:!0,children:i.jsx("option",{value:"dark",children:u("settings.theme.dark")})})})]}),i.jsxs("div",{className:"setting-item",children:[i.jsxs("div",{className:"setting-label",children:[i.jsxs("span",{children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M4 7V4h16v3"}),i.jsx("path",{d:"M9 20h6"}),i.jsx("path",{d:"M12 4v16"}),i.jsx("path",{d:"M12 16h.01"})]})," ",u("settings.language")]}),i.jsx("span",{className:"setting-description",children:u("settings.language.select")})]}),i.jsx("div",{className:"setting-control",children:i.jsxs("select",{value:m,onChange:w,className:"settings-select",children:[i.jsx("option",{value:"zh-CN",children:u("settings.language.zh-CN")}),i.jsx("option",{value:"en-US",children:u("settings.language.en-US")})]})})]}),i.jsxs("h3",{children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"3"}),i.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})," ",u("settings.preferences")]}),i.jsxs("div",{className:"setting-item",children:[i.jsxs("div",{className:"setting-label",children:[i.jsxs("span",{children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.jsx("polyline",{points:"14 2 14 8 20 8"}),i.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),i.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),i.jsx("polyline",{points:"10 9 9 9 8 9"})]})," ",u("settings.editor.settings")]}),i.jsx("span",{className:"setting-description",children:u("settings.editor.description")})]}),i.jsx("div",{className:"setting-control",children:i.jsx("button",{className:"go-to-settings-btn",children:u("settings.editor.goToSettings")})})]}),i.jsxs("div",{className:"setting-item",children:[i.jsxs("div",{className:"setting-label",children:[i.jsxs("span",{children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})})," ",u("settings.shortcutSettings")]}),i.jsx("span",{className:"setting-description",children:u("settings.shortcutSettings.description")})]}),i.jsx("div",{className:"setting-control",children:i.jsx("button",{className:"go-to-settings-btn",children:u("settings.shortcutSettings.goTo")})})]}),i.jsxs("div",{className:"setting-item",children:[i.jsxs("div",{className:"setting-label",children:[i.jsxs("span",{children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.jsx("polyline",{points:"7 10 12 15 17 10"}),i.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})," ",u("settings.importConfig")]}),i.jsx("span",{className:"setting-description",children:u("settings.importConfig.description")})]}),i.jsx("div",{className:"setting-control",children:i.jsx("button",{className:"go-to-settings-btn",children:u("settings.importConfig.import")})})]})]}),f==="about"&&i.jsxs("div",{className:"about-cognot",children:[i.jsxs("h3",{children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),i.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})," ",u("settings.about.title")]}),i.jsx("p",{children:u("settings.about.description")}),i.jsx("div",{className:"github-link",children:i.jsxs("a",{href:"https://github.com/CognotEngine/Cognot",target:"_blank",rel:"noopener noreferrer",className:"btn-github",children:[i.jsx("span",{className:"github-icon",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})}),i.jsx("span",{className:"github-url",children:"github.com/CognotEngine/Cognot"})]})})]})]})]})]})})},ku=t=>t?{id:t.id||null,name:t.name||"Untitled Workflow",description:t.description||"",nodes:t.nodes?t.nodes.map(N0).filter(Boolean):[],edges:t.edges?t.edges.map(S0).filter(Boolean):[],created_at:t.createdAt||new Date().toISOString(),updated_at:new Date().toISOString()}:null,N0=t=>{if(!t)return null;const s={InputNode:"input",OutputNode:"output",ProcessingNode:"processing"}[t.type]||t.type,a={};return t.data.config&&t.data.config.defaultValue!==void 0&&(a.value=t.data.config.defaultValue),t.data.config&&t.data.config.operation!==void 0&&(a.operation=t.data.config.operation),t.data.config&&t.data.config.outputName!==void 0&&(a.outputName=t.data.config.outputName),{id:t.id,type:s,inputs:a,data:{label:t.data.label||t.type,...t.data.params||{},...t.data.connections||{}},position:{x:t.position.x,y:t.position.y},status:t.status||"idle",execution_time:t.executionTime||null,output:t.output||null}},S0=t=>t?{id:t.id,source:t.source,target:t.target,source_output:t.sourceHandle||"output",target_input:t.targetHandle||"input",source_handle:t.sourceHandle,target_handle:t.targetHandle,label:t.data?.label||null,data_type:t.data?.dataType}:null,k0=t=>t?{id:t.id,name:t.name,description:t.description,nodes:t.nodes?t.nodes.map(j0).filter(Boolean):[],edges:t.edges?t.edges.map(_0).filter(Boolean):[],createdAt:t.created_at,updatedAt:t.updated_at}:null,j0=t=>{if(!t)return null;const o=t.data.label||t.type,s={...t.data};return delete s.label,delete s.connections,{id:t.id,type:t.type,position:t.position,data:{label:o,params:s,connections:t.data.connections||{},status:t.status||"idle",executionTime:t.execution_time||null,output:t.output||null},status:t.status||"idle",executionTime:t.execution_time||null,output:t.output||null}},_0=t=>t?{id:t.id,source:t.source,target:t.target,sourceHandle:t.source_handle,targetHandle:t.target_handle,data:{label:t.label||"",dataType:t.data_type||""},style:{strokeWidth:2,stroke:t.data_type==="model"?"#FF5733":t.data_type==="latent"?"#33FF57":t.data_type==="prompt"?"#3357FF":"#888"}}:null,ju=t=>{const o=[];return t?(Array.isArray(t.nodes)?t.nodes.forEach((s,a)=>{const u=P0(s);u.isValid||o.push(`Node at index ${a}: ${u.errors.join(", ")}`)}):o.push("Nodes must be an array"),Array.isArray(t.edges)?t.edges.forEach((s,a)=>{const u=E0(s);u.isValid||o.push(`Edge at index ${a}: ${u.errors.join(", ")}`)}):o.push("Edges must be an array"),{isValid:o.length===0,errors:o}):(o.push("Workflow data is null or undefined"),{isValid:!1,errors:o})},P0=t=>{const o=[];return t?(t.id||o.push("Node must have an id"),t.type||o.push("Node must have a type"),(!t.position||typeof t.position.x!="number"||typeof t.position.y!="number")&&o.push("Node must have valid position coordinates"),t.data||o.push("Node must have data"),{isValid:o.length===0,errors:o}):(o.push("Node data is null or undefined"),{isValid:!1,errors:o})},E0=t=>{const o=[];return t?(t.id||o.push("Edge must have an id"),t.source||o.push("Edge must have a source node id"),t.target||o.push("Edge must have a target node id"),t.sourceHandle||o.push("Edge must have a source handle"),t.targetHandle||o.push("Edge must have a target handle"),{isValid:o.length===0,errors:o}):(o.push("Edge data is null or undefined"),{isValid:!1,errors:o})},C0=t=>({nodes:(t.nodes||[]).map(o=>({id:o.id,type:o.type,position:o.position,data:{label:o.data.label||o.type,inputs:[],outputs:[],params:o.data.params||{},...o.data.config?{config:o.data.config}:{}}})),edges:(t.edges||[]).map(o=>{const s=o.data?.dataType||"default";let a="#888";return s==="model"?a="#FF5733":s==="latent"?a="#33FF57":s==="prompt"&&(a="#3357FF"),{id:o.id,source:o.source,target:o.target,sourceHandle:o.sourceHandle||"output",targetHandle:o.targetHandle||"input",data:{label:o.data?.label||"",dataType:s},type:"step",style:{strokeWidth:2,stroke:a}}})}),_u=t=>({nodes:t.nodes.map(o=>({id:o.id,type:o.type||"ProcessingNode",position:o.position,data:{label:o.data?.label||o.type,params:o.data?.params||{},config:o.data?.config}})),edges:t.edges.map(o=>({id:o.id,source:o.source,target:o.target,sourceHandle:o.sourceHandle||void 0,targetHandle:o.targetHandle||void 0}))}),M0=({nodes:t,edges:o,setNodes:s,setEdges:a})=>{const[u,f]=I.useState(!1),c=I.useRef(null);I.useEffect(()=>{const g=w=>{c.current&&!c.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=()=>{console.log("Save to preset"),f(!1)},m=()=>{console.log("Download workflow");const w=_u({nodes:t,edges:o}),x=ju(w);if(x.isValid){const N=ku(w),b=JSON.stringify(N,null,2),j=new Blob([b],{type:"application/json"}),E=URL.createObjectURL(j),M=document.createElement("a");M.href=E,M.download="workflow.json",document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(E)}else console.error("Workflow Validation Failed:",x.errors),alert("Workflow Validation Failed: "+x.errors.join(", "));f(!1)},y=()=>{console.log("Import workflow");const g=document.createElement("input");g.type="file",g.accept=".json",g.onchange=w=>{const x=w.target.files?.[0];if(x){const N=new FileReader;N.onload=b=>{try{const j=JSON.parse(b.target?.result);console.log("Imported data:",j);let E;if(j.nodes&&j.edges)if(j.nodes[0]?.position)E={nodes:j.nodes||[],edges:j.edges||[]};else{const M=k0(j);if(M)E=C0(M);else throw new Error("Failed to convert backend workflow to frontend format")}else j.data?.nodes&&j.data?.edges?E={nodes:j.data.nodes||[],edges:j.data.edges||[]}:j.workflow&&j.workflow.nodes&&j.workflow.edges?E={nodes:j.workflow.nodes||[],edges:j.workflow.edges||[]}:E={nodes:j.nodes||[],edges:j.edges||[]};s(E.nodes),a(E.edges),alert(Ue("common.workflowImported"))}catch(j){console.error("Error importing workflow:",j),alert(`${Ue("common.errorImportingWorkflow")} ${j instanceof Error?j.message:String(j)}`)}},N.readAsText(x)}},g.click(),f(!1)};return i.jsxs("div",{className:"file-menu-container",ref:c,children:[i.jsx("button",{type:"button",className:"text-option-btn",onClick:()=>f(!u),children:Ue("common.file")}),u&&i.jsxs("div",{className:"file-menu-dropdown",children:[i.jsx("div",{className:"menu-item",onClick:p,children:Ue("common.save")}),i.jsx("div",{className:"menu-item",onClick:m,children:Ue("common.download")}),i.jsx("div",{className:"menu-item",onClick:y,children:Ue("common.import")})]})]})},b0=()=>{const{t}=Ir(),[o,s]=I.useState([]),[a,u]=I.useState([]),[f,c]=I.useState(!0),[p,m]=I.useState(null),[y,g]=I.useState("all"),[w,x]=I.useState(""),[N,b]=I.useState(null),[j,E]=I.useState(!1);I.useEffect(()=>{(async()=>{try{console.log("Attempting to fetch model types...");const B=await fetch("http://127.0.0.1:8080/models/types",{mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});if(console.log("Model types response:",B),!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const D=await B.json();console.log("Model types data:",D),u(D.model_types)}catch(B){console.error("Error fetching model types:",B),m(t("modelsManager.loadModelTypesError"))}})()},[t]),I.useEffect(()=>{(async()=>{c(!0),m(null);try{console.log("Attempting to fetch models...");const B=y==="all"?"http://127.0.0.1:8080/models":`http://127.0.0.1:8080/models?model_type=${y}`,D=await fetch(B,{mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});if(console.log("Models response:",D),!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const K=await D.json();console.log("Models data:",K);const Z=K.models.map(J=>({name:J.name,type:J.type,path:J.path,size:J.size}));s(Z)}catch(B){console.error("Error fetching models:",B),m("Failed to load models")}finally{c(!1)}})()},[y,t]);const M=o.filter(P=>P.name.toLowerCase().includes(w.toLowerCase())),L=async P=>{if(window.confirm(t("modelsManager.confirmDelete",{name:P.name})))try{const D=`http://localhost:8080/models/delete?model_path=${encodeURIComponent(P.path)}`;console.log("Sending delete request to:",D);const K=await fetch(D,{method:"DELETE"}),Z=await K.json();if(!K.ok||Z.status!=="ok")throw new Error(Z.message||"Failed to delete model");s(J=>J.filter(le=>le.path!==P.path)),N?.path===P.path&&b(null)}catch(B){console.error("Error deleting model:",B),m(t("modelsManager.deleteError",{message:B.message||"Failed to delete model"}))}},U=P=>{b(P)};return i.jsxs("div",{className:"models-manager",children:[i.jsx("div",{className:"models-manager-header",children:i.jsx("h2",{children:t("modelsManager.title")})}),p&&i.jsx("div",{className:"error-message",children:p}),i.jsxs("div",{className:"model-directory-info",children:[i.jsxs("div",{className:"directory-info-header",onClick:()=>E(!j),children:[i.jsx("p",{children:t("modelsManager.placeModelInfo")}),i.jsx("span",{className:`expand-icon ${j?"expanded":""}`,children:""})]}),j&&i.jsxs("div",{className:"directory-info-content",children:[i.jsxs("p",{children:[t("modelsManager.modelDirectory")," ",i.jsx("strong",{children:"uploads/models/"})]}),i.jsxs("ul",{children:[i.jsxs("li",{children:[t("modelTypes.base"),": ",i.jsx("code",{children:"checkpoints/"})]}),i.jsxs("li",{children:[t("modelTypes.lora"),": ",i.jsx("code",{children:"loras/"})]}),i.jsxs("li",{children:[t("modelTypes.vae"),": ",i.jsx("code",{children:"vae/"})]}),i.jsxs("li",{children:[t("modelTypes.text_encoder"),": ",i.jsx("code",{children:"text_encoders/"})]}),i.jsxs("li",{children:[t("modelTypes.clip_vision"),": ",i.jsx("code",{children:"clip_vision/"})]}),i.jsxs("li",{children:[t("modelTypes.controlnet"),": ",i.jsx("code",{children:"controlnet/"})]}),i.jsxs("li",{children:[t("modelTypes.embedding"),": ",i.jsx("code",{children:"embeddings/"})]}),i.jsxs("li",{children:[t("modelTypes.upscale"),": ",i.jsx("code",{children:"upscale_models/"})]})]})]})]}),i.jsxs("div",{className:"models-manager-controls",children:[i.jsx("input",{type:"text",className:"search-input",placeholder:t("modelsManager.search"),value:w,onChange:P=>x(P.target.value)}),i.jsx("select",{className:"type-selector",value:y,onChange:P=>g(P.target.value),children:a.map(P=>i.jsx("option",{value:P,children:t(P==="all"?"modelsManager.allTypes":`modelTypes.${P}`)},P))})]}),i.jsx("div",{className:"models-list-container",children:f?i.jsx("div",{className:"loading",children:t("modelsManager.loading")}):M.length===0?i.jsx("div",{className:"no-models",children:t("modelsManager.noModels")}):i.jsxs("table",{className:"models-list",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:t("modelsManager.name")}),i.jsx("th",{})]})}),i.jsx("tbody",{children:M.map((P,B)=>i.jsxs("tr",{onClick:()=>U(P),children:[i.jsx("td",{children:P.name}),i.jsx("td",{className:"model-actions",children:i.jsx("button",{className:"delete-button",onClick:D=>{D.stopPropagation(),L(P)},children:t("modelsManager.delete")})})]},B))})]})}),N&&i.jsxs("div",{className:"model-details",children:[i.jsxs("div",{className:"details-header",children:[i.jsx("h3",{children:N.name}),i.jsx("button",{className:"close-button",onClick:()=>b(null),title:t("modelsManager.close"),children:""})]}),i.jsxs("div",{className:"details-content",children:[i.jsxs("p",{children:[i.jsxs("strong",{children:[t("modelsManager.type"),""]}),N.type]}),i.jsxs("p",{children:[i.jsxs("strong",{children:[t("modelsManager.path"),""]}),i.jsx("span",{className:"model-path-full",children:N.path})]}),N.size&&i.jsxs("p",{children:[i.jsxs("strong",{children:[t("modelsManager.size"),""]}),N.size]}),N.description&&i.jsxs("p",{children:[i.jsxs("strong",{children:[t("modelsManager.description"),""]}),N.description]}),N.preview&&i.jsxs("div",{className:"model-preview",children:[i.jsxs("h4",{children:[t("modelsManager.preview"),""]}),i.jsx("img",{src:N.preview,alt:"Model Preview"})]})]})]})]})},Ve=t=>{switch(t){case"model":return"#E6E6FA";case"clip":return"#FFFF00";case"vae":return"#FF007F";case"prompt":return"#FFA500";case"latent":return"#FFC0CB";case"image":return"#0000FF";case"mask":return"#008000";case"number":return"#90EE90";case"string":return"#FFC300";case"boolean":return"#888888";default:return"#888888"}},I0=t=>Ve(t);function at(t){if(typeof t=="string"||typeof t=="number")return""+t;let o="";if(Array.isArray(t))for(let s=0,a;s<t.length;s++)(a=at(t[s]))!==""&&(o+=(o&&" ")+a);else for(let s in t)t[s]&&(o+=(o&&" ")+s);return o}var uu={exports:{}},cu={},du={exports:{}},fu={};var Af;function T0(){if(Af)return fu;Af=1;var t=xs();function o(w,x){return w===x&&(w!==0||1/w===1/x)||w!==w&&x!==x}var s=typeof Object.is=="function"?Object.is:o,a=t.useState,u=t.useEffect,f=t.useLayoutEffect,c=t.useDebugValue;function p(w,x){var N=x(),b=a({inst:{value:N,getSnapshot:x}}),j=b[0].inst,E=b[1];return f(function(){j.value=N,j.getSnapshot=x,m(j)&&E({inst:j})},[w,N,x]),u(function(){return m(j)&&E({inst:j}),w(function(){m(j)&&E({inst:j})})},[w]),c(N),N}function m(w){var x=w.getSnapshot;w=w.value;try{var N=x();return!s(w,N)}catch{return!0}}function y(w,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return fu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,fu}var Of;function L0(){return Of||(Of=1,du.exports=T0()),du.exports}var Vf;function z0(){if(Vf)return cu;Vf=1;var t=xs(),o=L0();function s(y,g){return y===g&&(y!==0||1/y===1/g)||y!==y&&g!==g}var a=typeof Object.is=="function"?Object.is:s,u=o.useSyncExternalStore,f=t.useRef,c=t.useEffect,p=t.useMemo,m=t.useDebugValue;return cu.useSyncExternalStoreWithSelector=function(y,g,w,x,N){var b=f(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=p(function(){function M(D){if(!L){if(L=!0,U=D,D=x(D),N!==void 0&&j.hasValue){var K=j.value;if(N(K,D))return P=K}return P=D}if(K=P,a(U,D))return K;var Z=x(D);return N!==void 0&&N(K,Z)?(U=D,K):(U=D,P=Z)}var L=!1,U,P,B=w===void 0?null:w;return[function(){return M(g())},B===null?void 0:function(){return M(B())}]},[g,w,x,N]);var E=u(y,b[0],b[1]);return c(function(){j.hasValue=!0,j.value=E},[E]),m(E),E},cu}var Hf;function D0(){return Hf||(Hf=1,uu.exports=z0()),uu.exports}var F0=D0();const $0=Hu(F0),R0={},Bf=t=>{let o;const s=new Set,a=(g,w)=>{const x=typeof g=="function"?g(o):g;if(!Object.is(x,o)){const N=o;o=w??(typeof x!="object"||x===null)?x:Object.assign({},o,x),s.forEach(b=>b(o,N))}},u=()=>o,m={setState:a,getState:u,getInitialState:()=>y,subscribe:g=>(s.add(g),()=>s.delete(g)),destroy:()=>{(R0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},y=o=t(a,u,m);return m},A0=t=>t?Bf(t):Bf,{useDebugValue:O0}=Y,{useSyncExternalStoreWithSelector:V0}=$0,H0=t=>t;function Fp(t,o=H0,s){const a=V0(t.subscribe,t.getState,t.getServerState||t.getInitialState,o,s);return O0(a),a}const Wf=(t,o)=>{const s=A0(t),a=(u,f=o)=>Fp(s,u,f);return Object.assign(a,s),a},B0=(t,o)=>t?Wf(t,o):Wf;function st(t,o){if(Object.is(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;if(t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(const[a,u]of t)if(!Object.is(u,o.get(a)))return!1;return!0}if(t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(const a of t)if(!o.has(a))return!1;return!0}const s=Object.keys(t);if(s.length!==Object.keys(o).length)return!1;for(const a of s)if(!Object.prototype.hasOwnProperty.call(o,a)||!Object.is(t[a],o[a]))return!1;return!0}var W0={value:()=>{}};function di(){for(var t=0,o=arguments.length,s={},a;t<o;++t){if(!(a=arguments[t]+"")||a in s||/[\s.]/.test(a))throw new Error("illegal type: "+a);s[a]=[]}return new Zl(s)}function Zl(t){this._=t}function U0(t,o){return t.trim().split(/^|\s+/).map(function(s){var a="",u=s.indexOf(".");if(u>=0&&(a=s.slice(u+1),s=s.slice(0,u)),s&&!o.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:a}})}Zl.prototype=di.prototype={constructor:Zl,on:function(t,o){var s=this._,a=U0(t+"",s),u,f=-1,c=a.length;if(arguments.length<2){for(;++f<c;)if((u=(t=a[f]).type)&&(u=q0(s[u],t.name)))return u;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++f<c;)if(u=(t=a[f]).type)s[u]=Uf(s[u],t.name,o);else if(o==null)for(u in s)s[u]=Uf(s[u],t.name,null);return this},copy:function(){var t={},o=this._;for(var s in o)t[s]=o[s].slice();return new Zl(t)},call:function(t,o){if((u=arguments.length-2)>0)for(var s=new Array(u),a=0,u,f;a<u;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(f=this._[t],a=0,u=f.length;a<u;++a)f[a].value.apply(o,s)},apply:function(t,o,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],u=0,f=a.length;u<f;++u)a[u].value.apply(o,s)}};function q0(t,o){for(var s=0,a=t.length,u;s<a;++s)if((u=t[s]).name===o)return u.value}function Uf(t,o,s){for(var a=0,u=t.length;a<u;++a)if(t[a].name===o){t[a]=W0,t=t.slice(0,a).concat(t.slice(a+1));break}return s!=null&&t.push({name:o,value:s}),t}var Pu="http://www.w3.org/1999/xhtml";const qf={svg:"http://www.w3.org/2000/svg",xhtml:Pu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fi(t){var o=t+="",s=o.indexOf(":");return s>=0&&(o=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),qf.hasOwnProperty(o)?{space:qf[o],local:t}:t}function G0(t){return function(){var o=this.ownerDocument,s=this.namespaceURI;return s===Pu&&o.documentElement.namespaceURI===Pu?o.createElement(t):o.createElementNS(s,t)}}function K0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $p(t){var o=fi(t);return(o.local?K0:G0)(o)}function Y0(){}function Bu(t){return t==null?Y0:function(){return this.querySelector(t)}}function X0(t){typeof t!="function"&&(t=Bu(t));for(var o=this._groups,s=o.length,a=new Array(s),u=0;u<s;++u)for(var f=o[u],c=f.length,p=a[u]=new Array(c),m,y,g=0;g<c;++g)(m=f[g])&&(y=t.call(m,m.__data__,g,f))&&("__data__"in m&&(y.__data__=m.__data__),p[g]=y);return new Ct(a,this._parents)}function Q0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Z0(){return[]}function Rp(t){return t==null?Z0:function(){return this.querySelectorAll(t)}}function J0(t){return function(){return Q0(t.apply(this,arguments))}}function ey(t){typeof t=="function"?t=J0(t):t=Rp(t);for(var o=this._groups,s=o.length,a=[],u=[],f=0;f<s;++f)for(var c=o[f],p=c.length,m,y=0;y<p;++y)(m=c[y])&&(a.push(t.call(m,m.__data__,y,c)),u.push(m));return new Ct(a,u)}function Ap(t){return function(){return this.matches(t)}}function Op(t){return function(o){return o.matches(t)}}var ty=Array.prototype.find;function ny(t){return function(){return ty.call(this.children,t)}}function ry(){return this.firstElementChild}function oy(t){return this.select(t==null?ry:ny(typeof t=="function"?t:Op(t)))}var sy=Array.prototype.filter;function ly(){return Array.from(this.children)}function iy(t){return function(){return sy.call(this.children,t)}}function ay(t){return this.selectAll(t==null?ly:iy(typeof t=="function"?t:Op(t)))}function uy(t){typeof t!="function"&&(t=Ap(t));for(var o=this._groups,s=o.length,a=new Array(s),u=0;u<s;++u)for(var f=o[u],c=f.length,p=a[u]=[],m,y=0;y<c;++y)(m=f[y])&&t.call(m,m.__data__,y,f)&&p.push(m);return new Ct(a,this._parents)}function Vp(t){return new Array(t.length)}function cy(){return new Ct(this._enter||this._groups.map(Vp),this._parents)}function ni(t,o){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=o}ni.prototype={constructor:ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,o){return this._parent.insertBefore(t,o)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function dy(t){return function(){return t}}function fy(t,o,s,a,u,f){for(var c=0,p,m=o.length,y=f.length;c<y;++c)(p=o[c])?(p.__data__=f[c],a[c]=p):s[c]=new ni(t,f[c]);for(;c<m;++c)(p=o[c])&&(u[c]=p)}function py(t,o,s,a,u,f,c){var p,m,y=new Map,g=o.length,w=f.length,x=new Array(g),N;for(p=0;p<g;++p)(m=o[p])&&(x[p]=N=c.call(m,m.__data__,p,o)+"",y.has(N)?u[p]=m:y.set(N,m));for(p=0;p<w;++p)N=c.call(t,f[p],p,f)+"",(m=y.get(N))?(a[p]=m,m.__data__=f[p],y.delete(N)):s[p]=new ni(t,f[p]);for(p=0;p<g;++p)(m=o[p])&&y.get(x[p])===m&&(u[p]=m)}function hy(t){return t.__data__}function my(t,o){if(!arguments.length)return Array.from(this,hy);var s=o?py:fy,a=this._parents,u=this._groups;typeof t!="function"&&(t=dy(t));for(var f=u.length,c=new Array(f),p=new Array(f),m=new Array(f),y=0;y<f;++y){var g=a[y],w=u[y],x=w.length,N=gy(t.call(g,g&&g.__data__,y,a)),b=N.length,j=p[y]=new Array(b),E=c[y]=new Array(b),M=m[y]=new Array(x);s(g,w,j,E,M,N,o);for(var L=0,U=0,P,B;L<b;++L)if(P=j[L]){for(L>=U&&(U=L+1);!(B=E[U])&&++U<b;);P._next=B||null}}return c=new Ct(c,a),c._enter=p,c._exit=m,c}function gy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yy(){return new Ct(this._exit||this._groups.map(Vp),this._parents)}function vy(t,o,s){var a=this.enter(),u=this,f=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),o!=null&&(u=o(u),u&&(u=u.selection())),s==null?f.remove():s(f),a&&u?a.merge(u).order():u}function xy(t){for(var o=t.selection?t.selection():t,s=this._groups,a=o._groups,u=s.length,f=a.length,c=Math.min(u,f),p=new Array(u),m=0;m<c;++m)for(var y=s[m],g=a[m],w=y.length,x=p[m]=new Array(w),N,b=0;b<w;++b)(N=y[b]||g[b])&&(x[b]=N);for(;m<u;++m)p[m]=s[m];return new Ct(p,this._parents)}function wy(){for(var t=this._groups,o=-1,s=t.length;++o<s;)for(var a=t[o],u=a.length-1,f=a[u],c;--u>=0;)(c=a[u])&&(f&&c.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(c,f),f=c);return this}function Ny(t){t||(t=Sy);function o(w,x){return w&&x?t(w.__data__,x.__data__):!w-!x}for(var s=this._groups,a=s.length,u=new Array(a),f=0;f<a;++f){for(var c=s[f],p=c.length,m=u[f]=new Array(p),y,g=0;g<p;++g)(y=c[g])&&(m[g]=y);m.sort(o)}return new Ct(u,this._parents).order()}function Sy(t,o){return t<o?-1:t>o?1:t>=o?0:NaN}function ky(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function jy(){return Array.from(this)}function _y(){for(var t=this._groups,o=0,s=t.length;o<s;++o)for(var a=t[o],u=0,f=a.length;u<f;++u){var c=a[u];if(c)return c}return null}function Py(){let t=0;for(const o of this)++t;return t}function Ey(){return!this.node()}function Cy(t){for(var o=this._groups,s=0,a=o.length;s<a;++s)for(var u=o[s],f=0,c=u.length,p;f<c;++f)(p=u[f])&&t.call(p,p.__data__,f,u);return this}function My(t){return function(){this.removeAttribute(t)}}function by(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Iy(t,o){return function(){this.setAttribute(t,o)}}function Ty(t,o){return function(){this.setAttributeNS(t.space,t.local,o)}}function Ly(t,o){return function(){var s=o.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function zy(t,o){return function(){var s=o.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function Dy(t,o){var s=fi(t);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((o==null?s.local?by:My:typeof o=="function"?s.local?zy:Ly:s.local?Ty:Iy)(s,o))}function Hp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fy(t){return function(){this.style.removeProperty(t)}}function $y(t,o,s){return function(){this.style.setProperty(t,o,s)}}function Ry(t,o,s){return function(){var a=o.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,s)}}function Ay(t,o,s){return arguments.length>1?this.each((o==null?Fy:typeof o=="function"?Ry:$y)(t,o,s??"")):po(this.node(),t)}function po(t,o){return t.style.getPropertyValue(o)||Hp(t).getComputedStyle(t,null).getPropertyValue(o)}function Oy(t){return function(){delete this[t]}}function Vy(t,o){return function(){this[t]=o}}function Hy(t,o){return function(){var s=o.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function By(t,o){return arguments.length>1?this.each((o==null?Oy:typeof o=="function"?Hy:Vy)(t,o)):this.node()[t]}function Bp(t){return t.trim().split(/^|\s+/)}function Wu(t){return t.classList||new Wp(t)}function Wp(t){this._node=t,this._names=Bp(t.getAttribute("class")||"")}Wp.prototype={add:function(t){var o=this._names.indexOf(t);o<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var o=this._names.indexOf(t);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Up(t,o){for(var s=Wu(t),a=-1,u=o.length;++a<u;)s.add(o[a])}function qp(t,o){for(var s=Wu(t),a=-1,u=o.length;++a<u;)s.remove(o[a])}function Wy(t){return function(){Up(this,t)}}function Uy(t){return function(){qp(this,t)}}function qy(t,o){return function(){(o.apply(this,arguments)?Up:qp)(this,t)}}function Gy(t,o){var s=Bp(t+"");if(arguments.length<2){for(var a=Wu(this.node()),u=-1,f=s.length;++u<f;)if(!a.contains(s[u]))return!1;return!0}return this.each((typeof o=="function"?qy:o?Wy:Uy)(s,o))}function Ky(){this.textContent=""}function Yy(t){return function(){this.textContent=t}}function Xy(t){return function(){var o=t.apply(this,arguments);this.textContent=o??""}}function Qy(t){return arguments.length?this.each(t==null?Ky:(typeof t=="function"?Xy:Yy)(t)):this.node().textContent}function Zy(){this.innerHTML=""}function Jy(t){return function(){this.innerHTML=t}}function ev(t){return function(){var o=t.apply(this,arguments);this.innerHTML=o??""}}function tv(t){return arguments.length?this.each(t==null?Zy:(typeof t=="function"?ev:Jy)(t)):this.node().innerHTML}function nv(){this.nextSibling&&this.parentNode.appendChild(this)}function rv(){return this.each(nv)}function ov(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sv(){return this.each(ov)}function lv(t){var o=typeof t=="function"?t:$p(t);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function iv(){return null}function av(t,o){var s=typeof t=="function"?t:$p(t),a=o==null?iv:typeof o=="function"?o:Bu(o);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})}function uv(){var t=this.parentNode;t&&t.removeChild(this)}function cv(){return this.each(uv)}function dv(){var t=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(t,this.nextSibling):t}function fv(){var t=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(t,this.nextSibling):t}function pv(t){return this.select(t?fv:dv)}function hv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function mv(t){return function(o){t.call(this,o,this.__data__)}}function gv(t){return t.trim().split(/^|\s+/).map(function(o){var s="",a=o.indexOf(".");return a>=0&&(s=o.slice(a+1),o=o.slice(0,a)),{type:o,name:s}})}function yv(t){return function(){var o=this.__on;if(o){for(var s=0,a=-1,u=o.length,f;s<u;++s)f=o[s],(!t.type||f.type===t.type)&&f.name===t.name?this.removeEventListener(f.type,f.listener,f.options):o[++a]=f;++a?o.length=a:delete this.__on}}}function vv(t,o,s){return function(){var a=this.__on,u,f=mv(o);if(a){for(var c=0,p=a.length;c<p;++c)if((u=a[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=f,u.options=s),u.value=o;return}}this.addEventListener(t.type,f,s),u={type:t.type,name:t.name,value:o,listener:f,options:s},a?a.push(u):this.__on=[u]}}function xv(t,o,s){var a=gv(t+""),u,f=a.length,c;if(arguments.length<2){var p=this.node().__on;if(p){for(var m=0,y=p.length,g;m<y;++m)for(u=0,g=p[m];u<f;++u)if((c=a[u]).type===g.type&&c.name===g.name)return g.value}return}for(p=o?vv:yv,u=0;u<f;++u)this.each(p(a[u],o,s));return this}function Gp(t,o,s){var a=Hp(t),u=a.CustomEvent;typeof u=="function"?u=new u(o,s):(u=a.document.createEvent("Event"),s?(u.initEvent(o,s.bubbles,s.cancelable),u.detail=s.detail):u.initEvent(o,!1,!1)),t.dispatchEvent(u)}function wv(t,o){return function(){return Gp(this,t,o)}}function Nv(t,o){return function(){return Gp(this,t,o.apply(this,arguments))}}function Sv(t,o){return this.each((typeof o=="function"?Nv:wv)(t,o))}function*kv(){for(var t=this._groups,o=0,s=t.length;o<s;++o)for(var a=t[o],u=0,f=a.length,c;u<f;++u)(c=a[u])&&(yield c)}var Kp=[null];function Ct(t,o){this._groups=t,this._parents=o}function ws(){return new Ct([[document.documentElement]],Kp)}function jv(){return this}Ct.prototype=ws.prototype={constructor:Ct,select:X0,selectAll:ey,selectChild:oy,selectChildren:ay,filter:uy,data:my,enter:cy,exit:yy,join:vy,merge:xy,selection:jv,order:wy,sort:Ny,call:ky,nodes:jy,node:_y,size:Py,empty:Ey,each:Cy,attr:Dy,style:Ay,property:By,classed:Gy,text:Qy,html:tv,raise:rv,lower:sv,append:lv,insert:av,remove:cv,clone:pv,datum:hv,on:xv,dispatch:Sv,[Symbol.iterator]:kv};function Ot(t){return typeof t=="string"?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],Kp)}function _v(t){let o;for(;o=t.sourceEvent;)t=o;return t}function en(t,o){if(t=_v(t),o===void 0&&(o=t.currentTarget),o){var s=o.ownerSVGElement||o;if(s.createSVGPoint){var a=s.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(o.getScreenCTM().inverse()),[a.x,a.y]}if(o.getBoundingClientRect){var u=o.getBoundingClientRect();return[t.clientX-u.left-o.clientLeft,t.clientY-u.top-o.clientTop]}}return[t.pageX,t.pageY]}const Pv={passive:!1},ds={capture:!0,passive:!1};function pu(t){t.stopImmediatePropagation()}function uo(t){t.preventDefault(),t.stopImmediatePropagation()}function Yp(t){var o=t.document.documentElement,s=Ot(t).on("dragstart.drag",uo,ds);"onselectstart"in o?s.on("selectstart.drag",uo,ds):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Xp(t,o){var s=t.document.documentElement,a=Ot(t).on("dragstart.drag",null);o&&(a.on("click.drag",uo,ds),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in s?a.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const Bl=t=>()=>t;function Eu(t,{sourceEvent:o,subject:s,target:a,identifier:u,active:f,x:c,y:p,dx:m,dy:y,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:u,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:g}})}Eu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ev(t){return!t.ctrlKey&&!t.button}function Cv(){return this.parentNode}function Mv(t,o){return o??{x:t.x,y:t.y}}function bv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Iv(){var t=Ev,o=Cv,s=Mv,a=bv,u={},f=di("start","drag","end"),c=0,p,m,y,g,w=0;function x(P){P.on("mousedown.drag",N).filter(a).on("touchstart.drag",E).on("touchmove.drag",M,Pv).on("touchend.drag touchcancel.drag",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(P,B){if(!(g||!t.call(this,P,B))){var D=U(this,o.call(this,P,B),P,B,"mouse");D&&(Ot(P.view).on("mousemove.drag",b,ds).on("mouseup.drag",j,ds),Yp(P.view),pu(P),y=!1,p=P.clientX,m=P.clientY,D("start",P))}}function b(P){if(uo(P),!y){var B=P.clientX-p,D=P.clientY-m;y=B*B+D*D>w}u.mouse("drag",P)}function j(P){Ot(P.view).on("mousemove.drag mouseup.drag",null),Xp(P.view,y),uo(P),u.mouse("end",P)}function E(P,B){if(t.call(this,P,B)){var D=P.changedTouches,K=o.call(this,P,B),Z=D.length,J,le;for(J=0;J<Z;++J)(le=U(this,K,P,B,D[J].identifier,D[J]))&&(pu(P),le("start",P,D[J]))}}function M(P){var B=P.changedTouches,D=B.length,K,Z;for(K=0;K<D;++K)(Z=u[B[K].identifier])&&(uo(P),Z("drag",P,B[K]))}function L(P){var B=P.changedTouches,D=B.length,K,Z;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),K=0;K<D;++K)(Z=u[B[K].identifier])&&(pu(P),Z("end",P,B[K]))}function U(P,B,D,K,Z,J){var le=f.copy(),X=en(J||D,B),q,W,S;if((S=s.call(P,new Eu("beforestart",{sourceEvent:D,target:x,identifier:Z,active:c,x:X[0],y:X[1],dx:0,dy:0,dispatch:le}),K))!=null)return q=S.x-X[0]||0,W=S.y-X[1]||0,function R($,Q,A){var C=X,O;switch($){case"start":u[Z]=R,O=c++;break;case"end":delete u[Z],--c;case"drag":X=en(A||Q,B),O=c;break}le.call($,P,new Eu($,{sourceEvent:Q,subject:S,target:x,identifier:Z,active:O,x:X[0]+q,y:X[1]+W,dx:X[0]-C[0],dy:X[1]-C[1],dispatch:le}),K)}}return x.filter=function(P){return arguments.length?(t=typeof P=="function"?P:Bl(!!P),x):t},x.container=function(P){return arguments.length?(o=typeof P=="function"?P:Bl(P),x):o},x.subject=function(P){return arguments.length?(s=typeof P=="function"?P:Bl(P),x):s},x.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:Bl(!!P),x):a},x.on=function(){var P=f.on.apply(f,arguments);return P===f?x:P},x.clickDistance=function(P){return arguments.length?(w=(P=+P)*P,x):Math.sqrt(w)},x}function Uu(t,o,s){t.prototype=o.prototype=s,s.constructor=t}function Qp(t,o){var s=Object.create(t.prototype);for(var a in o)s[a]=o[a];return s}function Ns(){}var fs=.7,ri=1/fs,co="\\s*([+-]?\\d+)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tv=/^#([0-9a-f]{3,8})$/,Lv=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),zv=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),Dv=new RegExp(`^rgba\\(${co},${co},${co},${ps}\\)$`),Fv=new RegExp(`^rgba\\(${hn},${hn},${hn},${ps}\\)$`),$v=new RegExp(`^hsl\\(${ps},${hn},${hn}\\)$`),Rv=new RegExp(`^hsla\\(${ps},${hn},${hn},${ps}\\)$`),Gf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uu(Ns,hs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kf,formatHex:Kf,formatHex8:Av,formatHsl:Ov,formatRgb:Yf,toString:Yf});function Kf(){return this.rgb().formatHex()}function Av(){return this.rgb().formatHex8()}function Ov(){return Zp(this).formatHsl()}function Yf(){return this.rgb().formatRgb()}function hs(t){var o,s;return t=(t+"").trim().toLowerCase(),(o=Tv.exec(t))?(s=o[1].length,o=parseInt(o[1],16),s===6?Xf(o):s===3?new kt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):s===8?Wl(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):s===4?Wl(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=Lv.exec(t))?new kt(o[1],o[2],o[3],1):(o=zv.exec(t))?new kt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=Dv.exec(t))?Wl(o[1],o[2],o[3],o[4]):(o=Fv.exec(t))?Wl(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=$v.exec(t))?Jf(o[1],o[2]/100,o[3]/100,1):(o=Rv.exec(t))?Jf(o[1],o[2]/100,o[3]/100,o[4]):Gf.hasOwnProperty(t)?Xf(Gf[t]):t==="transparent"?new kt(NaN,NaN,NaN,0):null}function Xf(t){return new kt(t>>16&255,t>>8&255,t&255,1)}function Wl(t,o,s,a){return a<=0&&(t=o=s=NaN),new kt(t,o,s,a)}function Vv(t){return t instanceof Ns||(t=hs(t)),t?(t=t.rgb(),new kt(t.r,t.g,t.b,t.opacity)):new kt}function Cu(t,o,s,a){return arguments.length===1?Vv(t):new kt(t,o,s,a??1)}function kt(t,o,s,a){this.r=+t,this.g=+o,this.b=+s,this.opacity=+a}Uu(kt,Cu,Qp(Ns,{brighter(t){return t=t==null?ri:Math.pow(ri,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fs:Math.pow(fs,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kt(Er(this.r),Er(this.g),Er(this.b),oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qf,formatHex:Qf,formatHex8:Hv,formatRgb:Zf,toString:Zf}));function Qf(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}`}function Hv(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}${_r((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zf(){const t=oi(this.opacity);return`${t===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${t===1?")":`, ${t})`}`}function oi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Er(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _r(t){return t=Er(t),(t<16?"0":"")+t.toString(16)}function Jf(t,o,s,a){return a<=0?t=o=s=NaN:s<=0||s>=1?t=o=NaN:o<=0&&(t=NaN),new tn(t,o,s,a)}function Zp(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof Ns||(t=hs(t)),!t)return new tn;if(t instanceof tn)return t;t=t.rgb();var o=t.r/255,s=t.g/255,a=t.b/255,u=Math.min(o,s,a),f=Math.max(o,s,a),c=NaN,p=f-u,m=(f+u)/2;return p?(o===f?c=(s-a)/p+(s<a)*6:s===f?c=(a-o)/p+2:c=(o-s)/p+4,p/=m<.5?f+u:2-f-u,c*=60):p=m>0&&m<1?0:c,new tn(c,p,m,t.opacity)}function Bv(t,o,s,a){return arguments.length===1?Zp(t):new tn(t,o,s,a??1)}function tn(t,o,s,a){this.h=+t,this.s=+o,this.l=+s,this.opacity=+a}Uu(tn,Bv,Qp(Ns,{brighter(t){return t=t==null?ri:Math.pow(ri,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fs:Math.pow(fs,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,o=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*o,u=2*s-a;return new kt(hu(t>=240?t-240:t+120,u,a),hu(t,u,a),hu(t<120?t+240:t-120,u,a),this.opacity)},clamp(){return new tn(ep(this.h),Ul(this.s),Ul(this.l),oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oi(this.opacity);return`${t===1?"hsl(":"hsla("}${ep(this.h)}, ${Ul(this.s)*100}%, ${Ul(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ep(t){return t=(t||0)%360,t<0?t+360:t}function Ul(t){return Math.max(0,Math.min(1,t||0))}function hu(t,o,s){return(t<60?o+(s-o)*t/60:t<180?s:t<240?o+(s-o)*(240-t)/60:o)*255}const Jp=t=>()=>t;function Wv(t,o){return function(s){return t+s*o}}function Uv(t,o,s){return t=Math.pow(t,s),o=Math.pow(o,s)-t,s=1/s,function(a){return Math.pow(t+a*o,s)}}function qv(t){return(t=+t)==1?eh:function(o,s){return s-o?Uv(o,s,t):Jp(isNaN(o)?s:o)}}function eh(t,o){var s=o-t;return s?Wv(t,s):Jp(isNaN(t)?o:t)}const tp=(function t(o){var s=qv(o);function a(u,f){var c=s((u=Cu(u)).r,(f=Cu(f)).r),p=s(u.g,f.g),m=s(u.b,f.b),y=eh(u.opacity,f.opacity);return function(g){return u.r=c(g),u.g=p(g),u.b=m(g),u.opacity=y(g),u+""}}return a.gamma=t,a})(1);function or(t,o){return t=+t,o=+o,function(s){return t*(1-s)+o*s}}var Mu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mu=new RegExp(Mu.source,"g");function Gv(t){return function(){return t}}function Kv(t){return function(o){return t(o)+""}}function Yv(t,o){var s=Mu.lastIndex=mu.lastIndex=0,a,u,f,c=-1,p=[],m=[];for(t=t+"",o=o+"";(a=Mu.exec(t))&&(u=mu.exec(o));)(f=u.index)>s&&(f=o.slice(s,f),p[c]?p[c]+=f:p[++c]=f),(a=a[0])===(u=u[0])?p[c]?p[c]+=u:p[++c]=u:(p[++c]=null,m.push({i:c,x:or(a,u)})),s=mu.lastIndex;return s<o.length&&(f=o.slice(s),p[c]?p[c]+=f:p[++c]=f),p.length<2?m[0]?Kv(m[0].x):Gv(o):(o=m.length,function(y){for(var g=0,w;g<o;++g)p[(w=m[g]).i]=w.x(y);return p.join("")})}var np=180/Math.PI,bu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function th(t,o,s,a,u,f){var c,p,m;return(c=Math.sqrt(t*t+o*o))&&(t/=c,o/=c),(m=t*s+o*a)&&(s-=t*m,a-=o*m),(p=Math.sqrt(s*s+a*a))&&(s/=p,a/=p,m/=p),t*a<o*s&&(t=-t,o=-o,m=-m,c=-c),{translateX:u,translateY:f,rotate:Math.atan2(o,t)*np,skewX:Math.atan(m)*np,scaleX:c,scaleY:p}}var ql;function Xv(t){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return o.isIdentity?bu:th(o.a,o.b,o.c,o.d,o.e,o.f)}function Qv(t){return t==null||(ql||(ql=document.createElementNS("http://www.w3.org/2000/svg","g")),ql.setAttribute("transform",t),!(t=ql.transform.baseVal.consolidate()))?bu:(t=t.matrix,th(t.a,t.b,t.c,t.d,t.e,t.f))}function nh(t,o,s,a){function u(y){return y.length?y.pop()+" ":""}function f(y,g,w,x,N,b){if(y!==w||g!==x){var j=N.push("translate(",null,o,null,s);b.push({i:j-4,x:or(y,w)},{i:j-2,x:or(g,x)})}else(w||x)&&N.push("translate("+w+o+x+s)}function c(y,g,w,x){y!==g?(y-g>180?g+=360:g-y>180&&(y+=360),x.push({i:w.push(u(w)+"rotate(",null,a)-2,x:or(y,g)})):g&&w.push(u(w)+"rotate("+g+a)}function p(y,g,w,x){y!==g?x.push({i:w.push(u(w)+"skewX(",null,a)-2,x:or(y,g)}):g&&w.push(u(w)+"skewX("+g+a)}function m(y,g,w,x,N,b){if(y!==w||g!==x){var j=N.push(u(N)+"scale(",null,",",null,")");b.push({i:j-4,x:or(y,w)},{i:j-2,x:or(g,x)})}else(w!==1||x!==1)&&N.push(u(N)+"scale("+w+","+x+")")}return function(y,g){var w=[],x=[];return y=t(y),g=t(g),f(y.translateX,y.translateY,g.translateX,g.translateY,w,x),c(y.rotate,g.rotate,w,x),p(y.skewX,g.skewX,w,x),m(y.scaleX,y.scaleY,g.scaleX,g.scaleY,w,x),y=g=null,function(N){for(var b=-1,j=x.length,E;++b<j;)w[(E=x[b]).i]=E.x(N);return w.join("")}}}var Zv=nh(Xv,"px, ","px)","deg)"),Jv=nh(Qv,", ",")",")"),ex=1e-12;function rp(t){return((t=Math.exp(t))+1/t)/2}function tx(t){return((t=Math.exp(t))-1/t)/2}function nx(t){return((t=Math.exp(2*t))-1)/(t+1)}const rx=(function t(o,s,a){function u(f,c){var p=f[0],m=f[1],y=f[2],g=c[0],w=c[1],x=c[2],N=g-p,b=w-m,j=N*N+b*b,E,M;if(j<ex)M=Math.log(x/y)/o,E=function(K){return[p+K*N,m+K*b,y*Math.exp(o*K*M)]};else{var L=Math.sqrt(j),U=(x*x-y*y+a*j)/(2*y*s*L),P=(x*x-y*y-a*j)/(2*x*s*L),B=Math.log(Math.sqrt(U*U+1)-U),D=Math.log(Math.sqrt(P*P+1)-P);M=(D-B)/o,E=function(K){var Z=K*M,J=rp(B),le=y/(s*L)*(J*nx(o*Z+B)-tx(B));return[p+le*N,m+le*b,y*J/rp(o*Z+B)]}}return E.duration=M*1e3*o/Math.SQRT2,E}return u.rho=function(f){var c=Math.max(.001,+f),p=c*c,m=p*p;return t(c,p,m)},u})(Math.SQRT2,2,4);var ho=0,is=0,ns=0,rh=1e3,si,as,li=0,Mr=0,pi=0,ms=typeof performance=="object"&&performance.now?performance:Date,oh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qu(){return Mr||(oh(ox),Mr=ms.now()+pi)}function ox(){Mr=0}function ii(){this._call=this._time=this._next=null}ii.prototype=sh.prototype={constructor:ii,restart:function(t,o,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?qu():+s)+(o==null?0:+o),!this._next&&as!==this&&(as?as._next=this:si=this,as=this),this._call=t,this._time=s,Iu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Iu())}};function sh(t,o,s){var a=new ii;return a.restart(t,o,s),a}function sx(){qu(),++ho;for(var t=si,o;t;)(o=Mr-t._time)>=0&&t._call.call(void 0,o),t=t._next;--ho}function op(){Mr=(li=ms.now())+pi,ho=is=0;try{sx()}finally{ho=0,ix(),Mr=0}}function lx(){var t=ms.now(),o=t-li;o>rh&&(pi-=o,li=t)}function ix(){for(var t,o=si,s,a=1/0;o;)o._call?(a>o._time&&(a=o._time),t=o,o=o._next):(s=o._next,o._next=null,o=t?t._next=s:si=s);as=t,Iu(a)}function Iu(t){if(!ho){is&&(is=clearTimeout(is));var o=t-Mr;o>24?(t<1/0&&(is=setTimeout(op,t-ms.now()-pi)),ns&&(ns=clearInterval(ns))):(ns||(li=ms.now(),ns=setInterval(lx,rh)),ho=1,oh(op))}}function sp(t,o,s){var a=new ii;return o=o==null?0:+o,a.restart(u=>{a.stop(),t(u+o)},o,s),a}var ax=di("start","end","cancel","interrupt"),ux=[],lh=0,lp=1,Tu=2,Jl=3,ip=4,Lu=5,ei=6;function hi(t,o,s,a,u,f){var c=t.__transition;if(!c)t.__transition={};else if(s in c)return;cx(t,s,{name:o,index:a,group:u,on:ax,tween:ux,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:lh})}function Gu(t,o){var s=nn(t,o);if(s.state>lh)throw new Error("too late; already scheduled");return s}function mn(t,o){var s=nn(t,o);if(s.state>Jl)throw new Error("too late; already running");return s}function nn(t,o){var s=t.__transition;if(!s||!(s=s[o]))throw new Error("transition not found");return s}function cx(t,o,s){var a=t.__transition,u;a[o]=s,s.timer=sh(f,0,s.time);function f(y){s.state=lp,s.timer.restart(c,s.delay,s.time),s.delay<=y&&c(y-s.delay)}function c(y){var g,w,x,N;if(s.state!==lp)return m();for(g in a)if(N=a[g],N.name===s.name){if(N.state===Jl)return sp(c);N.state===ip?(N.state=ei,N.timer.stop(),N.on.call("interrupt",t,t.__data__,N.index,N.group),delete a[g]):+g<o&&(N.state=ei,N.timer.stop(),N.on.call("cancel",t,t.__data__,N.index,N.group),delete a[g])}if(sp(function(){s.state===Jl&&(s.state=ip,s.timer.restart(p,s.delay,s.time),p(y))}),s.state=Tu,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Tu){for(s.state=Jl,u=new Array(x=s.tween.length),g=0,w=-1;g<x;++g)(N=s.tween[g].value.call(t,t.__data__,s.index,s.group))&&(u[++w]=N);u.length=w+1}}function p(y){for(var g=y<s.duration?s.ease.call(null,y/s.duration):(s.timer.restart(m),s.state=Lu,1),w=-1,x=u.length;++w<x;)u[w].call(t,g);s.state===Lu&&(s.on.call("end",t,t.__data__,s.index,s.group),m())}function m(){s.state=ei,s.timer.stop(),delete a[o];for(var y in a)return;delete t.__transition}}function ti(t,o){var s=t.__transition,a,u,f=!0,c;if(s){o=o==null?null:o+"";for(c in s){if((a=s[c]).name!==o){f=!1;continue}u=a.state>Tu&&a.state<Lu,a.state=ei,a.timer.stop(),a.on.call(u?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete s[c]}f&&delete t.__transition}}function dx(t){return this.each(function(){ti(this,t)})}function fx(t,o){var s,a;return function(){var u=mn(this,t),f=u.tween;if(f!==s){a=s=f;for(var c=0,p=a.length;c<p;++c)if(a[c].name===o){a=a.slice(),a.splice(c,1);break}}u.tween=a}}function px(t,o,s){var a,u;if(typeof s!="function")throw new Error;return function(){var f=mn(this,t),c=f.tween;if(c!==a){u=(a=c).slice();for(var p={name:o,value:s},m=0,y=u.length;m<y;++m)if(u[m].name===o){u[m]=p;break}m===y&&u.push(p)}f.tween=u}}function hx(t,o){var s=this._id;if(t+="",arguments.length<2){for(var a=nn(this.node(),s).tween,u=0,f=a.length,c;u<f;++u)if((c=a[u]).name===t)return c.value;return null}return this.each((o==null?fx:px)(s,t,o))}function Ku(t,o,s){var a=t._id;return t.each(function(){var u=mn(this,a);(u.value||(u.value={}))[o]=s.apply(this,arguments)}),function(u){return nn(u,a).value[o]}}function ih(t,o){var s;return(typeof o=="number"?or:o instanceof hs?tp:(s=hs(o))?(o=s,tp):Yv)(t,o)}function mx(t){return function(){this.removeAttribute(t)}}function gx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yx(t,o,s){var a,u=s+"",f;return function(){var c=this.getAttribute(t);return c===u?null:c===a?f:f=o(a=c,s)}}function vx(t,o,s){var a,u=s+"",f;return function(){var c=this.getAttributeNS(t.space,t.local);return c===u?null:c===a?f:f=o(a=c,s)}}function xx(t,o,s){var a,u,f;return function(){var c,p=s(this),m;return p==null?void this.removeAttribute(t):(c=this.getAttribute(t),m=p+"",c===m?null:c===a&&m===u?f:(u=m,f=o(a=c,p)))}}function wx(t,o,s){var a,u,f;return function(){var c,p=s(this),m;return p==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),m=p+"",c===m?null:c===a&&m===u?f:(u=m,f=o(a=c,p)))}}function Nx(t,o){var s=fi(t),a=s==="transform"?Jv:ih;return this.attrTween(t,typeof o=="function"?(s.local?wx:xx)(s,a,Ku(this,"attr."+t,o)):o==null?(s.local?gx:mx)(s):(s.local?vx:yx)(s,a,o))}function Sx(t,o){return function(s){this.setAttribute(t,o.call(this,s))}}function kx(t,o){return function(s){this.setAttributeNS(t.space,t.local,o.call(this,s))}}function jx(t,o){var s,a;function u(){var f=o.apply(this,arguments);return f!==a&&(s=(a=f)&&kx(t,f)),s}return u._value=o,u}function _x(t,o){var s,a;function u(){var f=o.apply(this,arguments);return f!==a&&(s=(a=f)&&Sx(t,f)),s}return u._value=o,u}function Px(t,o){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(o==null)return this.tween(s,null);if(typeof o!="function")throw new Error;var a=fi(t);return this.tween(s,(a.local?jx:_x)(a,o))}function Ex(t,o){return function(){Gu(this,t).delay=+o.apply(this,arguments)}}function Cx(t,o){return o=+o,function(){Gu(this,t).delay=o}}function Mx(t){var o=this._id;return arguments.length?this.each((typeof t=="function"?Ex:Cx)(o,t)):nn(this.node(),o).delay}function bx(t,o){return function(){mn(this,t).duration=+o.apply(this,arguments)}}function Ix(t,o){return o=+o,function(){mn(this,t).duration=o}}function Tx(t){var o=this._id;return arguments.length?this.each((typeof t=="function"?bx:Ix)(o,t)):nn(this.node(),o).duration}function Lx(t,o){if(typeof o!="function")throw new Error;return function(){mn(this,t).ease=o}}function zx(t){var o=this._id;return arguments.length?this.each(Lx(o,t)):nn(this.node(),o).ease}function Dx(t,o){return function(){var s=o.apply(this,arguments);if(typeof s!="function")throw new Error;mn(this,t).ease=s}}function Fx(t){if(typeof t!="function")throw new Error;return this.each(Dx(this._id,t))}function $x(t){typeof t!="function"&&(t=Ap(t));for(var o=this._groups,s=o.length,a=new Array(s),u=0;u<s;++u)for(var f=o[u],c=f.length,p=a[u]=[],m,y=0;y<c;++y)(m=f[y])&&t.call(m,m.__data__,y,f)&&p.push(m);return new zn(a,this._parents,this._name,this._id)}function Rx(t){if(t._id!==this._id)throw new Error;for(var o=this._groups,s=t._groups,a=o.length,u=s.length,f=Math.min(a,u),c=new Array(a),p=0;p<f;++p)for(var m=o[p],y=s[p],g=m.length,w=c[p]=new Array(g),x,N=0;N<g;++N)(x=m[N]||y[N])&&(w[N]=x);for(;p<a;++p)c[p]=o[p];return new zn(c,this._parents,this._name,this._id)}function Ax(t){return(t+"").trim().split(/^|\s+/).every(function(o){var s=o.indexOf(".");return s>=0&&(o=o.slice(0,s)),!o||o==="start"})}function Ox(t,o,s){var a,u,f=Ax(o)?Gu:mn;return function(){var c=f(this,t),p=c.on;p!==a&&(u=(a=p).copy()).on(o,s),c.on=u}}function Vx(t,o){var s=this._id;return arguments.length<2?nn(this.node(),s).on.on(t):this.each(Ox(s,t,o))}function Hx(t){return function(){var o=this.parentNode;for(var s in this.__transition)if(+s!==t)return;o&&o.removeChild(this)}}function Bx(){return this.on("end.remove",Hx(this._id))}function Wx(t){var o=this._name,s=this._id;typeof t!="function"&&(t=Bu(t));for(var a=this._groups,u=a.length,f=new Array(u),c=0;c<u;++c)for(var p=a[c],m=p.length,y=f[c]=new Array(m),g,w,x=0;x<m;++x)(g=p[x])&&(w=t.call(g,g.__data__,x,p))&&("__data__"in g&&(w.__data__=g.__data__),y[x]=w,hi(y[x],o,s,x,y,nn(g,s)));return new zn(f,this._parents,o,s)}function Ux(t){var o=this._name,s=this._id;typeof t!="function"&&(t=Rp(t));for(var a=this._groups,u=a.length,f=[],c=[],p=0;p<u;++p)for(var m=a[p],y=m.length,g,w=0;w<y;++w)if(g=m[w]){for(var x=t.call(g,g.__data__,w,m),N,b=nn(g,s),j=0,E=x.length;j<E;++j)(N=x[j])&&hi(N,o,s,j,x,b);f.push(x),c.push(g)}return new zn(f,c,o,s)}var qx=ws.prototype.constructor;function Gx(){return new qx(this._groups,this._parents)}function Kx(t,o){var s,a,u;return function(){var f=po(this,t),c=(this.style.removeProperty(t),po(this,t));return f===c?null:f===s&&c===a?u:u=o(s=f,a=c)}}function ah(t){return function(){this.style.removeProperty(t)}}function Yx(t,o,s){var a,u=s+"",f;return function(){var c=po(this,t);return c===u?null:c===a?f:f=o(a=c,s)}}function Xx(t,o,s){var a,u,f;return function(){var c=po(this,t),p=s(this),m=p+"";return p==null&&(m=p=(this.style.removeProperty(t),po(this,t))),c===m?null:c===a&&m===u?f:(u=m,f=o(a=c,p))}}function Qx(t,o){var s,a,u,f="style."+o,c="end."+f,p;return function(){var m=mn(this,t),y=m.on,g=m.value[f]==null?p||(p=ah(o)):void 0;(y!==s||u!==g)&&(a=(s=y).copy()).on(c,u=g),m.on=a}}function Zx(t,o,s){var a=(t+="")=="transform"?Zv:ih;return o==null?this.styleTween(t,Kx(t,a)).on("end.style."+t,ah(t)):typeof o=="function"?this.styleTween(t,Xx(t,a,Ku(this,"style."+t,o))).each(Qx(this._id,t)):this.styleTween(t,Yx(t,a,o),s).on("end.style."+t,null)}function Jx(t,o,s){return function(a){this.style.setProperty(t,o.call(this,a),s)}}function e1(t,o,s){var a,u;function f(){var c=o.apply(this,arguments);return c!==u&&(a=(u=c)&&Jx(t,c,s)),a}return f._value=o,f}function t1(t,o,s){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(o==null)return this.tween(a,null);if(typeof o!="function")throw new Error;return this.tween(a,e1(t,o,s??""))}function n1(t){return function(){this.textContent=t}}function r1(t){return function(){var o=t(this);this.textContent=o??""}}function o1(t){return this.tween("text",typeof t=="function"?r1(Ku(this,"text",t)):n1(t==null?"":t+""))}function s1(t){return function(o){this.textContent=t.call(this,o)}}function l1(t){var o,s;function a(){var u=t.apply(this,arguments);return u!==s&&(o=(s=u)&&s1(u)),o}return a._value=t,a}function i1(t){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,l1(t))}function a1(){for(var t=this._name,o=this._id,s=uh(),a=this._groups,u=a.length,f=0;f<u;++f)for(var c=a[f],p=c.length,m,y=0;y<p;++y)if(m=c[y]){var g=nn(m,o);hi(m,t,s,y,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new zn(a,this._parents,t,s)}function u1(){var t,o,s=this,a=s._id,u=s.size();return new Promise(function(f,c){var p={value:c},m={value:function(){--u===0&&f()}};s.each(function(){var y=mn(this,a),g=y.on;g!==t&&(o=(t=g).copy(),o._.cancel.push(p),o._.interrupt.push(p),o._.end.push(m)),y.on=o}),u===0&&f()})}var c1=0;function zn(t,o,s,a){this._groups=t,this._parents=o,this._name=s,this._id=a}function uh(){return++c1}var bn=ws.prototype;zn.prototype={constructor:zn,select:Wx,selectAll:Ux,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:$x,merge:Rx,selection:Gx,transition:a1,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:Vx,attr:Nx,attrTween:Px,style:Zx,styleTween:t1,text:o1,textTween:i1,remove:Bx,tween:hx,delay:Mx,duration:Tx,ease:zx,easeVarying:Fx,end:u1,[Symbol.iterator]:bn[Symbol.iterator]};function d1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var f1={time:null,delay:0,duration:250,ease:d1};function p1(t,o){for(var s;!(s=t.__transition)||!(s=s[o]);)if(!(t=t.parentNode))throw new Error(`transition ${o} not found`);return s}function h1(t){var o,s;t instanceof zn?(o=t._id,t=t._name):(o=uh(),(s=f1).time=qu(),t=t==null?null:t+"");for(var a=this._groups,u=a.length,f=0;f<u;++f)for(var c=a[f],p=c.length,m,y=0;y<p;++y)(m=c[y])&&hi(m,t,o,y,c,s||p1(m,o));return new zn(a,this._parents,t,o)}ws.prototype.interrupt=dx;ws.prototype.transition=h1;const Gl=t=>()=>t;function m1(t,{sourceEvent:o,target:s,transform:a,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}function Tn(t,o,s){this.k=t,this.x=o,this.y=s}Tn.prototype={constructor:Tn,scale:function(t){return t===1?this:new Tn(this.k*t,this.x,this.y)},translate:function(t,o){return t===0&o===0?this:new Tn(this.k,this.x+this.k*t,this.y+this.k*o)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ln=new Tn(1,0,0);Tn.prototype;function gu(t){t.stopImmediatePropagation()}function rs(t){t.preventDefault(),t.stopImmediatePropagation()}function g1(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function y1(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ap(){return this.__zoom||Ln}function v1(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function x1(){return navigator.maxTouchPoints||"ontouchstart"in this}function w1(t,o,s){var a=t.invertX(o[0][0])-s[0][0],u=t.invertX(o[1][0])-s[1][0],f=t.invertY(o[0][1])-s[0][1],c=t.invertY(o[1][1])-s[1][1];return t.translate(u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u),c>f?(f+c)/2:Math.min(0,f)||Math.max(0,c))}function ch(){var t=g1,o=y1,s=w1,a=v1,u=x1,f=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],p=250,m=rx,y=di("start","zoom","end"),g,w,x,N=500,b=150,j=0,E=10;function M(S){S.property("__zoom",ap).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",le).filter(u).on("touchstart.zoom",X).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(S,R,$,Q){var A=S.selection?S.selection():S;A.property("__zoom",ap),S!==A?B(S,R,$,Q):A.interrupt().each(function(){D(this,arguments).event(Q).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},M.scaleBy=function(S,R,$,Q){M.scaleTo(S,function(){var A=this.__zoom.k,C=typeof R=="function"?R.apply(this,arguments):R;return A*C},$,Q)},M.scaleTo=function(S,R,$,Q){M.transform(S,function(){var A=o.apply(this,arguments),C=this.__zoom,O=$==null?P(A):typeof $=="function"?$.apply(this,arguments):$,k=C.invert(O),F=typeof R=="function"?R.apply(this,arguments):R;return s(U(L(C,F),O,k),A,c)},$,Q)},M.translateBy=function(S,R,$,Q){M.transform(S,function(){return s(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof $=="function"?$.apply(this,arguments):$),o.apply(this,arguments),c)},null,Q)},M.translateTo=function(S,R,$,Q,A){M.transform(S,function(){var C=o.apply(this,arguments),O=this.__zoom,k=Q==null?P(C):typeof Q=="function"?Q.apply(this,arguments):Q;return s(Ln.translate(k[0],k[1]).scale(O.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof $=="function"?-$.apply(this,arguments):-$),C,c)},Q,A)};function L(S,R){return R=Math.max(f[0],Math.min(f[1],R)),R===S.k?S:new Tn(R,S.x,S.y)}function U(S,R,$){var Q=R[0]-$[0]*S.k,A=R[1]-$[1]*S.k;return Q===S.x&&A===S.y?S:new Tn(S.k,Q,A)}function P(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function B(S,R,$,Q){S.on("start.zoom",function(){D(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(Q).end()}).tween("zoom",function(){var A=this,C=arguments,O=D(A,C).event(Q),k=o.apply(A,C),F=$==null?P(k):typeof $=="function"?$.apply(A,C):$,ne=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),te=A.__zoom,ue=typeof R=="function"?R.apply(A,C):R,ee=m(te.invert(F).concat(ne/te.k),ue.invert(F).concat(ne/ue.k));return function(ge){if(ge===1)ge=ue;else{var re=ee(ge),ce=ne/re[2];ge=new Tn(ce,F[0]-re[0]*ce,F[1]-re[1]*ce)}O.zoom(null,ge)}})}function D(S,R,$){return!$&&S.__zooming||new K(S,R)}function K(S,R){this.that=S,this.args=R,this.active=0,this.sourceEvent=null,this.extent=o.apply(S,R),this.taps=0}K.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,R){return this.mouse&&S!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var R=Ot(this.that).datum();y.call(S,this.that,new m1(S,{sourceEvent:this.sourceEvent,target:M,transform:this.that.__zoom,dispatch:y}),R)}};function Z(S,...R){if(!t.apply(this,arguments))return;var $=D(this,R).event(S),Q=this.__zoom,A=Math.max(f[0],Math.min(f[1],Q.k*Math.pow(2,a.apply(this,arguments)))),C=en(S);if($.wheel)($.mouse[0][0]!==C[0]||$.mouse[0][1]!==C[1])&&($.mouse[1]=Q.invert($.mouse[0]=C)),clearTimeout($.wheel);else{if(Q.k===A)return;$.mouse=[C,Q.invert(C)],ti(this),$.start()}rs(S),$.wheel=setTimeout(O,b),$.zoom("mouse",s(U(L(Q,A),$.mouse[0],$.mouse[1]),$.extent,c));function O(){$.wheel=null,$.end()}}function J(S,...R){if(x||!t.apply(this,arguments))return;var $=S.currentTarget,Q=D(this,R,!0).event(S),A=Ot(S.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",ne,!0),C=en(S,$),O=S.clientX,k=S.clientY;Yp(S.view),gu(S),Q.mouse=[C,this.__zoom.invert(C)],ti(this),Q.start();function F(te){if(rs(te),!Q.moved){var ue=te.clientX-O,ee=te.clientY-k;Q.moved=ue*ue+ee*ee>j}Q.event(te).zoom("mouse",s(U(Q.that.__zoom,Q.mouse[0]=en(te,$),Q.mouse[1]),Q.extent,c))}function ne(te){A.on("mousemove.zoom mouseup.zoom",null),Xp(te.view,Q.moved),rs(te),Q.event(te).end()}}function le(S,...R){if(t.apply(this,arguments)){var $=this.__zoom,Q=en(S.changedTouches?S.changedTouches[0]:S,this),A=$.invert(Q),C=$.k*(S.shiftKey?.5:2),O=s(U(L($,C),Q,A),o.apply(this,R),c);rs(S),p>0?Ot(this).transition().duration(p).call(B,O,Q,S):Ot(this).call(M.transform,O,Q,S)}}function X(S,...R){if(t.apply(this,arguments)){var $=S.touches,Q=$.length,A=D(this,R,S.changedTouches.length===Q).event(S),C,O,k,F;for(gu(S),O=0;O<Q;++O)k=$[O],F=en(k,this),F=[F,this.__zoom.invert(F),k.identifier],A.touch0?!A.touch1&&A.touch0[2]!==F[2]&&(A.touch1=F,A.taps=0):(A.touch0=F,C=!0,A.taps=1+!!g);g&&(g=clearTimeout(g)),C&&(A.taps<2&&(w=F[0],g=setTimeout(function(){g=null},N)),ti(this),A.start())}}function q(S,...R){if(this.__zooming){var $=D(this,R).event(S),Q=S.changedTouches,A=Q.length,C,O,k,F;for(rs(S),C=0;C<A;++C)O=Q[C],k=en(O,this),$.touch0&&$.touch0[2]===O.identifier?$.touch0[0]=k:$.touch1&&$.touch1[2]===O.identifier&&($.touch1[0]=k);if(O=$.that.__zoom,$.touch1){var ne=$.touch0[0],te=$.touch0[1],ue=$.touch1[0],ee=$.touch1[1],ge=(ge=ue[0]-ne[0])*ge+(ge=ue[1]-ne[1])*ge,re=(re=ee[0]-te[0])*re+(re=ee[1]-te[1])*re;O=L(O,Math.sqrt(ge/re)),k=[(ne[0]+ue[0])/2,(ne[1]+ue[1])/2],F=[(te[0]+ee[0])/2,(te[1]+ee[1])/2]}else if($.touch0)k=$.touch0[0],F=$.touch0[1];else return;$.zoom("touch",s(U(O,k,F),$.extent,c))}}function W(S,...R){if(this.__zooming){var $=D(this,R).event(S),Q=S.changedTouches,A=Q.length,C,O;for(gu(S),x&&clearTimeout(x),x=setTimeout(function(){x=null},N),C=0;C<A;++C)O=Q[C],$.touch0&&$.touch0[2]===O.identifier?delete $.touch0:$.touch1&&$.touch1[2]===O.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(O=en(O,this),Math.hypot(w[0]-O[0],w[1]-O[1])<E)){var k=Ot(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return M.wheelDelta=function(S){return arguments.length?(a=typeof S=="function"?S:Gl(+S),M):a},M.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Gl(!!S),M):t},M.touchable=function(S){return arguments.length?(u=typeof S=="function"?S:Gl(!!S),M):u},M.extent=function(S){return arguments.length?(o=typeof S=="function"?S:Gl([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),M):o},M.scaleExtent=function(S){return arguments.length?(f[0]=+S[0],f[1]=+S[1],M):[f[0],f[1]]},M.translateExtent=function(S){return arguments.length?(c[0][0]=+S[0][0],c[1][0]=+S[1][0],c[0][1]=+S[0][1],c[1][1]=+S[1][1],M):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},M.constrain=function(S){return arguments.length?(s=S,M):s},M.duration=function(S){return arguments.length?(p=+S,M):p},M.interpolate=function(S){return arguments.length?(m=S,M):m},M.on=function(){var S=y.on.apply(y,arguments);return S===y?M:S},M.clickDistance=function(S){return arguments.length?(j=(S=+S)*S,M):Math.sqrt(j)},M.tapDistance=function(S){return arguments.length?(E=+S,M):E},M}Lp();const mi=I.createContext(null),N1=mi.Provider,Dn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,o)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?o.targetHandle:o.sourceHandle}", edge id: ${o.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},dh=Dn.error001();function $e(t,o){const s=I.useContext(mi);if(s===null)throw new Error(dh);return Fp(s,t,o)}const tt=()=>{const t=I.useContext(mi);if(t===null)throw new Error(dh);return I.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},S1=t=>t.userSelectionActive?"none":"all";function Yu({position:t,children:o,className:s,style:a,...u}){const f=$e(S1),c=`${t}`.split("-");return Y.createElement("div",{className:at(["react-flow__panel",s,...c]),style:{...a,pointerEvents:f},...u},o)}function k1({proOptions:t,position:o="bottom-right"}){return t?.hideAttribution?null:Y.createElement(Yu,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Y.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const j1=({x:t,y:o,label:s,labelStyle:a={},labelShowBg:u=!0,labelBgStyle:f={},labelBgPadding:c=[2,4],labelBgBorderRadius:p=2,children:m,className:y,...g})=>{const w=I.useRef(null),[x,N]=I.useState({x:0,y:0,width:0,height:0}),b=at(["react-flow__edge-textwrapper",y]);return I.useEffect(()=>{if(w.current){const j=w.current.getBBox();N({x:j.x,y:j.y,width:j.width,height:j.height})}},[s]),typeof s>"u"||!s?null:Y.createElement("g",{transform:`translate(${t-x.width/2} ${o-x.height/2})`,className:b,visibility:x.width?"visible":"hidden",...g},u&&Y.createElement("rect",{width:x.width+2*c[0],x:-c[0],y:-c[1],height:x.height+2*c[1],className:"react-flow__edge-textbg",style:f,rx:p,ry:p}),Y.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:w,style:a},s),m)};var _1=I.memo(j1);const Xu=t=>({width:t.offsetWidth,height:t.offsetHeight}),mo=(t,o=0,s=1)=>Math.min(Math.max(t,o),s),Qu=(t={x:0,y:0},o)=>({x:mo(t.x,o[0][0],o[1][0]),y:mo(t.y,o[0][1],o[1][1])}),up=(t,o,s)=>t<o?mo(Math.abs(t-o),1,50)/50:t>s?-mo(Math.abs(t-s),1,50)/50:0,fh=(t,o)=>{const s=up(t.x,35,o.width-35)*20,a=up(t.y,35,o.height-35)*20;return[s,a]},ph=t=>t.getRootNode?.()||window?.document,hh=(t,o)=>({x:Math.min(t.x,o.x),y:Math.min(t.y,o.y),x2:Math.max(t.x2,o.x2),y2:Math.max(t.y2,o.y2)}),gs=({x:t,y:o,width:s,height:a})=>({x:t,y:o,x2:t+s,y2:o+a}),mh=({x:t,y:o,x2:s,y2:a})=>({x:t,y:o,width:s-t,height:a-o}),cp=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),P1=(t,o)=>mh(hh(gs(t),gs(o))),zu=(t,o)=>{const s=Math.max(0,Math.min(t.x+t.width,o.x+o.width)-Math.max(t.x,o.x)),a=Math.max(0,Math.min(t.y+t.height,o.y+o.height)-Math.max(t.y,o.y));return Math.ceil(s*a)},E1=t=>Vt(t.width)&&Vt(t.height)&&Vt(t.x)&&Vt(t.y),Vt=t=>!isNaN(t)&&isFinite(t),Ke=Symbol.for("internals"),gh=["Enter"," ","Escape"],C1=(t,o)=>{},M1=t=>"nativeEvent"in t;function Du(t){const s=(M1(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(s?.nodeName)||s?.hasAttribute("contenteditable")||!!s?.closest(".nokey")}const yh=t=>"clientX"in t,lr=(t,o)=>{const s=yh(t),a=s?t.clientX:t.touches?.[0].clientX,u=s?t.clientY:t.touches?.[0].clientY;return{x:a-(o?.left??0),y:u-(o?.top??0)}},ai=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ss=({id:t,path:o,labelX:s,labelY:a,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:g,markerEnd:w,markerStart:x,interactionWidth:N=20})=>Y.createElement(Y.Fragment,null,Y.createElement("path",{id:t,style:g,d:o,fill:"none",className:"react-flow__edge-path",markerEnd:w,markerStart:x}),N&&Y.createElement("path",{d:o,fill:"none",strokeOpacity:0,strokeWidth:N,className:"react-flow__edge-interaction"}),u&&Vt(s)&&Vt(a)?Y.createElement(_1,{x:s,y:a,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y}):null);Ss.displayName="BaseEdge";function os(t,o,s){return s===void 0?s:a=>{const u=o().edges.find(f=>f.id===t);u&&s(a,{...u})}}function vh({sourceX:t,sourceY:o,targetX:s,targetY:a}){const u=Math.abs(s-t)/2,f=s<t?s+u:s-u,c=Math.abs(a-o)/2,p=a<o?a+c:a-c;return[f,p,u,c]}function xh({sourceX:t,sourceY:o,targetX:s,targetY:a,sourceControlX:u,sourceControlY:f,targetControlX:c,targetControlY:p}){const m=t*.125+u*.375+c*.375+s*.125,y=o*.125+f*.375+p*.375+a*.125,g=Math.abs(m-t),w=Math.abs(y-o);return[m,y,g,w]}var br;(function(t){t.Strict="strict",t.Loose="loose"})(br||(br={}));var Pr;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Pr||(Pr={}));var ys;(function(t){t.Partial="partial",t.Full="full"})(ys||(ys={}));var In;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(In||(In={}));var ui;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(ui||(ui={}));var de;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(de||(de={}));function dp({pos:t,x1:o,y1:s,x2:a,y2:u}){return t===de.Left||t===de.Right?[.5*(o+a),s]:[o,.5*(s+u)]}function wh({sourceX:t,sourceY:o,sourcePosition:s=de.Bottom,targetX:a,targetY:u,targetPosition:f=de.Top}){const[c,p]=dp({pos:s,x1:t,y1:o,x2:a,y2:u}),[m,y]=dp({pos:f,x1:a,y1:u,x2:t,y2:o}),[g,w,x,N]=xh({sourceX:t,sourceY:o,targetX:a,targetY:u,sourceControlX:c,sourceControlY:p,targetControlX:m,targetControlY:y});return[`M${t},${o} C${c},${p} ${m},${y} ${a},${u}`,g,w,x,N]}const Zu=I.memo(({sourceX:t,sourceY:o,targetX:s,targetY:a,sourcePosition:u=de.Bottom,targetPosition:f=de.Top,label:c,labelStyle:p,labelShowBg:m,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:b,interactionWidth:j})=>{const[E,M,L]=wh({sourceX:t,sourceY:o,sourcePosition:u,targetX:s,targetY:a,targetPosition:f});return Y.createElement(Ss,{path:E,labelX:M,labelY:L,label:c,labelStyle:p,labelShowBg:m,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:b,interactionWidth:j})});Zu.displayName="SimpleBezierEdge";const fp={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},b1=({source:t,sourcePosition:o=de.Bottom,target:s})=>o===de.Left||o===de.Right?t.x<s.x?{x:1,y:0}:{x:-1,y:0}:t.y<s.y?{x:0,y:1}:{x:0,y:-1},pp=(t,o)=>Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2));function I1({source:t,sourcePosition:o=de.Bottom,target:s,targetPosition:a=de.Top,center:u,offset:f}){const c=fp[o],p=fp[a],m={x:t.x+c.x*f,y:t.y+c.y*f},y={x:s.x+p.x*f,y:s.y+p.y*f},g=b1({source:m,sourcePosition:o,target:y}),w=g.x!==0?"x":"y",x=g[w];let N=[],b,j;const E={x:0,y:0},M={x:0,y:0},[L,U,P,B]=vh({sourceX:t.x,sourceY:t.y,targetX:s.x,targetY:s.y});if(c[w]*p[w]===-1){b=u.x??L,j=u.y??U;const K=[{x:b,y:m.y},{x:b,y:y.y}],Z=[{x:m.x,y:j},{x:y.x,y:j}];c[w]===x?N=w==="x"?K:Z:N=w==="x"?Z:K}else{const K=[{x:m.x,y:y.y}],Z=[{x:y.x,y:m.y}];if(w==="x"?N=c.x===x?Z:K:N=c.y===x?K:Z,o===a){const W=Math.abs(t[w]-s[w]);if(W<=f){const S=Math.min(f-1,f-W);c[w]===x?E[w]=(m[w]>t[w]?-1:1)*S:M[w]=(y[w]>s[w]?-1:1)*S}}if(o!==a){const W=w==="x"?"y":"x",S=c[w]===p[W],R=m[W]>y[W],$=m[W]<y[W];(c[w]===1&&(!S&&R||S&&$)||c[w]!==1&&(!S&&$||S&&R))&&(N=w==="x"?K:Z)}const J={x:m.x+E.x,y:m.y+E.y},le={x:y.x+M.x,y:y.y+M.y},X=Math.max(Math.abs(J.x-N[0].x),Math.abs(le.x-N[0].x)),q=Math.max(Math.abs(J.y-N[0].y),Math.abs(le.y-N[0].y));X>=q?(b=(J.x+le.x)/2,j=N[0].y):(b=N[0].x,j=(J.y+le.y)/2)}return[[t,{x:m.x+E.x,y:m.y+E.y},...N,{x:y.x+M.x,y:y.y+M.y},s],b,j,P,B]}function T1(t,o,s,a){const u=Math.min(pp(t,o)/2,pp(o,s)/2,a),{x:f,y:c}=o;if(t.x===f&&f===s.x||t.y===c&&c===s.y)return`L${f} ${c}`;if(t.y===c){const y=t.x<s.x?-1:1,g=t.y<s.y?1:-1;return`L ${f+u*y},${c}Q ${f},${c} ${f},${c+u*g}`}const p=t.x<s.x?1:-1,m=t.y<s.y?-1:1;return`L ${f},${c+u*m}Q ${f},${c} ${f+u*p},${c}`}function Fu({sourceX:t,sourceY:o,sourcePosition:s=de.Bottom,targetX:a,targetY:u,targetPosition:f=de.Top,borderRadius:c=5,centerX:p,centerY:m,offset:y=20}){const[g,w,x,N,b]=I1({source:{x:t,y:o},sourcePosition:s,target:{x:a,y:u},targetPosition:f,center:{x:p,y:m},offset:y});return[g.reduce((E,M,L)=>{let U="";return L>0&&L<g.length-1?U=T1(g[L-1],M,g[L+1],c):U=`${L===0?"M":"L"}${M.x} ${M.y}`,E+=U,E},""),w,x,N,b]}const gi=I.memo(({sourceX:t,sourceY:o,targetX:s,targetY:a,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:g,sourcePosition:w=de.Bottom,targetPosition:x=de.Top,markerEnd:N,markerStart:b,pathOptions:j,interactionWidth:E})=>{const[M,L,U]=Fu({sourceX:t,sourceY:o,sourcePosition:w,targetX:s,targetY:a,targetPosition:x,borderRadius:j?.borderRadius,offset:j?.offset});return Y.createElement(Ss,{path:M,labelX:L,labelY:U,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:g,markerEnd:N,markerStart:b,interactionWidth:E})});gi.displayName="SmoothStepEdge";const Ju=I.memo(t=>Y.createElement(gi,{...t,pathOptions:I.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));Ju.displayName="StepEdge";function L1({sourceX:t,sourceY:o,targetX:s,targetY:a}){const[u,f,c,p]=vh({sourceX:t,sourceY:o,targetX:s,targetY:a});return[`M ${t},${o}L ${s},${a}`,u,f,c,p]}const ec=I.memo(({sourceX:t,sourceY:o,targetX:s,targetY:a,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:g,markerEnd:w,markerStart:x,interactionWidth:N})=>{const[b,j,E]=L1({sourceX:t,sourceY:o,targetX:s,targetY:a});return Y.createElement(Ss,{path:b,labelX:j,labelY:E,label:u,labelStyle:f,labelShowBg:c,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:g,markerEnd:w,markerStart:x,interactionWidth:N})});ec.displayName="StraightEdge";function Kl(t,o){return t>=0?.5*t:o*25*Math.sqrt(-t)}function hp({pos:t,x1:o,y1:s,x2:a,y2:u,c:f}){switch(t){case de.Left:return[o-Kl(o-a,f),s];case de.Right:return[o+Kl(a-o,f),s];case de.Top:return[o,s-Kl(s-u,f)];case de.Bottom:return[o,s+Kl(u-s,f)]}}function Nh({sourceX:t,sourceY:o,sourcePosition:s=de.Bottom,targetX:a,targetY:u,targetPosition:f=de.Top,curvature:c=.25}){const[p,m]=hp({pos:s,x1:t,y1:o,x2:a,y2:u,c}),[y,g]=hp({pos:f,x1:a,y1:u,x2:t,y2:o,c}),[w,x,N,b]=xh({sourceX:t,sourceY:o,targetX:a,targetY:u,sourceControlX:p,sourceControlY:m,targetControlX:y,targetControlY:g});return[`M${t},${o} C${p},${m} ${y},${g} ${a},${u}`,w,x,N,b]}const ci=I.memo(({sourceX:t,sourceY:o,targetX:s,targetY:a,sourcePosition:u=de.Bottom,targetPosition:f=de.Top,label:c,labelStyle:p,labelShowBg:m,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:b,pathOptions:j,interactionWidth:E})=>{const[M,L,U]=Nh({sourceX:t,sourceY:o,sourcePosition:u,targetX:s,targetY:a,targetPosition:f,curvature:j?.curvature});return Y.createElement(Ss,{path:M,labelX:L,labelY:U,label:c,labelStyle:p,labelShowBg:m,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:b,interactionWidth:E})});ci.displayName="BezierEdge";const tc=I.createContext(null),z1=tc.Provider;tc.Consumer;const Fn=()=>I.useContext(tc),D1=t=>"id"in t&&"source"in t&&"target"in t,F1=({source:t,sourceHandle:o,target:s,targetHandle:a})=>`reactflow__edge-${t}${o||""}-${s}${a||""}`,$u=(t,o)=>typeof t>"u"?"":typeof t=="string"?t:`${o?`${o}__`:""}${Object.keys(t).sort().map(a=>`${a}=${t[a]}`).join("&")}`,$1=(t,o)=>o.some(s=>s.source===t.source&&s.target===t.target&&(s.sourceHandle===t.sourceHandle||!s.sourceHandle&&!t.sourceHandle)&&(s.targetHandle===t.targetHandle||!s.targetHandle&&!t.targetHandle)),Sh=(t,o)=>{if(!t.source||!t.target)return o;let s;return D1(t)?s={...t}:s={...t,id:F1(t)},$1(s,o)?o:o.concat(s)},Ru=({x:t,y:o},[s,a,u],f,[c,p])=>{const m={x:(t-s)/u,y:(o-a)/u};return f?{x:c*Math.round(m.x/c),y:p*Math.round(m.y/p)}:m},kh=({x:t,y:o},[s,a,u])=>({x:t*u+s,y:o*u+a}),Cr=(t,o=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const s=(t.width??0)*o[0],a=(t.height??0)*o[1],u={x:t.position.x-s,y:t.position.y-a};return{...u,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-s,y:t.positionAbsolute.y-a}:u}},yi=(t,o=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const s=t.reduce((a,u)=>{const{x:f,y:c}=Cr(u,o).positionAbsolute;return hh(a,gs({x:f,y:c,width:u.width||0,height:u.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return mh(s)},jh=(t,o,[s,a,u]=[0,0,1],f=!1,c=!1,p=[0,0])=>{const m={x:(o.x-s)/u,y:(o.y-a)/u,width:o.width/u,height:o.height/u},y=[];return t.forEach(g=>{const{width:w,height:x,selectable:N=!0,hidden:b=!1}=g;if(c&&!N||b)return!1;const{positionAbsolute:j}=Cr(g,p),E={x:j.x,y:j.y,width:w||0,height:x||0},M=zu(m,E),L=typeof w>"u"||typeof x>"u"||w===null||x===null,U=f&&M>0,P=(w||0)*(x||0);(L||U||M>=P||g.dragging)&&y.push(g)}),y},_h=(t,o)=>{const s=t.map(a=>a.id);return o.filter(a=>s.includes(a.source)||s.includes(a.target))},Ph=(t,o,s,a,u,f=.1)=>{const c=o/(t.width*(1+f)),p=s/(t.height*(1+f)),m=Math.min(c,p),y=mo(m,a,u),g=t.x+t.width/2,w=t.y+t.height/2,x=o/2-g*y,N=s/2-w*y;return{x,y:N,zoom:y}},jr=(t,o=0)=>t.transition().duration(o);function mp(t,o,s,a){return(o[s]||[]).reduce((u,f)=>(`${t.id}-${f.id}-${s}`!==a&&u.push({id:f.id||null,type:s,nodeId:t.id,x:(t.positionAbsolute?.x??0)+f.x+f.width/2,y:(t.positionAbsolute?.y??0)+f.y+f.height/2}),u),[])}function R1(t,o,s,a,u,f){const{x:c,y:p}=lr(t),y=o.elementsFromPoint(c,p).find(b=>b.classList.contains("react-flow__handle"));if(y){const b=y.getAttribute("data-nodeid");if(b){const j=nc(void 0,y),E=y.getAttribute("data-handleid"),M=f({nodeId:b,id:E,type:j});if(M){const L=u.find(U=>U.nodeId===b&&U.type===j&&U.id===E);return{handle:{id:E,type:j,nodeId:b,x:L?.x||s.x,y:L?.y||s.y},validHandleResult:M}}}}let g=[],w=1/0;if(u.forEach(b=>{const j=Math.sqrt((b.x-s.x)**2+(b.y-s.y)**2);if(j<=a){const E=f(b);j<=w&&(j<w?g=[{handle:b,validHandleResult:E}]:j===w&&g.push({handle:b,validHandleResult:E}),w=j)}}),!g.length)return{handle:null,validHandleResult:Eh()};if(g.length===1)return g[0];const x=g.some(({validHandleResult:b})=>b.isValid),N=g.some(({handle:b})=>b.type==="target");return g.find(({handle:b,validHandleResult:j})=>N?b.type==="target":x?j.isValid:!0)||g[0]}const A1={source:null,target:null,sourceHandle:null,targetHandle:null},Eh=()=>({handleDomNode:null,isValid:!1,connection:A1,endHandle:null});function Ch(t,o,s,a,u,f,c){const p=u==="target",m=c.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),y={...Eh(),handleDomNode:m};if(m){const g=nc(void 0,m),w=m.getAttribute("data-nodeid"),x=m.getAttribute("data-handleid"),N=m.classList.contains("connectable"),b=m.classList.contains("connectableend"),j={source:p?w:s,sourceHandle:p?x:a,target:p?s:w,targetHandle:p?a:x};y.connection=j,N&&b&&(o===br.Strict?p&&g==="source"||!p&&g==="target":w!==s||x!==a)&&(y.endHandle={nodeId:w,handleId:x,type:g},y.isValid=f(j))}return y}function O1({nodes:t,nodeId:o,handleId:s,handleType:a}){return t.reduce((u,f)=>{if(f[Ke]){const{handleBounds:c}=f[Ke];let p=[],m=[];c&&(p=mp(f,c,"source",`${o}-${s}-${a}`),m=mp(f,c,"target",`${o}-${s}-${a}`)),u.push(...p,...m)}return u},[])}function nc(t,o){return t||(o?.classList.contains("target")?"target":o?.classList.contains("source")?"source":null)}function yu(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function V1(t,o){let s=null;return o?s="valid":t&&!o&&(s="invalid"),s}function Mh({event:t,handleId:o,nodeId:s,onConnect:a,isTarget:u,getState:f,setState:c,isValidConnection:p,edgeUpdaterType:m,onReconnectEnd:y}){const g=ph(t.target),{connectionMode:w,domNode:x,autoPanOnConnect:N,connectionRadius:b,onConnectStart:j,panBy:E,getNodes:M,cancelConnection:L}=f();let U=0,P;const{x:B,y:D}=lr(t),K=g?.elementFromPoint(B,D),Z=nc(m,K),J=x?.getBoundingClientRect();if(!J||!Z)return;let le,X=lr(t,J),q=!1,W=null,S=!1,R=null;const $=O1({nodes:M(),nodeId:s,handleId:o,handleType:Z}),Q=()=>{if(!N)return;const[O,k]=fh(X,J);E({x:O,y:k}),U=requestAnimationFrame(Q)};c({connectionPosition:X,connectionStatus:null,connectionNodeId:s,connectionHandleId:o,connectionHandleType:Z,connectionStartHandle:{nodeId:s,handleId:o,type:Z},connectionEndHandle:null}),j?.(t,{nodeId:s,handleId:o,handleType:Z});function A(O){const{transform:k}=f();X=lr(O,J);const{handle:F,validHandleResult:ne}=R1(O,g,Ru(X,k,!1,[1,1]),b,$,te=>Ch(te,w,s,o,u?"target":"source",p,g));if(P=F,q||(Q(),q=!0),R=ne.handleDomNode,W=ne.connection,S=ne.isValid,c({connectionPosition:P&&S?kh({x:P.x,y:P.y},k):X,connectionStatus:V1(!!P,S),connectionEndHandle:ne.endHandle}),!P&&!S&&!R)return yu(le);W.source!==W.target&&R&&(yu(le),le=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",S),R.classList.toggle("react-flow__handle-valid",S))}function C(O){(P||R)&&W&&S&&a?.(W),f().onConnectEnd?.(O),m&&y?.(O),yu(le),L(),cancelAnimationFrame(U),q=!1,S=!1,W=null,R=null,g.removeEventListener("mousemove",A),g.removeEventListener("mouseup",C),g.removeEventListener("touchmove",A),g.removeEventListener("touchend",C)}g.addEventListener("mousemove",A),g.addEventListener("mouseup",C),g.addEventListener("touchmove",A),g.addEventListener("touchend",C)}const gp=()=>!0,H1=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),B1=(t,o,s)=>a=>{const{connectionStartHandle:u,connectionEndHandle:f,connectionClickStartHandle:c}=a;return{connecting:u?.nodeId===t&&u?.handleId===o&&u?.type===s||f?.nodeId===t&&f?.handleId===o&&f?.type===s,clickConnecting:c?.nodeId===t&&c?.handleId===o&&c?.type===s}},bh=I.forwardRef(({type:t="source",position:o=de.Top,isValidConnection:s,isConnectable:a=!0,isConnectableStart:u=!0,isConnectableEnd:f=!0,id:c,onConnect:p,children:m,className:y,onMouseDown:g,onTouchStart:w,...x},N)=>{const b=c||null,j=t==="target",E=tt(),M=Fn(),{connectOnClick:L,noPanClassName:U}=$e(H1,st),{connecting:P,clickConnecting:B}=$e(B1(M,b,t),st);M||E.getState().onError?.("010",Dn.error010());const D=J=>{const{defaultEdgeOptions:le,onConnect:X,hasDefaultEdges:q}=E.getState(),W={...le,...J};if(q){const{edges:S,setEdges:R}=E.getState();R(Sh(W,S))}X?.(W),p?.(W)},K=J=>{if(!M)return;const le=yh(J);u&&(le&&J.button===0||!le)&&Mh({event:J,handleId:b,nodeId:M,onConnect:D,isTarget:j,getState:E.getState,setState:E.setState,isValidConnection:s||E.getState().isValidConnection||gp}),le?g?.(J):w?.(J)},Z=J=>{const{onClickConnectStart:le,onClickConnectEnd:X,connectionClickStartHandle:q,connectionMode:W,isValidConnection:S}=E.getState();if(!M||!q&&!u)return;if(!q){le?.(J,{nodeId:M,handleId:b,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:M,type:t,handleId:b}});return}const R=ph(J.target),$=s||S||gp,{connection:Q,isValid:A}=Ch({nodeId:M,id:b,type:t},W,q.nodeId,q.handleId||null,q.type,$,R);A&&D(Q),X?.(J),E.setState({connectionClickStartHandle:null})};return Y.createElement("div",{"data-handleid":b,"data-nodeid":M,"data-handlepos":o,"data-id":`${M}-${b}-${t}`,className:at(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",U,y,{source:!j,target:j,connectable:a,connectablestart:u,connectableend:f,connecting:B,connectionindicator:a&&(u&&!P||f&&P)}]),onMouseDown:K,onTouchStart:K,onClick:L?Z:void 0,ref:N,...x},m)});bh.displayName="Handle";var Ee=I.memo(bh);const Ih=({data:t,isConnectable:o,targetPosition:s=de.Top,sourcePosition:a=de.Bottom})=>Y.createElement(Y.Fragment,null,Y.createElement(Ee,{type:"target",position:s,isConnectable:o}),t?.label,Y.createElement(Ee,{type:"source",position:a,isConnectable:o}));Ih.displayName="DefaultNode";var Au=I.memo(Ih);const Th=({data:t,isConnectable:o,sourcePosition:s=de.Bottom})=>Y.createElement(Y.Fragment,null,t?.label,Y.createElement(Ee,{type:"source",position:s,isConnectable:o}));Th.displayName="InputNode";var Lh=I.memo(Th);const zh=({data:t,isConnectable:o,targetPosition:s=de.Top})=>Y.createElement(Y.Fragment,null,Y.createElement(Ee,{type:"target",position:s,isConnectable:o}),t?.label);zh.displayName="OutputNode";var Dh=I.memo(zh);const rc=()=>null;rc.displayName="GroupNode";const W1=t=>({selectedNodes:t.getNodes().filter(o=>o.selected),selectedEdges:t.edges.filter(o=>o.selected).map(o=>({...o}))}),Yl=t=>t.id;function U1(t,o){return st(t.selectedNodes.map(Yl),o.selectedNodes.map(Yl))&&st(t.selectedEdges.map(Yl),o.selectedEdges.map(Yl))}const Fh=I.memo(({onSelectionChange:t})=>{const o=tt(),{selectedNodes:s,selectedEdges:a}=$e(W1,U1);return I.useEffect(()=>{const u={nodes:s,edges:a};t?.(u),o.getState().onSelectionChange.forEach(f=>f(u))},[s,a,t]),null});Fh.displayName="SelectionListener";const q1=t=>!!t.onSelectionChange;function G1({onSelectionChange:t}){const o=$e(q1);return t||o?Y.createElement(Fh,{onSelectionChange:t}):null}const K1=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function oo(t,o){I.useEffect(()=>{typeof t<"u"&&o(t)},[t])}function Pe(t,o,s){I.useEffect(()=>{typeof o<"u"&&s({[t]:o})},[o])}const Y1=({nodes:t,edges:o,defaultNodes:s,defaultEdges:a,onConnect:u,onConnectStart:f,onConnectEnd:c,onClickConnectStart:p,onClickConnectEnd:m,nodesDraggable:y,nodesConnectable:g,nodesFocusable:w,edgesFocusable:x,edgesUpdatable:N,elevateNodesOnSelect:b,minZoom:j,maxZoom:E,nodeExtent:M,onNodesChange:L,onEdgesChange:U,elementsSelectable:P,connectionMode:B,snapGrid:D,snapToGrid:K,translateExtent:Z,connectOnClick:J,defaultEdgeOptions:le,fitView:X,fitViewOptions:q,onNodesDelete:W,onEdgesDelete:S,onNodeDrag:R,onNodeDragStart:$,onNodeDragStop:Q,onSelectionDrag:A,onSelectionDragStart:C,onSelectionDragStop:O,noPanClassName:k,nodeOrigin:F,rfId:ne,autoPanOnConnect:te,autoPanOnNodeDrag:ue,onError:ee,connectionRadius:ge,isValidConnection:re,nodeDragThreshold:ce})=>{const{setNodes:fe,setEdges:we,setDefaultNodesAndEdges:ke,setMinZoom:Me,setMaxZoom:Le,setTranslateExtent:be,setNodeExtent:Xe,reset:Ie}=$e(K1,st),xe=tt();return I.useEffect(()=>{const Ze=a?.map(pt=>({...pt,...le}));return ke(s,Ze),()=>{Ie()}},[]),Pe("defaultEdgeOptions",le,xe.setState),Pe("connectionMode",B,xe.setState),Pe("onConnect",u,xe.setState),Pe("onConnectStart",f,xe.setState),Pe("onConnectEnd",c,xe.setState),Pe("onClickConnectStart",p,xe.setState),Pe("onClickConnectEnd",m,xe.setState),Pe("nodesDraggable",y,xe.setState),Pe("nodesConnectable",g,xe.setState),Pe("nodesFocusable",w,xe.setState),Pe("edgesFocusable",x,xe.setState),Pe("edgesUpdatable",N,xe.setState),Pe("elementsSelectable",P,xe.setState),Pe("elevateNodesOnSelect",b,xe.setState),Pe("snapToGrid",K,xe.setState),Pe("snapGrid",D,xe.setState),Pe("onNodesChange",L,xe.setState),Pe("onEdgesChange",U,xe.setState),Pe("connectOnClick",J,xe.setState),Pe("fitViewOnInit",X,xe.setState),Pe("fitViewOnInitOptions",q,xe.setState),Pe("onNodesDelete",W,xe.setState),Pe("onEdgesDelete",S,xe.setState),Pe("onNodeDrag",R,xe.setState),Pe("onNodeDragStart",$,xe.setState),Pe("onNodeDragStop",Q,xe.setState),Pe("onSelectionDrag",A,xe.setState),Pe("onSelectionDragStart",C,xe.setState),Pe("onSelectionDragStop",O,xe.setState),Pe("noPanClassName",k,xe.setState),Pe("nodeOrigin",F,xe.setState),Pe("rfId",ne,xe.setState),Pe("autoPanOnConnect",te,xe.setState),Pe("autoPanOnNodeDrag",ue,xe.setState),Pe("onError",ee,xe.setState),Pe("connectionRadius",ge,xe.setState),Pe("isValidConnection",re,xe.setState),Pe("nodeDragThreshold",ce,xe.setState),oo(t,fe),oo(o,we),oo(j,Me),oo(E,Le),oo(Z,be),oo(M,Xe),null},yp={display:"none"},X1={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$h="react-flow__node-desc",Rh="react-flow__edge-desc",Q1="react-flow__aria-live",Z1=t=>t.ariaLiveMessage;function J1({rfId:t}){const o=$e(Z1);return Y.createElement("div",{id:`${Q1}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:X1},o)}function ew({rfId:t,disableKeyboardA11y:o}){return Y.createElement(Y.Fragment,null,Y.createElement("div",{id:`${$h}-${t}`,style:yp},"Press enter or space to select a node.",!o&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Y.createElement("div",{id:`${Rh}-${t}`,style:yp},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!o&&Y.createElement(J1,{rfId:t}))}var vs=(t=null,o={actInsideInputWithModifier:!0})=>{const[s,a]=I.useState(!1),u=I.useRef(!1),f=I.useRef(new Set([])),[c,p]=I.useMemo(()=>{if(t!==null){const y=(Array.isArray(t)?t:[t]).filter(w=>typeof w=="string").map(w=>w.split("+")),g=y.reduce((w,x)=>w.concat(...x),[]);return[y,g]}return[[],[]]},[t]);return I.useEffect(()=>{const m=typeof document<"u"?document:null,y=o?.target||m;if(t!==null){const g=N=>{if(u.current=N.ctrlKey||N.metaKey||N.shiftKey,(!u.current||u.current&&!o.actInsideInputWithModifier)&&Du(N))return!1;const j=xp(N.code,p);f.current.add(N[j]),vp(c,f.current,!1)&&(N.preventDefault(),a(!0))},w=N=>{if((!u.current||u.current&&!o.actInsideInputWithModifier)&&Du(N))return!1;const j=xp(N.code,p);vp(c,f.current,!0)?(a(!1),f.current.clear()):f.current.delete(N[j]),N.key==="Meta"&&f.current.clear(),u.current=!1},x=()=>{f.current.clear(),a(!1)};return y?.addEventListener("keydown",g),y?.addEventListener("keyup",w),window.addEventListener("blur",x),()=>{y?.removeEventListener("keydown",g),y?.removeEventListener("keyup",w),window.removeEventListener("blur",x)}}},[t,a]),s};function vp(t,o,s){return t.filter(a=>s||a.length===o.size).some(a=>a.every(u=>o.has(u)))}function xp(t,o){return o.includes(t)?"code":"key"}function Ah(t,o,s,a){const u=t.parentNode||t.parentId;if(!u)return s;const f=o.get(u),c=Cr(f,a);return Ah(f,o,{x:(s.x??0)+c.x,y:(s.y??0)+c.y,z:(f[Ke]?.z??0)>(s.z??0)?f[Ke]?.z??0:s.z??0},a)}function Oh(t,o,s){t.forEach(a=>{const u=a.parentNode||a.parentId;if(u&&!t.has(u))throw new Error(`Parent node ${u} not found`);if(u||s?.[a.id]){const{x:f,y:c,z:p}=Ah(a,t,{...a.position,z:a[Ke]?.z??0},o);a.positionAbsolute={x:f,y:c},a[Ke].z=p,s?.[a.id]&&(a[Ke].isParent=!0)}})}function vu(t,o,s,a){const u=new Map,f={},c=a?1e3:0;return t.forEach(p=>{const m=(Vt(p.zIndex)?p.zIndex:0)+(p.selected?c:0),y=o.get(p.id),g={...p,positionAbsolute:{x:p.position.x,y:p.position.y}},w=p.parentNode||p.parentId;w&&(f[w]=!0);const x=y?.type&&y?.type!==p.type;Object.defineProperty(g,Ke,{enumerable:!1,value:{handleBounds:x?void 0:y?.[Ke]?.handleBounds,z:m}}),u.set(p.id,g)}),Oh(u,s,f),u}function Vh(t,o={}){const{getNodes:s,width:a,height:u,minZoom:f,maxZoom:c,d3Zoom:p,d3Selection:m,fitViewOnInitDone:y,fitViewOnInit:g,nodeOrigin:w}=t(),x=o.initial&&!y&&g;if(p&&m&&(x||!o.initial)){const b=s().filter(E=>{const M=o.includeHiddenNodes?E.width&&E.height:!E.hidden;return o.nodes?.length?M&&o.nodes.some(L=>L.id===E.id):M}),j=b.every(E=>E.width&&E.height);if(b.length>0&&j){const E=yi(b,w),{x:M,y:L,zoom:U}=Ph(E,a,u,o.minZoom??f,o.maxZoom??c,o.padding??.1),P=Ln.translate(M,L).scale(U);return typeof o.duration=="number"&&o.duration>0?p.transform(jr(m,o.duration),P):p.transform(m,P),!0}}return!1}function tw(t,o){return t.forEach(s=>{const a=o.get(s.id);a&&o.set(a.id,{...a,[Ke]:a[Ke],selected:s.selected})}),new Map(o)}function nw(t,o){return o.map(s=>{const a=t.find(u=>u.id===s.id);return a&&(s.selected=a.selected),s})}function Xl({changedNodes:t,changedEdges:o,get:s,set:a}){const{nodeInternals:u,edges:f,onNodesChange:c,onEdgesChange:p,hasDefaultNodes:m,hasDefaultEdges:y}=s();t?.length&&(m&&a({nodeInternals:tw(t,u)}),c?.(t)),o?.length&&(y&&a({edges:nw(o,f)}),p?.(o))}const so=()=>{},rw={zoomIn:so,zoomOut:so,zoomTo:so,getZoom:()=>1,setViewport:so,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:so,fitBounds:so,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},ow=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),sw=()=>{const t=tt(),{d3Zoom:o,d3Selection:s}=$e(ow,st);return I.useMemo(()=>s&&o?{zoomIn:u=>o.scaleBy(jr(s,u?.duration),1.2),zoomOut:u=>o.scaleBy(jr(s,u?.duration),1/1.2),zoomTo:(u,f)=>o.scaleTo(jr(s,f?.duration),u),getZoom:()=>t.getState().transform[2],setViewport:(u,f)=>{const[c,p,m]=t.getState().transform,y=Ln.translate(u.x??c,u.y??p).scale(u.zoom??m);o.transform(jr(s,f?.duration),y)},getViewport:()=>{const[u,f,c]=t.getState().transform;return{x:u,y:f,zoom:c}},fitView:u=>Vh(t.getState,u),setCenter:(u,f,c)=>{const{width:p,height:m,maxZoom:y}=t.getState(),g=typeof c?.zoom<"u"?c.zoom:y,w=p/2-u*g,x=m/2-f*g,N=Ln.translate(w,x).scale(g);o.transform(jr(s,c?.duration),N)},fitBounds:(u,f)=>{const{width:c,height:p,minZoom:m,maxZoom:y}=t.getState(),{x:g,y:w,zoom:x}=Ph(u,c,p,m,y,f?.padding??.1),N=Ln.translate(g,w).scale(x);o.transform(jr(s,f?.duration),N)},project:u=>{const{transform:f,snapToGrid:c,snapGrid:p}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ru(u,f,c,p)},screenToFlowPosition:u=>{const{transform:f,snapToGrid:c,snapGrid:p,domNode:m}=t.getState();if(!m)return u;const{x:y,y:g}=m.getBoundingClientRect(),w={x:u.x-y,y:u.y-g};return Ru(w,f,c,p)},flowToScreenPosition:u=>{const{transform:f,domNode:c}=t.getState();if(!c)return u;const{x:p,y:m}=c.getBoundingClientRect(),y=kh(u,f);return{x:y.x+p,y:y.y+m}},viewportInitialized:!0}:rw,[o,s])};function vi(){const t=sw(),o=tt(),s=I.useCallback(()=>o.getState().getNodes().map(j=>({...j})),[]),a=I.useCallback(j=>o.getState().nodeInternals.get(j),[]),u=I.useCallback(()=>{const{edges:j=[]}=o.getState();return j.map(E=>({...E}))},[]),f=I.useCallback(j=>{const{edges:E=[]}=o.getState();return E.find(M=>M.id===j)},[]),c=I.useCallback(j=>{const{getNodes:E,setNodes:M,hasDefaultNodes:L,onNodesChange:U}=o.getState(),P=E(),B=typeof j=="function"?j(P):j;if(L)M(B);else if(U){const D=B.length===0?P.map(K=>({type:"remove",id:K.id})):B.map(K=>({item:K,type:"reset"}));U(D)}},[]),p=I.useCallback(j=>{const{edges:E=[],setEdges:M,hasDefaultEdges:L,onEdgesChange:U}=o.getState(),P=typeof j=="function"?j(E):j;if(L)M(P);else if(U){const B=P.length===0?E.map(D=>({type:"remove",id:D.id})):P.map(D=>({item:D,type:"reset"}));U(B)}},[]),m=I.useCallback(j=>{const E=Array.isArray(j)?j:[j],{getNodes:M,setNodes:L,hasDefaultNodes:U,onNodesChange:P}=o.getState();if(U){const D=[...M(),...E];L(D)}else if(P){const B=E.map(D=>({item:D,type:"add"}));P(B)}},[]),y=I.useCallback(j=>{const E=Array.isArray(j)?j:[j],{edges:M=[],setEdges:L,hasDefaultEdges:U,onEdgesChange:P}=o.getState();if(U)L([...M,...E]);else if(P){const B=E.map(D=>({item:D,type:"add"}));P(B)}},[]),g=I.useCallback(()=>{const{getNodes:j,edges:E=[],transform:M}=o.getState(),[L,U,P]=M;return{nodes:j().map(B=>({...B})),edges:E.map(B=>({...B})),viewport:{x:L,y:U,zoom:P}}},[]),w=I.useCallback(({nodes:j,edges:E})=>{const{nodeInternals:M,getNodes:L,edges:U,hasDefaultNodes:P,hasDefaultEdges:B,onNodesDelete:D,onEdgesDelete:K,onNodesChange:Z,onEdgesChange:J}=o.getState(),le=(j||[]).map(R=>R.id),X=(E||[]).map(R=>R.id),q=L().reduce((R,$)=>{const Q=$.parentNode||$.parentId,A=!le.includes($.id)&&Q&&R.find(O=>O.id===Q);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(le.includes($.id)||A)&&R.push($),R},[]),W=U.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),S=W.filter(R=>X.includes(R.id));if(q||S){const R=_h(q,W),$=[...S,...R],Q=$.reduce((A,C)=>(A.includes(C.id)||A.push(C.id),A),[]);if((B||P)&&(B&&o.setState({edges:U.filter(A=>!Q.includes(A.id))}),P&&(q.forEach(A=>{M.delete(A.id)}),o.setState({nodeInternals:new Map(M)}))),Q.length>0&&(K?.($),J&&J(Q.map(A=>({id:A,type:"remove"})))),q.length>0&&(D?.(q),Z)){const A=q.map(C=>({id:C.id,type:"remove"}));Z(A)}}},[]),x=I.useCallback(j=>{const E=E1(j),M=E?null:o.getState().nodeInternals.get(j.id);return!E&&!M?[null,null,E]:[E?j:cp(M),M,E]},[]),N=I.useCallback((j,E=!0,M)=>{const[L,U,P]=x(j);return L?(M||o.getState().getNodes()).filter(B=>{if(!P&&(B.id===U.id||!B.positionAbsolute))return!1;const D=cp(B),K=zu(D,L);return E&&K>0||K>=L.width*L.height}):[]},[]),b=I.useCallback((j,E,M=!0)=>{const[L]=x(j);if(!L)return!1;const U=zu(L,E);return M&&U>0||U>=L.width*L.height},[]);return I.useMemo(()=>({...t,getNodes:s,getNode:a,getEdges:u,getEdge:f,setNodes:c,setEdges:p,addNodes:m,addEdges:y,toObject:g,deleteElements:w,getIntersectingNodes:N,isNodeIntersecting:b}),[t,s,a,u,f,c,p,m,y,g,w,N,b])}const lw={actInsideInputWithModifier:!1};var iw=({deleteKeyCode:t,multiSelectionKeyCode:o})=>{const s=tt(),{deleteElements:a}=vi(),u=vs(t,lw),f=vs(o);I.useEffect(()=>{if(u){const{edges:c,getNodes:p}=s.getState(),m=p().filter(g=>g.selected),y=c.filter(g=>g.selected);a({nodes:m,edges:y}),s.setState({nodesSelectionActive:!1})}},[u]),I.useEffect(()=>{s.setState({multiSelectionActive:f})},[f])};function aw(t){const o=tt();I.useEffect(()=>{let s;const a=()=>{if(!t.current)return;const u=Xu(t.current);(u.height===0||u.width===0)&&o.getState().onError?.("004",Dn.error004()),o.setState({width:u.width||500,height:u.height||500})};return a(),window.addEventListener("resize",a),t.current&&(s=new ResizeObserver(()=>a()),s.observe(t.current)),()=>{window.removeEventListener("resize",a),s&&t.current&&s.unobserve(t.current)}},[])}const oc={position:"absolute",width:"100%",height:"100%",top:0,left:0},uw=(t,o)=>t.x!==o.x||t.y!==o.y||t.zoom!==o.k,Ql=t=>({x:t.x,y:t.y,zoom:t.k}),lo=(t,o)=>t.target.closest(`.${o}`),wp=(t,o)=>o===2&&Array.isArray(t)&&t.includes(2),Np=t=>{const o=t.ctrlKey&&ai()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*o},cw=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),dw=({onMove:t,onMoveStart:o,onMoveEnd:s,onPaneContextMenu:a,zoomOnScroll:u=!0,zoomOnPinch:f=!0,panOnScroll:c=!1,panOnScrollSpeed:p=.5,panOnScrollMode:m=Pr.Free,zoomOnDoubleClick:y=!0,elementsSelectable:g,panOnDrag:w=!0,defaultViewport:x,translateExtent:N,minZoom:b,maxZoom:j,zoomActivationKeyCode:E,preventScrolling:M=!0,children:L,noWheelClassName:U,noPanClassName:P})=>{const B=I.useRef(),D=tt(),K=I.useRef(!1),Z=I.useRef(!1),J=I.useRef(null),le=I.useRef({x:0,y:0,zoom:0}),{d3Zoom:X,d3Selection:q,d3ZoomHandler:W,userSelectionActive:S}=$e(cw,st),R=vs(E),$=I.useRef(0),Q=I.useRef(!1),A=I.useRef();return aw(J),I.useEffect(()=>{if(J.current){const C=J.current.getBoundingClientRect(),O=ch().scaleExtent([b,j]).translateExtent(N),k=Ot(J.current).call(O),F=Ln.translate(x.x,x.y).scale(mo(x.zoom,b,j)),ne=[[0,0],[C.width,C.height]],te=O.constrain()(F,ne,N);O.transform(k,te),O.wheelDelta(Np),D.setState({d3Zoom:O,d3Selection:k,d3ZoomHandler:k.on("wheel.zoom"),transform:[te.x,te.y,te.k],domNode:J.current.closest(".react-flow")})}},[]),I.useEffect(()=>{q&&X&&(c&&!R&&!S?q.on("wheel.zoom",C=>{if(lo(C,U))return!1;C.preventDefault(),C.stopImmediatePropagation();const O=q.property("__zoom").k||1;if(C.ctrlKey&&f){const re=en(C),ce=Np(C),fe=O*Math.pow(2,ce);X.scaleTo(q,fe,re,C);return}const k=C.deltaMode===1?20:1;let F=m===Pr.Vertical?0:C.deltaX*k,ne=m===Pr.Horizontal?0:C.deltaY*k;!ai()&&C.shiftKey&&m!==Pr.Vertical&&(F=C.deltaY*k,ne=0),X.translateBy(q,-(F/O)*p,-(ne/O)*p,{internal:!0});const te=Ql(q.property("__zoom")),{onViewportChangeStart:ue,onViewportChange:ee,onViewportChangeEnd:ge}=D.getState();clearTimeout(A.current),Q.current||(Q.current=!0,o?.(C,te),ue?.(te)),Q.current&&(t?.(C,te),ee?.(te),A.current=setTimeout(()=>{s?.(C,te),ge?.(te),Q.current=!1},150))},{passive:!1}):typeof W<"u"&&q.on("wheel.zoom",function(C,O){if(!M&&C.type==="wheel"&&!C.ctrlKey||lo(C,U))return null;C.preventDefault(),W.call(this,C,O)},{passive:!1}))},[S,c,m,q,X,W,R,f,M,U,o,t,s]),I.useEffect(()=>{X&&X.on("start",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;$.current=C.sourceEvent?.button;const{onViewportChangeStart:O}=D.getState(),k=Ql(C.transform);K.current=!0,le.current=k,C.sourceEvent?.type==="mousedown"&&D.setState({paneDragging:!0}),O?.(k),o?.(C.sourceEvent,k)})},[X,o]),I.useEffect(()=>{X&&(S&&!K.current?X.on("zoom",null):S||X.on("zoom",C=>{const{onViewportChange:O}=D.getState();if(D.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),Z.current=!!(a&&wp(w,$.current??0)),(t||O)&&!C.sourceEvent?.internal){const k=Ql(C.transform);O?.(k),t?.(C.sourceEvent,k)}}))},[S,X,t,w,a]),I.useEffect(()=>{X&&X.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:O}=D.getState();if(K.current=!1,D.setState({paneDragging:!1}),a&&wp(w,$.current??0)&&!Z.current&&a(C.sourceEvent),Z.current=!1,(s||O)&&uw(le.current,C.transform)){const k=Ql(C.transform);le.current=k,clearTimeout(B.current),B.current=setTimeout(()=>{O?.(k),s?.(C.sourceEvent,k)},c?150:0)}})},[X,c,w,s,a]),I.useEffect(()=>{X&&X.filter(C=>{const O=R||u,k=f&&C.ctrlKey;if((w===!0||Array.isArray(w)&&w.includes(1))&&C.button===1&&C.type==="mousedown"&&(lo(C,"react-flow__node")||lo(C,"react-flow__edge")))return!0;if(!w&&!O&&!c&&!y&&!f||S||!y&&C.type==="dblclick"||lo(C,U)&&C.type==="wheel"||lo(C,P)&&(C.type!=="wheel"||c&&C.type==="wheel"&&!R)||!f&&C.ctrlKey&&C.type==="wheel"||!O&&!c&&!k&&C.type==="wheel"||!w&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(w)&&!w.includes(C.button)&&C.type==="mousedown")return!1;const F=Array.isArray(w)&&w.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&F})},[S,X,u,f,c,y,w,g,R]),Y.createElement("div",{className:"react-flow__renderer",ref:J,style:oc},L)},fw=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function pw(){const{userSelectionActive:t,userSelectionRect:o}=$e(fw,st);return t&&o?Y.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}function Sp(t,o){const s=o.parentNode||o.parentId,a=t.find(u=>u.id===s);if(a){const u=o.position.x+o.width-a.width,f=o.position.y+o.height-a.height;if(u>0||f>0||o.position.x<0||o.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,u>0&&(a.style.width+=u),f>0&&(a.style.height+=f),o.position.x<0){const c=Math.abs(o.position.x);a.position.x=a.position.x-c,a.style.width+=c,o.position.x=0}if(o.position.y<0){const c=Math.abs(o.position.y);a.position.y=a.position.y-c,a.style.height+=c,o.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function Hh(t,o){if(t.some(a=>a.type==="reset"))return t.filter(a=>a.type==="reset").map(a=>a.item);const s=t.filter(a=>a.type==="add").map(a=>a.item);return o.reduce((a,u)=>{const f=t.filter(p=>p.id===u.id);if(f.length===0)return a.push(u),a;const c={...u};for(const p of f)if(p)switch(p.type){case"select":{c.selected=p.selected;break}case"position":{typeof p.position<"u"&&(c.position=p.position),typeof p.positionAbsolute<"u"&&(c.positionAbsolute=p.positionAbsolute),typeof p.dragging<"u"&&(c.dragging=p.dragging),c.expandParent&&Sp(a,c);break}case"dimensions":{typeof p.dimensions<"u"&&(c.width=p.dimensions.width,c.height=p.dimensions.height),typeof p.updateStyle<"u"&&(c.style={...c.style||{},...p.dimensions}),typeof p.resizing=="boolean"&&(c.resizing=p.resizing),c.expandParent&&Sp(a,c);break}case"remove":return a}return a.push(c),a},s)}function Bh(t,o){return Hh(t,o)}function hw(t,o){return Hh(t,o)}const sr=(t,o)=>({id:t,type:"select",selected:o});function ao(t,o){return t.reduce((s,a)=>{const u=o.includes(a.id);return!a.selected&&u?(a.selected=!0,s.push(sr(a.id,!0))):a.selected&&!u&&(a.selected=!1,s.push(sr(a.id,!1))),s},[])}const xu=(t,o)=>s=>{s.target===o.current&&t?.(s)},mw=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Wh=I.memo(({isSelecting:t,selectionMode:o=ys.Full,panOnDrag:s,onSelectionStart:a,onSelectionEnd:u,onPaneClick:f,onPaneContextMenu:c,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:y,onPaneMouseLeave:g,children:w})=>{const x=I.useRef(null),N=tt(),b=I.useRef(0),j=I.useRef(0),E=I.useRef(),{userSelectionActive:M,elementsSelectable:L,dragging:U}=$e(mw,st),P=()=>{N.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,j.current=0},B=W=>{f?.(W),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},D=W=>{if(Array.isArray(s)&&s?.includes(2)){W.preventDefault();return}c?.(W)},K=p?W=>p(W):void 0,Z=W=>{const{resetSelectedElements:S,domNode:R}=N.getState();if(E.current=R?.getBoundingClientRect(),!L||!t||W.button!==0||W.target!==x.current||!E.current)return;const{x:$,y:Q}=lr(W,E.current);S(),N.setState({userSelectionRect:{width:0,height:0,startX:$,startY:Q,x:$,y:Q}}),a?.(W)},J=W=>{const{userSelectionRect:S,nodeInternals:R,edges:$,transform:Q,onNodesChange:A,onEdgesChange:C,nodeOrigin:O,getNodes:k}=N.getState();if(!t||!E.current||!S)return;N.setState({userSelectionActive:!0,nodesSelectionActive:!1});const F=lr(W,E.current),ne=S.startX??0,te=S.startY??0,ue={...S,x:F.x<ne?F.x:ne,y:F.y<te?F.y:te,width:Math.abs(F.x-ne),height:Math.abs(F.y-te)},ee=k(),ge=jh(R,ue,Q,o===ys.Partial,!0,O),re=_h(ge,$).map(fe=>fe.id),ce=ge.map(fe=>fe.id);if(b.current!==ce.length){b.current=ce.length;const fe=ao(ee,ce);fe.length&&A?.(fe)}if(j.current!==re.length){j.current=re.length;const fe=ao($,re);fe.length&&C?.(fe)}N.setState({userSelectionRect:ue})},le=W=>{if(W.button!==0)return;const{userSelectionRect:S}=N.getState();!M&&S&&W.target===x.current&&B?.(W),N.setState({nodesSelectionActive:b.current>0}),P(),u?.(W)},X=W=>{M&&(N.setState({nodesSelectionActive:b.current>0}),u?.(W)),P()},q=L&&(t||M);return Y.createElement("div",{className:at(["react-flow__pane",{dragging:U,selection:t}]),onClick:q?void 0:xu(B,x),onContextMenu:xu(D,x),onWheel:xu(K,x),onMouseEnter:q?void 0:m,onMouseDown:q?Z:void 0,onMouseMove:q?J:y,onMouseUp:q?le:void 0,onMouseLeave:q?X:g,ref:x,style:oc},w,Y.createElement(pw,null))});Wh.displayName="Pane";function Uh(t,o){const s=t.parentNode||t.parentId;if(!s)return!1;const a=o.get(s);return a?a.selected?!0:Uh(a,o):!1}function kp(t,o,s){let a=t;do{if(a?.matches(o))return!0;if(a===s.current)return!1;a=a.parentElement}while(a);return!1}function gw(t,o,s,a){return Array.from(t.values()).filter(u=>(u.selected||u.id===a)&&(!u.parentNode||u.parentId||!Uh(u,t))&&(u.draggable||o&&typeof u.draggable>"u")).map(u=>({id:u.id,position:u.position||{x:0,y:0},positionAbsolute:u.positionAbsolute||{x:0,y:0},distance:{x:s.x-(u.positionAbsolute?.x??0),y:s.y-(u.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:u.extent,parentNode:u.parentNode||u.parentId,parentId:u.parentNode||u.parentId,width:u.width,height:u.height,expandParent:u.expandParent}))}function yw(t,o){return!o||o==="parent"?o:[o[0],[o[1][0]-(t.width||0),o[1][1]-(t.height||0)]]}function qh(t,o,s,a,u=[0,0],f){const c=yw(t,t.extent||a);let p=c;const m=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(m&&t.width&&t.height){const w=s.get(m),{x,y:N}=Cr(w,u).positionAbsolute;p=w&&Vt(x)&&Vt(N)&&Vt(w.width)&&Vt(w.height)?[[x+t.width*u[0],N+t.height*u[1]],[x+w.width-t.width+t.width*u[0],N+w.height-t.height+t.height*u[1]]]:p}else f?.("005",Dn.error005()),p=c;else if(t.extent&&m&&t.extent!=="parent"){const w=s.get(m),{x,y:N}=Cr(w,u).positionAbsolute;p=[[t.extent[0][0]+x,t.extent[0][1]+N],[t.extent[1][0]+x,t.extent[1][1]+N]]}let y={x:0,y:0};if(m){const w=s.get(m);y=Cr(w,u).positionAbsolute}const g=p&&p!=="parent"?Qu(o,p):o;return{position:{x:g.x-y.x,y:g.y-y.y},positionAbsolute:g}}function wu({nodeId:t,dragItems:o,nodeInternals:s}){const a=o.map(u=>({...s.get(u.id),position:u.position,positionAbsolute:u.positionAbsolute}));return[t?a.find(u=>u.id===t):a[0],a]}const jp=(t,o,s,a)=>{const u=o.querySelectorAll(t);if(!u||!u.length)return null;const f=Array.from(u),c=o.getBoundingClientRect(),p={x:c.width*a[0],y:c.height*a[1]};return f.map(m=>{const y=m.getBoundingClientRect();return{id:m.getAttribute("data-handleid"),position:m.getAttribute("data-handlepos"),x:(y.left-c.left-p.x)/s,y:(y.top-c.top-p.y)/s,...Xu(m)}})};function ss(t,o,s){return s===void 0?s:a=>{const u=o().nodeInternals.get(t);u&&s(a,{...u})}}function Ou({id:t,store:o,unselect:s=!1,nodeRef:a}){const{addSelectedNodes:u,unselectNodesAndEdges:f,multiSelectionActive:c,nodeInternals:p,onError:m}=o.getState(),y=p.get(t);if(!y){m?.("012",Dn.error012(t));return}o.setState({nodesSelectionActive:!1}),y.selected?(s||y.selected&&c)&&(f({nodes:[y],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):u([t])}function vw(){const t=tt();return I.useCallback(({sourceEvent:s})=>{const{transform:a,snapGrid:u,snapToGrid:f}=t.getState(),c=s.touches?s.touches[0].clientX:s.clientX,p=s.touches?s.touches[0].clientY:s.clientY,m={x:(c-a[0])/a[2],y:(p-a[1])/a[2]};return{xSnapped:f?u[0]*Math.round(m.x/u[0]):m.x,ySnapped:f?u[1]*Math.round(m.y/u[1]):m.y,...m}},[])}function Nu(t){return(o,s,a)=>t?.(o,a)}function Gh({nodeRef:t,disabled:o=!1,noDragClassName:s,handleSelector:a,nodeId:u,isSelectable:f,selectNodesOnDrag:c}){const p=tt(),[m,y]=I.useState(!1),g=I.useRef([]),w=I.useRef({x:null,y:null}),x=I.useRef(0),N=I.useRef(null),b=I.useRef({x:0,y:0}),j=I.useRef(null),E=I.useRef(!1),M=I.useRef(!1),L=I.useRef(!1),U=vw();return I.useEffect(()=>{if(t?.current){const P=Ot(t.current),B=({x:Z,y:J})=>{const{nodeInternals:le,onNodeDrag:X,onSelectionDrag:q,updateNodePositions:W,nodeExtent:S,snapGrid:R,snapToGrid:$,nodeOrigin:Q,onError:A}=p.getState();w.current={x:Z,y:J};let C=!1,O={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&S){const F=yi(g.current,Q);O=gs(F)}if(g.current=g.current.map(F=>{const ne={x:Z-F.distance.x,y:J-F.distance.y};$&&(ne.x=R[0]*Math.round(ne.x/R[0]),ne.y=R[1]*Math.round(ne.y/R[1]));const te=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];g.current.length>1&&S&&!F.extent&&(te[0][0]=F.positionAbsolute.x-O.x+S[0][0],te[1][0]=F.positionAbsolute.x+(F.width??0)-O.x2+S[1][0],te[0][1]=F.positionAbsolute.y-O.y+S[0][1],te[1][1]=F.positionAbsolute.y+(F.height??0)-O.y2+S[1][1]);const ue=qh(F,ne,le,te,Q,A);return C=C||F.position.x!==ue.position.x||F.position.y!==ue.position.y,F.position=ue.position,F.positionAbsolute=ue.positionAbsolute,F}),!C)return;W(g.current,!0,!0),y(!0);const k=u?X:Nu(q);if(k&&j.current){const[F,ne]=wu({nodeId:u,dragItems:g.current,nodeInternals:le});k(j.current,F,ne)}},D=()=>{if(!N.current)return;const[Z,J]=fh(b.current,N.current);if(Z!==0||J!==0){const{transform:le,panBy:X}=p.getState();w.current.x=(w.current.x??0)-Z/le[2],w.current.y=(w.current.y??0)-J/le[2],X({x:Z,y:J})&&B(w.current)}x.current=requestAnimationFrame(D)},K=Z=>{const{nodeInternals:J,multiSelectionActive:le,nodesDraggable:X,unselectNodesAndEdges:q,onNodeDragStart:W,onSelectionDragStart:S}=p.getState();M.current=!0;const R=u?W:Nu(S);(!c||!f)&&!le&&u&&(J.get(u)?.selected||q()),u&&f&&c&&Ou({id:u,store:p,nodeRef:t});const $=U(Z);if(w.current=$,g.current=gw(J,X,$,u),R&&g.current){const[Q,A]=wu({nodeId:u,dragItems:g.current,nodeInternals:J});R(Z.sourceEvent,Q,A)}};if(o)P.on(".drag",null);else{const Z=Iv().on("start",J=>{const{domNode:le,nodeDragThreshold:X}=p.getState();X===0&&K(J),L.current=!1;const q=U(J);w.current=q,N.current=le?.getBoundingClientRect()||null,b.current=lr(J.sourceEvent,N.current)}).on("drag",J=>{const le=U(J),{autoPanOnNodeDrag:X,nodeDragThreshold:q}=p.getState();if(J.sourceEvent.type==="touchmove"&&J.sourceEvent.touches.length>1&&(L.current=!0),!L.current){if(!E.current&&M.current&&X&&(E.current=!0,D()),!M.current){const W=le.xSnapped-(w?.current?.x??0),S=le.ySnapped-(w?.current?.y??0);Math.sqrt(W*W+S*S)>q&&K(J)}(w.current.x!==le.xSnapped||w.current.y!==le.ySnapped)&&g.current&&M.current&&(j.current=J.sourceEvent,b.current=lr(J.sourceEvent,N.current),B(le))}}).on("end",J=>{if(!(!M.current||L.current)&&(y(!1),E.current=!1,M.current=!1,cancelAnimationFrame(x.current),g.current)){const{updateNodePositions:le,nodeInternals:X,onNodeDragStop:q,onSelectionDragStop:W}=p.getState(),S=u?q:Nu(W);if(le(g.current,!1,!1),S){const[R,$]=wu({nodeId:u,dragItems:g.current,nodeInternals:X});S(J.sourceEvent,R,$)}}}).filter(J=>{const le=J.target;return!J.button&&(!s||!kp(le,`.${s}`,t))&&(!a||kp(le,a,t))});return P.call(Z),()=>{P.on(".drag",null)}}}},[t,o,s,a,f,p,u,c,U]),m}function Kh(){const t=tt();return I.useCallback(s=>{const{nodeInternals:a,nodeExtent:u,updateNodePositions:f,getNodes:c,snapToGrid:p,snapGrid:m,onError:y,nodesDraggable:g}=t.getState(),w=c().filter(L=>L.selected&&(L.draggable||g&&typeof L.draggable>"u")),x=p?m[0]:5,N=p?m[1]:5,b=s.isShiftPressed?4:1,j=s.x*x*b,E=s.y*N*b,M=w.map(L=>{if(L.positionAbsolute){const U={x:L.positionAbsolute.x+j,y:L.positionAbsolute.y+E};p&&(U.x=m[0]*Math.round(U.x/m[0]),U.y=m[1]*Math.round(U.y/m[1]));const{positionAbsolute:P,position:B}=qh(L,U,a,u,void 0,y);L.position=B,L.positionAbsolute=P}return L});f(M,!0,!1)},[])}const fo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ls=t=>{const o=({id:s,type:a,data:u,xPos:f,yPos:c,xPosOrigin:p,yPosOrigin:m,selected:y,onClick:g,onMouseEnter:w,onMouseMove:x,onMouseLeave:N,onContextMenu:b,onDoubleClick:j,style:E,className:M,isDraggable:L,isSelectable:U,isConnectable:P,isFocusable:B,selectNodesOnDrag:D,sourcePosition:K,targetPosition:Z,hidden:J,resizeObserver:le,dragHandle:X,zIndex:q,isParent:W,noDragClassName:S,noPanClassName:R,initialized:$,disableKeyboardA11y:Q,ariaLabel:A,rfId:C,hasHandleBounds:O})=>{const k=tt(),F=I.useRef(null),ne=I.useRef(null),te=I.useRef(K),ue=I.useRef(Z),ee=I.useRef(a),ge=U||L||g||w||x||N,re=Kh(),ce=ss(s,k.getState,w),fe=ss(s,k.getState,x),we=ss(s,k.getState,N),ke=ss(s,k.getState,b),Me=ss(s,k.getState,j),Le=Ie=>{const{nodeDragThreshold:xe}=k.getState();if(U&&(!D||!L||xe>0)&&Ou({id:s,store:k,nodeRef:F}),g){const Ze=k.getState().nodeInternals.get(s);Ze&&g(Ie,{...Ze})}},be=Ie=>{if(!Du(Ie)&&!Q)if(gh.includes(Ie.key)&&U){const xe=Ie.key==="Escape";Ou({id:s,store:k,unselect:xe,nodeRef:F})}else L&&y&&Object.prototype.hasOwnProperty.call(fo,Ie.key)&&(k.setState({ariaLiveMessage:`Moved selected node ${Ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~f}, y: ${~~c}`}),re({x:fo[Ie.key].x,y:fo[Ie.key].y,isShiftPressed:Ie.shiftKey}))};I.useEffect(()=>()=>{ne.current&&(le?.unobserve(ne.current),ne.current=null)},[]),I.useEffect(()=>{if(F.current&&!J){const Ie=F.current;(!$||!O||ne.current!==Ie)&&(ne.current&&le?.unobserve(ne.current),le?.observe(Ie),ne.current=Ie)}},[J,$,O]),I.useEffect(()=>{const Ie=ee.current!==a,xe=te.current!==K,Ze=ue.current!==Z;F.current&&(Ie||xe||Ze)&&(Ie&&(ee.current=a),xe&&(te.current=K),Ze&&(ue.current=Z),k.getState().updateNodeDimensions([{id:s,nodeElement:F.current,forceUpdate:!0}]))},[s,a,K,Z]);const Xe=Gh({nodeRef:F,disabled:J||!L,noDragClassName:S,handleSelector:X,nodeId:s,isSelectable:U,selectNodesOnDrag:D});return J?null:Y.createElement("div",{className:at(["react-flow__node",`react-flow__node-${a}`,{[R]:L},M,{selected:y,selectable:U,parent:W,dragging:Xe}]),ref:F,style:{zIndex:q,transform:`translate(${p}px,${m}px)`,pointerEvents:ge?"all":"none",visibility:$?"visible":"hidden",...E},"data-id":s,"data-testid":`rf__node-${s}`,onMouseEnter:ce,onMouseMove:fe,onMouseLeave:we,onContextMenu:ke,onClick:Le,onDoubleClick:Me,onKeyDown:B?be:void 0,tabIndex:B?0:void 0,role:B?"button":void 0,"aria-describedby":Q?void 0:`${$h}-${C}`,"aria-label":A},Y.createElement(z1,{value:s},Y.createElement(t,{id:s,data:u,type:a,xPos:f,yPos:c,selected:y,isConnectable:P,sourcePosition:K,targetPosition:Z,dragging:Xe,dragHandle:X,zIndex:q})))};return o.displayName="NodeWrapper",I.memo(o)};const xw=t=>{const o=t.getNodes().filter(s=>s.selected);return{...yi(o,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function ww({onSelectionContextMenu:t,noPanClassName:o,disableKeyboardA11y:s}){const a=tt(),{width:u,height:f,x:c,y:p,transformString:m,userSelectionActive:y}=$e(xw,st),g=Kh(),w=I.useRef(null);if(I.useEffect(()=>{s||w.current?.focus({preventScroll:!0})},[s]),Gh({nodeRef:w}),y||!u||!f)return null;const x=t?b=>{const j=a.getState().getNodes().filter(E=>E.selected);t(b,j)}:void 0,N=b=>{Object.prototype.hasOwnProperty.call(fo,b.key)&&g({x:fo[b.key].x,y:fo[b.key].y,isShiftPressed:b.shiftKey})};return Y.createElement("div",{className:at(["react-flow__nodesselection","react-flow__container",o]),style:{transform:m}},Y.createElement("div",{ref:w,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:s?void 0:-1,onKeyDown:s?void 0:N,style:{width:u,height:f,top:p,left:c}}))}var Nw=I.memo(ww);const Sw=t=>t.nodesSelectionActive,Yh=({children:t,onPaneClick:o,onPaneMouseEnter:s,onPaneMouseMove:a,onPaneMouseLeave:u,onPaneContextMenu:f,onPaneScroll:c,deleteKeyCode:p,onMove:m,onMoveStart:y,onMoveEnd:g,selectionKeyCode:w,selectionOnDrag:x,selectionMode:N,onSelectionStart:b,onSelectionEnd:j,multiSelectionKeyCode:E,panActivationKeyCode:M,zoomActivationKeyCode:L,elementsSelectable:U,zoomOnScroll:P,zoomOnPinch:B,panOnScroll:D,panOnScrollSpeed:K,panOnScrollMode:Z,zoomOnDoubleClick:J,panOnDrag:le,defaultViewport:X,translateExtent:q,minZoom:W,maxZoom:S,preventScrolling:R,onSelectionContextMenu:$,noWheelClassName:Q,noPanClassName:A,disableKeyboardA11y:C})=>{const O=$e(Sw),k=vs(w),F=vs(M),ne=F||le,te=F||D,ue=k||x&&ne!==!0;return iw({deleteKeyCode:p,multiSelectionKeyCode:E}),Y.createElement(dw,{onMove:m,onMoveStart:y,onMoveEnd:g,onPaneContextMenu:f,elementsSelectable:U,zoomOnScroll:P,zoomOnPinch:B,panOnScroll:te,panOnScrollSpeed:K,panOnScrollMode:Z,zoomOnDoubleClick:J,panOnDrag:!k&&ne,defaultViewport:X,translateExtent:q,minZoom:W,maxZoom:S,zoomActivationKeyCode:L,preventScrolling:R,noWheelClassName:Q,noPanClassName:A},Y.createElement(Wh,{onSelectionStart:b,onSelectionEnd:j,onPaneClick:o,onPaneMouseEnter:s,onPaneMouseMove:a,onPaneMouseLeave:u,onPaneContextMenu:f,onPaneScroll:c,panOnDrag:ne,isSelecting:!!ue,selectionMode:N},t,O&&Y.createElement(Nw,{onSelectionContextMenu:$,noPanClassName:A,disableKeyboardA11y:C})))};Yh.displayName="FlowRenderer";var kw=I.memo(Yh);function jw(t){return $e(I.useCallback(s=>t?jh(s.nodeInternals,{x:0,y:0,width:s.width,height:s.height},s.transform,!0):s.getNodes(),[t]))}function _w(t){const o={input:ls(t.input||Lh),default:ls(t.default||Au),output:ls(t.output||Dh),group:ls(t.group||rc)},s={},a=Object.keys(t).filter(u=>!["input","default","output","group"].includes(u)).reduce((u,f)=>(u[f]=ls(t[f]||Au),u),s);return{...o,...a}}const Pw=({x:t,y:o,width:s,height:a,origin:u})=>!s||!a?{x:t,y:o}:u[0]<0||u[1]<0||u[0]>1||u[1]>1?{x:t,y:o}:{x:t-s*u[0],y:o-a*u[1]},Ew=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Xh=t=>{const{nodesDraggable:o,nodesConnectable:s,nodesFocusable:a,elementsSelectable:u,updateNodeDimensions:f,onError:c}=$e(Ew,st),p=jw(t.onlyRenderVisibleElements),m=I.useRef(),y=I.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(w=>{const x=w.map(N=>({id:N.target.getAttribute("data-id"),nodeElement:N.target,forceUpdate:!0}));f(x)});return m.current=g,g},[]);return I.useEffect(()=>()=>{m?.current?.disconnect()},[]),Y.createElement("div",{className:"react-flow__nodes",style:oc},p.map(g=>{let w=g.type||"default";t.nodeTypes[w]||(c?.("003",Dn.error003(w)),w="default");const x=t.nodeTypes[w]||t.nodeTypes.default,N=!!(g.draggable||o&&typeof g.draggable>"u"),b=!!(g.selectable||u&&typeof g.selectable>"u"),j=!!(g.connectable||s&&typeof g.connectable>"u"),E=!!(g.focusable||a&&typeof g.focusable>"u"),M=t.nodeExtent?Qu(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,L=M?.x??0,U=M?.y??0,P=Pw({x:L,y:U,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return Y.createElement(x,{key:g.id,id:g.id,className:g.className,style:g.style,type:w,data:g.data,sourcePosition:g.sourcePosition||de.Bottom,targetPosition:g.targetPosition||de.Top,hidden:g.hidden,xPos:L,yPos:U,xPosOrigin:P.x,yPosOrigin:P.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:N,isSelectable:b,isConnectable:j,isFocusable:E,resizeObserver:y,dragHandle:g.dragHandle,zIndex:g[Ke]?.z??0,isParent:!!g[Ke]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[Ke]?.handleBounds})}))};Xh.displayName="NodeRenderer";var Cw=I.memo(Xh);const Mw=(t,o,s)=>s===de.Left?t-o:s===de.Right?t+o:t,bw=(t,o,s)=>s===de.Top?t-o:s===de.Bottom?t+o:t,_p="react-flow__edgeupdater",Pp=({position:t,centerX:o,centerY:s,radius:a=10,onMouseDown:u,onMouseEnter:f,onMouseOut:c,type:p})=>Y.createElement("circle",{onMouseDown:u,onMouseEnter:f,onMouseOut:c,className:at([_p,`${_p}-${p}`]),cx:Mw(o,a,t),cy:bw(s,a,t),r:a,stroke:"transparent",fill:"transparent"}),Iw=()=>!0;var io=t=>{const o=({id:s,className:a,type:u,data:f,onClick:c,onEdgeDoubleClick:p,selected:m,animated:y,label:g,labelStyle:w,labelShowBg:x,labelBgStyle:N,labelBgPadding:b,labelBgBorderRadius:j,style:E,source:M,target:L,sourceX:U,sourceY:P,targetX:B,targetY:D,sourcePosition:K,targetPosition:Z,elementsSelectable:J,hidden:le,sourceHandleId:X,targetHandleId:q,onContextMenu:W,onMouseEnter:S,onMouseMove:R,onMouseLeave:$,reconnectRadius:Q,onReconnect:A,onReconnectStart:C,onReconnectEnd:O,markerEnd:k,markerStart:F,rfId:ne,ariaLabel:te,isFocusable:ue,isReconnectable:ee,pathOptions:ge,interactionWidth:re,disableKeyboardA11y:ce})=>{const fe=I.useRef(null),[we,ke]=I.useState(!1),[Me,Le]=I.useState(!1),be=tt(),Xe=I.useMemo(()=>`url('#${$u(F,ne)}')`,[F,ne]),Ie=I.useMemo(()=>`url('#${$u(k,ne)}')`,[k,ne]);if(le)return null;const xe=qe=>{const{edges:It,addSelectedEdges:sn,unselectNodesAndEdges:ln,multiSelectionActive:$n}=be.getState(),gt=It.find(qt=>qt.id===s);gt&&(J&&(be.setState({nodesSelectionActive:!1}),gt.selected&&$n?(ln({nodes:[],edges:[gt]}),fe.current?.blur()):sn([s])),c&&c(qe,gt))},Ze=os(s,be.getState,p),pt=os(s,be.getState,W),Mt=os(s,be.getState,S),rn=os(s,be.getState,R),gn=os(s,be.getState,$),bt=(qe,It)=>{if(qe.button!==0)return;const{edges:sn,isValidConnection:ln}=be.getState(),$n=It?L:M,gt=(It?q:X)||null,qt=It?"target":"source",ir=ln||Iw,ar=It,xn=sn.find(un=>un.id===s);Le(!0),C?.(qe,xn,qt);const an=un=>{Le(!1),O?.(un,xn,qt)};Mh({event:qe,handleId:gt,nodeId:$n,onConnect:un=>A?.(xn,un),isTarget:ar,getState:be.getState,setState:be.setState,isValidConnection:ir,edgeUpdaterType:qt,onReconnectEnd:an})},yn=qe=>bt(qe,!0),on=qe=>bt(qe,!1),Bt=()=>ke(!0),Wt=()=>ke(!1),vn=!J&&!c,Ut=qe=>{if(!ce&&gh.includes(qe.key)&&J){const{unselectNodesAndEdges:It,addSelectedEdges:sn,edges:ln}=be.getState();qe.key==="Escape"?(fe.current?.blur(),It({edges:[ln.find(gt=>gt.id===s)]})):sn([s])}};return Y.createElement("g",{className:at(["react-flow__edge",`react-flow__edge-${u}`,a,{selected:m,animated:y,inactive:vn,updating:we}]),onClick:xe,onDoubleClick:Ze,onContextMenu:pt,onMouseEnter:Mt,onMouseMove:rn,onMouseLeave:gn,onKeyDown:ue?Ut:void 0,tabIndex:ue?0:void 0,role:ue?"button":"img","data-testid":`rf__edge-${s}`,"aria-label":te===null?void 0:te||`Edge from ${M} to ${L}`,"aria-describedby":ue?`${Rh}-${ne}`:void 0,ref:fe},!Me&&Y.createElement(t,{id:s,source:M,target:L,selected:m,animated:y,label:g,labelStyle:w,labelShowBg:x,labelBgStyle:N,labelBgPadding:b,labelBgBorderRadius:j,data:f,style:E,sourceX:U,sourceY:P,targetX:B,targetY:D,sourcePosition:K,targetPosition:Z,sourceHandleId:X,targetHandleId:q,markerStart:Xe,markerEnd:Ie,pathOptions:ge,interactionWidth:re}),ee&&Y.createElement(Y.Fragment,null,(ee==="source"||ee===!0)&&Y.createElement(Pp,{position:K,centerX:U,centerY:P,radius:Q,onMouseDown:yn,onMouseEnter:Bt,onMouseOut:Wt,type:"source"}),(ee==="target"||ee===!0)&&Y.createElement(Pp,{position:Z,centerX:B,centerY:D,radius:Q,onMouseDown:on,onMouseEnter:Bt,onMouseOut:Wt,type:"target"})))};return o.displayName="EdgeWrapper",I.memo(o)};function Tw(t){const o={default:io(t.default||ci),straight:io(t.bezier||ec),step:io(t.step||Ju),smoothstep:io(t.step||gi),simplebezier:io(t.simplebezier||Zu)},s={},a=Object.keys(t).filter(u=>!["default","bezier"].includes(u)).reduce((u,f)=>(u[f]=io(t[f]||ci),u),s);return{...o,...a}}function Ep(t,o,s=null){const a=(s?.x||0)+o.x,u=(s?.y||0)+o.y,f=s?.width||o.width,c=s?.height||o.height;switch(t){case de.Top:return{x:a+f/2,y:u};case de.Right:return{x:a+f,y:u+c/2};case de.Bottom:return{x:a+f/2,y:u+c};case de.Left:return{x:a,y:u+c/2}}}function Cp(t,o){return t?t.length===1||!o?t[0]:o&&t.find(s=>s.id===o)||null:null}const Lw=(t,o,s,a,u,f)=>{const c=Ep(s,t,o),p=Ep(f,a,u);return{sourceX:c.x,sourceY:c.y,targetX:p.x,targetY:p.y}};function zw({sourcePos:t,targetPos:o,sourceWidth:s,sourceHeight:a,targetWidth:u,targetHeight:f,width:c,height:p,transform:m}){const y={x:Math.min(t.x,o.x),y:Math.min(t.y,o.y),x2:Math.max(t.x+s,o.x+u),y2:Math.max(t.y+a,o.y+f)};y.x===y.x2&&(y.x2+=1),y.y===y.y2&&(y.y2+=1);const g=gs({x:(0-m[0])/m[2],y:(0-m[1])/m[2],width:c/m[2],height:p/m[2]}),w=Math.max(0,Math.min(g.x2,y.x2)-Math.max(g.x,y.x)),x=Math.max(0,Math.min(g.y2,y.y2)-Math.max(g.y,y.y));return Math.ceil(w*x)>0}function Mp(t){const o=t?.[Ke]?.handleBounds||null,s=o&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},o,!!s]}const Dw=[{level:0,isMaxLevel:!0,edges:[]}];function Fw(t,o,s=!1){let a=-1;const u=t.reduce((c,p)=>{const m=Vt(p.zIndex);let y=m?p.zIndex:0;if(s){const g=o.get(p.target),w=o.get(p.source),x=p.selected||g?.selected||w?.selected,N=Math.max(w?.[Ke]?.z||0,g?.[Ke]?.z||0,1e3);y=(m?p.zIndex:0)+(x?N:0)}return c[y]?c[y].push(p):c[y]=[p],a=y>a?y:a,c},{}),f=Object.entries(u).map(([c,p])=>{const m=+c;return{edges:p,level:m,isMaxLevel:m===a}});return f.length===0?Dw:f}function $w(t,o,s){const a=$e(I.useCallback(u=>t?u.edges.filter(f=>{const c=o.get(f.source),p=o.get(f.target);return c?.width&&c?.height&&p?.width&&p?.height&&zw({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:p.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:p.width,targetHeight:p.height,width:u.width,height:u.height,transform:u.transform})}):u.edges,[t,o]));return Fw(a,o,s)}const Rw=({color:t="none",strokeWidth:o=1})=>Y.createElement("polyline",{style:{stroke:t,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Aw=({color:t="none",strokeWidth:o=1})=>Y.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:o},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),bp={[ui.Arrow]:Rw,[ui.ArrowClosed]:Aw};function Ow(t){const o=tt();return I.useMemo(()=>Object.prototype.hasOwnProperty.call(bp,t)?bp[t]:(o.getState().onError?.("009",Dn.error009(t)),null),[t])}const Vw=({id:t,type:o,color:s,width:a=12.5,height:u=12.5,markerUnits:f="strokeWidth",strokeWidth:c,orient:p="auto-start-reverse"})=>{const m=Ow(o);return m?Y.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${a}`,markerHeight:`${u}`,viewBox:"-10 -10 20 20",markerUnits:f,orient:p,refX:"0",refY:"0"},Y.createElement(m,{color:s,strokeWidth:c})):null},Hw=({defaultColor:t,rfId:o})=>s=>{const a=[];return s.edges.reduce((u,f)=>([f.markerStart,f.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const p=$u(c,o);a.includes(p)||(u.push({id:p,color:c.color||t,...c}),a.push(p))}}),u),[]).sort((u,f)=>u.id.localeCompare(f.id))},Qh=({defaultColor:t,rfId:o})=>{const s=$e(I.useCallback(Hw({defaultColor:t,rfId:o}),[t,o]),(a,u)=>!(a.length!==u.length||a.some((f,c)=>f.id!==u[c].id)));return Y.createElement("defs",null,s.map(a=>Y.createElement(Vw,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};Qh.displayName="MarkerDefinitions";var Bw=I.memo(Qh);const Ww=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Zh=({defaultMarkerColor:t,onlyRenderVisibleElements:o,elevateEdgesOnSelect:s,rfId:a,edgeTypes:u,noPanClassName:f,onEdgeContextMenu:c,onEdgeMouseEnter:p,onEdgeMouseMove:m,onEdgeMouseLeave:y,onEdgeClick:g,onEdgeDoubleClick:w,onReconnect:x,onReconnectStart:N,onReconnectEnd:b,reconnectRadius:j,children:E,disableKeyboardA11y:M})=>{const{edgesFocusable:L,edgesUpdatable:U,elementsSelectable:P,width:B,height:D,connectionMode:K,nodeInternals:Z,onError:J}=$e(Ww,st),le=$w(o,Z,s);return B?Y.createElement(Y.Fragment,null,le.map(({level:X,edges:q,isMaxLevel:W})=>Y.createElement("svg",{key:X,style:{zIndex:X},width:B,height:D,className:"react-flow__edges react-flow__container"},W&&Y.createElement(Bw,{defaultColor:t,rfId:a}),Y.createElement("g",null,q.map(S=>{const[R,$,Q]=Mp(Z.get(S.source)),[A,C,O]=Mp(Z.get(S.target));if(!Q||!O)return null;let k=S.type||"default";u[k]||(J?.("011",Dn.error011(k)),k="default");const F=u[k]||u.default,ne=K===br.Strict?C.target:(C.target??[]).concat(C.source??[]),te=Cp($.source,S.sourceHandle),ue=Cp(ne,S.targetHandle),ee=te?.position||de.Bottom,ge=ue?.position||de.Top,re=!!(S.focusable||L&&typeof S.focusable>"u"),ce=S.reconnectable||S.updatable,fe=typeof x<"u"&&(ce||U&&typeof ce>"u");if(!te||!ue)return J?.("008",Dn.error008(te,S)),null;const{sourceX:we,sourceY:ke,targetX:Me,targetY:Le}=Lw(R,te,ee,A,ue,ge);return Y.createElement(F,{key:S.id,id:S.id,className:at([S.className,f]),type:k,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:we,sourceY:ke,targetX:Me,targetY:Le,sourcePosition:ee,targetPosition:ge,elementsSelectable:P,onContextMenu:c,onMouseEnter:p,onMouseMove:m,onMouseLeave:y,onClick:g,onEdgeDoubleClick:w,onReconnect:x,onReconnectStart:N,onReconnectEnd:b,reconnectRadius:j,rfId:a,ariaLabel:S.ariaLabel,isFocusable:re,isReconnectable:fe,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:M})})))),E):null};Zh.displayName="EdgeRenderer";var Uw=I.memo(Zh);const qw=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Gw({children:t}){const o=$e(qw);return Y.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:o}},t)}function Kw(t){const o=vi(),s=I.useRef(!1);I.useEffect(()=>{!s.current&&o.viewportInitialized&&t&&(setTimeout(()=>t(o),1),s.current=!0)},[t,o.viewportInitialized])}const Yw={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top},Jh=({nodeId:t,handleType:o,style:s,type:a=In.Bezier,CustomComponent:u,connectionStatus:f})=>{const{fromNode:c,handleId:p,toX:m,toY:y,connectionMode:g}=$e(I.useCallback(D=>({fromNode:D.nodeInternals.get(t),handleId:D.connectionHandleId,toX:(D.connectionPosition.x-D.transform[0])/D.transform[2],toY:(D.connectionPosition.y-D.transform[1])/D.transform[2],connectionMode:D.connectionMode}),[t]),st),w=c?.[Ke]?.handleBounds;let x=w?.[o];if(g===br.Loose&&(x=x||w?.[o==="source"?"target":"source"]),!c||!x)return null;const N=p?x.find(D=>D.id===p):x[0],b=N?N.x+N.width/2:(c.width??0)/2,j=N?N.y+N.height/2:c.height??0,E=(c.positionAbsolute?.x??0)+b,M=(c.positionAbsolute?.y??0)+j,L=N?.position,U=L?Yw[L]:null;if(!L||!U)return null;if(u)return Y.createElement(u,{connectionLineType:a,connectionLineStyle:s,fromNode:c,fromHandle:N,fromX:E,fromY:M,toX:m,toY:y,fromPosition:L,toPosition:U,connectionStatus:f});let P="";const B={sourceX:E,sourceY:M,sourcePosition:L,targetX:m,targetY:y,targetPosition:U};return a===In.Bezier?[P]=Nh(B):a===In.Step?[P]=Fu({...B,borderRadius:0}):a===In.SmoothStep?[P]=Fu(B):a===In.SimpleBezier?[P]=wh(B):P=`M${E},${M} ${m},${y}`,Y.createElement("path",{d:P,fill:"none",className:"react-flow__connection-path",style:s})};Jh.displayName="ConnectionLine";const Xw=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Qw({containerStyle:t,style:o,type:s,component:a}){const{nodeId:u,handleType:f,nodesConnectable:c,width:p,height:m,connectionStatus:y}=$e(Xw,st);return!(u&&f&&p&&c)?null:Y.createElement("svg",{style:t,width:p,height:m,className:"react-flow__edges react-flow__connectionline react-flow__container"},Y.createElement("g",{className:at(["react-flow__connection",y])},Y.createElement(Jh,{nodeId:u,handleType:f,style:o,type:s,CustomComponent:a,connectionStatus:y})))}function Ip(t,o){return I.useRef(null),tt(),I.useMemo(()=>o(t),[t])}const em=({nodeTypes:t,edgeTypes:o,onMove:s,onMoveStart:a,onMoveEnd:u,onInit:f,onNodeClick:c,onEdgeClick:p,onNodeDoubleClick:m,onEdgeDoubleClick:y,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:N,onSelectionContextMenu:b,onSelectionStart:j,onSelectionEnd:E,connectionLineType:M,connectionLineStyle:L,connectionLineComponent:U,connectionLineContainerStyle:P,selectionKeyCode:B,selectionOnDrag:D,selectionMode:K,multiSelectionKeyCode:Z,panActivationKeyCode:J,zoomActivationKeyCode:le,deleteKeyCode:X,onlyRenderVisibleElements:q,elementsSelectable:W,selectNodesOnDrag:S,defaultViewport:R,translateExtent:$,minZoom:Q,maxZoom:A,preventScrolling:C,defaultMarkerColor:O,zoomOnScroll:k,zoomOnPinch:F,panOnScroll:ne,panOnScrollSpeed:te,panOnScrollMode:ue,zoomOnDoubleClick:ee,panOnDrag:ge,onPaneClick:re,onPaneMouseEnter:ce,onPaneMouseMove:fe,onPaneMouseLeave:we,onPaneScroll:ke,onPaneContextMenu:Me,onEdgeContextMenu:Le,onEdgeMouseEnter:be,onEdgeMouseMove:Xe,onEdgeMouseLeave:Ie,onReconnect:xe,onReconnectStart:Ze,onReconnectEnd:pt,reconnectRadius:Mt,noDragClassName:rn,noWheelClassName:gn,noPanClassName:bt,elevateEdgesOnSelect:yn,disableKeyboardA11y:on,nodeOrigin:Bt,nodeExtent:Wt,rfId:vn})=>{const Ut=Ip(t,_w),qe=Ip(o,Tw);return Kw(f),Y.createElement(kw,{onPaneClick:re,onPaneMouseEnter:ce,onPaneMouseMove:fe,onPaneMouseLeave:we,onPaneContextMenu:Me,onPaneScroll:ke,deleteKeyCode:X,selectionKeyCode:B,selectionOnDrag:D,selectionMode:K,onSelectionStart:j,onSelectionEnd:E,multiSelectionKeyCode:Z,panActivationKeyCode:J,zoomActivationKeyCode:le,elementsSelectable:W,onMove:s,onMoveStart:a,onMoveEnd:u,zoomOnScroll:k,zoomOnPinch:F,zoomOnDoubleClick:ee,panOnScroll:ne,panOnScrollSpeed:te,panOnScrollMode:ue,panOnDrag:ge,defaultViewport:R,translateExtent:$,minZoom:Q,maxZoom:A,onSelectionContextMenu:b,preventScrolling:C,noDragClassName:rn,noWheelClassName:gn,noPanClassName:bt,disableKeyboardA11y:on},Y.createElement(Gw,null,Y.createElement(Uw,{edgeTypes:qe,onEdgeClick:p,onEdgeDoubleClick:y,onlyRenderVisibleElements:q,onEdgeContextMenu:Le,onEdgeMouseEnter:be,onEdgeMouseMove:Xe,onEdgeMouseLeave:Ie,onReconnect:xe,onReconnectStart:Ze,onReconnectEnd:pt,reconnectRadius:Mt,defaultMarkerColor:O,noPanClassName:bt,elevateEdgesOnSelect:!!yn,disableKeyboardA11y:on,rfId:vn},Y.createElement(Qw,{style:L,type:M,component:U,containerStyle:P})),Y.createElement("div",{className:"react-flow__edgelabel-renderer"}),Y.createElement(Cw,{nodeTypes:Ut,onNodeClick:c,onNodeDoubleClick:m,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:N,selectNodesOnDrag:S,onlyRenderVisibleElements:q,noPanClassName:bt,noDragClassName:rn,disableKeyboardA11y:on,nodeOrigin:Bt,nodeExtent:Wt,rfId:vn})))};em.displayName="GraphView";var Zw=I.memo(em);const Vu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Vu,nodeExtent:Vu,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:br.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:C1,isValidConnection:void 0},Jw=()=>B0((t,o)=>({...rr,setNodes:s=>{const{nodeInternals:a,nodeOrigin:u,elevateNodesOnSelect:f}=o();t({nodeInternals:vu(s,a,u,f)})},getNodes:()=>Array.from(o().nodeInternals.values()),setEdges:s=>{const{defaultEdgeOptions:a={}}=o();t({edges:s.map(u=>({...a,...u}))})},setDefaultNodesAndEdges:(s,a)=>{const u=typeof s<"u",f=typeof a<"u",c=u?vu(s,new Map,o().nodeOrigin,o().elevateNodesOnSelect):new Map;t({nodeInternals:c,edges:f?a:[],hasDefaultNodes:u,hasDefaultEdges:f})},updateNodeDimensions:s=>{const{onNodesChange:a,nodeInternals:u,fitViewOnInit:f,fitViewOnInitDone:c,fitViewOnInitOptions:p,domNode:m,nodeOrigin:y}=o(),g=m?.querySelector(".react-flow__viewport");if(!g)return;const w=window.getComputedStyle(g),{m22:x}=new window.DOMMatrixReadOnly(w.transform),N=s.reduce((j,E)=>{const M=u.get(E.id);if(M?.hidden)u.set(M.id,{...M,[Ke]:{...M[Ke],handleBounds:void 0}});else if(M){const L=Xu(E.nodeElement);!!(L.width&&L.height&&(M.width!==L.width||M.height!==L.height||E.forceUpdate))&&(u.set(M.id,{...M,[Ke]:{...M[Ke],handleBounds:{source:jp(".source",E.nodeElement,x,y),target:jp(".target",E.nodeElement,x,y)}},...L}),j.push({id:M.id,type:"dimensions",dimensions:L}))}return j},[]);Oh(u,y);const b=c||f&&!c&&Vh(o,{initial:!0,...p});t({nodeInternals:new Map(u),fitViewOnInitDone:b}),N?.length>0&&a?.(N)},updateNodePositions:(s,a=!0,u=!1)=>{const{triggerNodeChanges:f}=o(),c=s.map(p=>{const m={id:p.id,type:"position",dragging:u};return a&&(m.positionAbsolute=p.positionAbsolute,m.position=p.position),m});f(c)},triggerNodeChanges:s=>{const{onNodesChange:a,nodeInternals:u,hasDefaultNodes:f,nodeOrigin:c,getNodes:p,elevateNodesOnSelect:m}=o();if(s?.length){if(f){const y=Bh(s,p()),g=vu(y,u,c,m);t({nodeInternals:g})}a?.(s)}},addSelectedNodes:s=>{const{multiSelectionActive:a,edges:u,getNodes:f}=o();let c,p=null;a?c=s.map(m=>sr(m,!0)):(c=ao(f(),s),p=ao(u,[])),Xl({changedNodes:c,changedEdges:p,get:o,set:t})},addSelectedEdges:s=>{const{multiSelectionActive:a,edges:u,getNodes:f}=o();let c,p=null;a?c=s.map(m=>sr(m,!0)):(c=ao(u,s),p=ao(f(),[])),Xl({changedNodes:p,changedEdges:c,get:o,set:t})},unselectNodesAndEdges:({nodes:s,edges:a}={})=>{const{edges:u,getNodes:f}=o(),c=s||f(),p=a||u,m=c.map(g=>(g.selected=!1,sr(g.id,!1))),y=p.map(g=>sr(g.id,!1));Xl({changedNodes:m,changedEdges:y,get:o,set:t})},setMinZoom:s=>{const{d3Zoom:a,maxZoom:u}=o();a?.scaleExtent([s,u]),t({minZoom:s})},setMaxZoom:s=>{const{d3Zoom:a,minZoom:u}=o();a?.scaleExtent([u,s]),t({maxZoom:s})},setTranslateExtent:s=>{o().d3Zoom?.translateExtent(s),t({translateExtent:s})},resetSelectedElements:()=>{const{edges:s,getNodes:a}=o(),f=a().filter(p=>p.selected).map(p=>sr(p.id,!1)),c=s.filter(p=>p.selected).map(p=>sr(p.id,!1));Xl({changedNodes:f,changedEdges:c,get:o,set:t})},setNodeExtent:s=>{const{nodeInternals:a}=o();a.forEach(u=>{u.positionAbsolute=Qu(u.position,s)}),t({nodeExtent:s,nodeInternals:new Map(a)})},panBy:s=>{const{transform:a,width:u,height:f,d3Zoom:c,d3Selection:p,translateExtent:m}=o();if(!c||!p||!s.x&&!s.y)return!1;const y=Ln.translate(a[0]+s.x,a[1]+s.y).scale(a[2]),g=[[0,0],[u,f]],w=c?.constrain()(y,g,m);return c.transform(p,w),a[0]!==w.x||a[1]!==w.y||a[2]!==w.k},cancelConnection:()=>t({connectionNodeId:rr.connectionNodeId,connectionHandleId:rr.connectionHandleId,connectionHandleType:rr.connectionHandleType,connectionStatus:rr.connectionStatus,connectionStartHandle:rr.connectionStartHandle,connectionEndHandle:rr.connectionEndHandle}),reset:()=>t({...rr})}),Object.is),sc=({children:t})=>{const o=I.useRef(null);return o.current||(o.current=Jw()),Y.createElement(N1,{value:o.current},t)};sc.displayName="ReactFlowProvider";const tm=({children:t})=>I.useContext(mi)?Y.createElement(Y.Fragment,null,t):Y.createElement(sc,null,t);tm.displayName="ReactFlowWrapper";const e2={input:Lh,default:Au,output:Dh,group:rc},t2={default:ci,straight:ec,step:Ju,smoothstep:gi,simplebezier:Zu},n2=[0,0],r2=[15,15],o2={x:0,y:0,zoom:1},s2={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},nm=I.forwardRef(({nodes:t,edges:o,defaultNodes:s,defaultEdges:a,className:u,nodeTypes:f=e2,edgeTypes:c=t2,onNodeClick:p,onEdgeClick:m,onInit:y,onMove:g,onMoveStart:w,onMoveEnd:x,onConnect:N,onConnectStart:b,onConnectEnd:j,onClickConnectStart:E,onClickConnectEnd:M,onNodeMouseEnter:L,onNodeMouseMove:U,onNodeMouseLeave:P,onNodeContextMenu:B,onNodeDoubleClick:D,onNodeDragStart:K,onNodeDrag:Z,onNodeDragStop:J,onNodesDelete:le,onEdgesDelete:X,onSelectionChange:q,onSelectionDragStart:W,onSelectionDrag:S,onSelectionDragStop:R,onSelectionContextMenu:$,onSelectionStart:Q,onSelectionEnd:A,connectionMode:C=br.Strict,connectionLineType:O=In.Bezier,connectionLineStyle:k,connectionLineComponent:F,connectionLineContainerStyle:ne,deleteKeyCode:te="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:ee=!1,selectionMode:ge=ys.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:ce=ai()?"Meta":"Control",zoomActivationKeyCode:fe=ai()?"Meta":"Control",snapToGrid:we=!1,snapGrid:ke=r2,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:Le=!0,nodesDraggable:be,nodesConnectable:Xe,nodesFocusable:Ie,nodeOrigin:xe=n2,edgesFocusable:Ze,edgesUpdatable:pt,elementsSelectable:Mt,defaultViewport:rn=o2,minZoom:gn=.5,maxZoom:bt=2,translateExtent:yn=Vu,preventScrolling:on=!0,nodeExtent:Bt,defaultMarkerColor:Wt="#b1b1b7",zoomOnScroll:vn=!0,zoomOnPinch:Ut=!0,panOnScroll:qe=!1,panOnScrollSpeed:It=.5,panOnScrollMode:sn=Pr.Free,zoomOnDoubleClick:ln=!0,panOnDrag:$n=!0,onPaneClick:gt,onPaneMouseEnter:qt,onPaneMouseMove:ir,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:an,children:wn,onEdgeContextMenu:un,onEdgeDoubleClick:ks,onEdgeMouseEnter:js,onEdgeMouseMove:_s,onEdgeMouseLeave:Ps,onEdgeUpdate:go,onEdgeUpdateStart:Es,onEdgeUpdateEnd:ur,onReconnect:yo,onReconnectStart:cr,onReconnectEnd:xi,reconnectRadius:dr=10,edgeUpdaterRadius:Tr=10,onNodesChange:Lr,onEdgesChange:vo,noDragClassName:wi="nodrag",noWheelClassName:Ni="nowheel",noPanClassName:Cs="nopan",fitView:Nn=!1,fitViewOptions:Ms,connectOnClick:bs=!0,attributionPosition:Si,proOptions:Is,defaultEdgeOptions:Ts,elevateNodesOnSelect:Ls=!0,elevateEdgesOnSelect:zs=!1,disableKeyboardA11y:Ds=!1,autoPanOnConnect:ki=!0,autoPanOnNodeDrag:He=!0,connectionRadius:ji=20,isValidConnection:xo,onError:Fs,style:zr,id:$s,nodeDragThreshold:Rs,...Dr},Tt)=>{const wo=$s||"1";return Y.createElement("div",{...Dr,style:{...zr,...s2},ref:Tt,className:at(["react-flow",u]),"data-testid":"rf__wrapper",id:$s},Y.createElement(tm,null,Y.createElement(Zw,{onInit:y,onMove:g,onMoveStart:w,onMoveEnd:x,onNodeClick:p,onEdgeClick:m,onNodeMouseEnter:L,onNodeMouseMove:U,onNodeMouseLeave:P,onNodeContextMenu:B,onNodeDoubleClick:D,nodeTypes:f,edgeTypes:c,connectionLineType:O,connectionLineStyle:k,connectionLineComponent:F,connectionLineContainerStyle:ne,selectionKeyCode:ue,selectionOnDrag:ee,selectionMode:ge,deleteKeyCode:te,multiSelectionKeyCode:ce,panActivationKeyCode:re,zoomActivationKeyCode:fe,onlyRenderVisibleElements:Me,selectNodesOnDrag:Le,defaultViewport:rn,translateExtent:yn,minZoom:gn,maxZoom:bt,preventScrolling:on,zoomOnScroll:vn,zoomOnPinch:Ut,zoomOnDoubleClick:ln,panOnScroll:qe,panOnScrollSpeed:It,panOnScrollMode:sn,panOnDrag:$n,onPaneClick:gt,onPaneMouseEnter:qt,onPaneMouseMove:ir,onPaneMouseLeave:ar,onPaneScroll:xn,onPaneContextMenu:an,onSelectionContextMenu:$,onSelectionStart:Q,onSelectionEnd:A,onEdgeContextMenu:un,onEdgeDoubleClick:ks,onEdgeMouseEnter:js,onEdgeMouseMove:_s,onEdgeMouseLeave:Ps,onReconnect:yo??go,onReconnectStart:cr??Es,onReconnectEnd:xi??ur,reconnectRadius:dr??Tr,defaultMarkerColor:Wt,noDragClassName:wi,noWheelClassName:Ni,noPanClassName:Cs,elevateEdgesOnSelect:zs,rfId:wo,disableKeyboardA11y:Ds,nodeOrigin:xe,nodeExtent:Bt}),Y.createElement(Y1,{nodes:t,edges:o,defaultNodes:s,defaultEdges:a,onConnect:N,onConnectStart:b,onConnectEnd:j,onClickConnectStart:E,onClickConnectEnd:M,nodesDraggable:be,nodesConnectable:Xe,nodesFocusable:Ie,edgesFocusable:Ze,edgesUpdatable:pt,elementsSelectable:Mt,elevateNodesOnSelect:Ls,minZoom:gn,maxZoom:bt,nodeExtent:Bt,onNodesChange:Lr,onEdgesChange:vo,snapToGrid:we,snapGrid:ke,connectionMode:C,translateExtent:yn,connectOnClick:bs,defaultEdgeOptions:Ts,fitView:Nn,fitViewOptions:Ms,onNodesDelete:le,onEdgesDelete:X,onNodeDragStart:K,onNodeDrag:Z,onNodeDragStop:J,onSelectionDrag:S,onSelectionDragStart:W,onSelectionDragStop:R,noPanClassName:Cs,nodeOrigin:xe,rfId:wo,autoPanOnConnect:ki,autoPanOnNodeDrag:He,onError:Fs,connectionRadius:ji,isValidConnection:xo,nodeDragThreshold:Rs}),Y.createElement(G1,{onSelectionChange:q}),wn,Y.createElement(k1,{proOptions:Is,position:Si}),Y.createElement(ew,{rfId:wo,disableKeyboardA11y:Ds})))});nm.displayName="ReactFlow";function rm(t){return o=>{const[s,a]=I.useState(o),u=I.useCallback(f=>a(c=>t(f,c)),[]);return[s,a,u]}}const l2=rm(Bh),i2=rm(hw),om=({id:t,x:o,y:s,width:a,height:u,style:f,color:c,strokeColor:p,strokeWidth:m,className:y,borderRadius:g,shapeRendering:w,onClick:x,selected:N})=>{const{background:b,backgroundColor:j}=f||{},E=c||b||j;return Y.createElement("rect",{className:at(["react-flow__minimap-node",{selected:N},y]),x:o,y:s,rx:g,ry:g,width:a,height:u,fill:E,stroke:p,strokeWidth:m,shapeRendering:w,onClick:x?M=>x(M,t):void 0})};om.displayName="MiniMapNode";var a2=I.memo(om);const u2=t=>t.nodeOrigin,c2=t=>t.getNodes().filter(o=>!o.hidden&&o.width&&o.height),Su=t=>t instanceof Function?t:()=>t;function d2({nodeStrokeColor:t="transparent",nodeColor:o="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:u=2,nodeComponent:f=a2,onClick:c}){const p=$e(c2,st),m=$e(u2),y=Su(o),g=Su(t),w=Su(s),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Y.createElement(Y.Fragment,null,p.map(N=>{const{x:b,y:j}=Cr(N,m).positionAbsolute;return Y.createElement(f,{key:N.id,x:b,y:j,width:N.width,height:N.height,style:N.style,selected:N.selected,className:w(N),color:y(N),borderRadius:a,strokeColor:g(N),strokeWidth:u,shapeRendering:x,onClick:c,id:N.id})}))}var f2=I.memo(d2);const p2=200,h2=150,m2=t=>{const o=t.getNodes(),s={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:s,boundingRect:o.length>0?P1(yi(o,t.nodeOrigin),s):s,rfId:t.rfId}},g2="react-flow__minimap-desc";function sm({style:t,className:o,nodeStrokeColor:s="transparent",nodeColor:a="#e2e2e2",nodeClassName:u="",nodeBorderRadius:f=5,nodeStrokeWidth:c=2,nodeComponent:p,maskColor:m="rgb(240, 240, 240, 0.6)",maskStrokeColor:y="none",maskStrokeWidth:g=1,position:w="bottom-right",onClick:x,onNodeClick:N,pannable:b=!1,zoomable:j=!1,ariaLabel:E="React Flow mini map",inversePan:M=!1,zoomStep:L=10,offsetScale:U=5}){const P=tt(),B=I.useRef(null),{boundingRect:D,viewBB:K,rfId:Z}=$e(m2,st),J=t?.width??p2,le=t?.height??h2,X=D.width/J,q=D.height/le,W=Math.max(X,q),S=W*J,R=W*le,$=U*W,Q=D.x-(S-D.width)/2-$,A=D.y-(R-D.height)/2-$,C=S+$*2,O=R+$*2,k=`${g2}-${Z}`,F=I.useRef(0);F.current=W,I.useEffect(()=>{if(B.current){const ue=Ot(B.current),ee=ce=>{const{transform:fe,d3Selection:we,d3Zoom:ke}=P.getState();if(ce.sourceEvent.type!=="wheel"||!we||!ke)return;const Me=-ce.sourceEvent.deltaY*(ce.sourceEvent.deltaMode===1?.05:ce.sourceEvent.deltaMode?1:.002)*L,Le=fe[2]*Math.pow(2,Me);ke.scaleTo(we,Le)},ge=ce=>{const{transform:fe,d3Selection:we,d3Zoom:ke,translateExtent:Me,width:Le,height:be}=P.getState();if(ce.sourceEvent.type!=="mousemove"||!we||!ke)return;const Xe=F.current*Math.max(1,fe[2])*(M?-1:1),Ie={x:fe[0]-ce.sourceEvent.movementX*Xe,y:fe[1]-ce.sourceEvent.movementY*Xe},xe=[[0,0],[Le,be]],Ze=Ln.translate(Ie.x,Ie.y).scale(fe[2]),pt=ke.constrain()(Ze,xe,Me);ke.transform(we,pt)},re=ch().on("zoom",b?ge:null).on("zoom.wheel",j?ee:null);return ue.call(re),()=>{ue.on("zoom",null)}}},[b,j,M,L]);const ne=x?ue=>{const ee=en(ue);x(ue,{x:ee[0],y:ee[1]})}:void 0,te=N?(ue,ee)=>{const ge=P.getState().nodeInternals.get(ee);N(ue,ge)}:void 0;return Y.createElement(Yu,{position:w,style:t,className:at(["react-flow__minimap",o]),"data-testid":"rf__minimap"},Y.createElement("svg",{width:J,height:le,viewBox:`${Q} ${A} ${C} ${O}`,role:"img","aria-labelledby":k,ref:B,onClick:ne},E&&Y.createElement("title",{id:k},E),Y.createElement(f2,{onClick:te,nodeColor:a,nodeStrokeColor:s,nodeBorderRadius:f,nodeClassName:u,nodeStrokeWidth:c,nodeComponent:p}),Y.createElement("path",{className:"react-flow__minimap-mask",d:`M${Q-$},${A-$}h${C+$*2}v${O+$*2}h${-C-$*2}z
        M${K.x},${K.y}h${K.width}v${K.height}h${-K.width}z`,fill:m,fillRule:"evenodd",stroke:y,strokeWidth:g,pointerEvents:"none"})))}sm.displayName="MiniMap";var y2=I.memo(sm);function v2(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Y.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function x2(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Y.createElement("path",{d:"M0 0h32v4.2H0z"}))}function w2(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Y.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function N2(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Y.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function S2(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Y.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const us=({children:t,className:o,...s})=>Y.createElement("button",{type:"button",className:at(["react-flow__controls-button",o]),...s},t);us.displayName="ControlButton";const k2=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),lm=({style:t,showZoom:o=!0,showFitView:s=!0,showInteractive:a=!0,fitViewOptions:u,onZoomIn:f,onZoomOut:c,onFitView:p,onInteractiveChange:m,className:y,children:g,position:w="bottom-left"})=>{const x=tt(),[N,b]=I.useState(!1),{isInteractive:j,minZoomReached:E,maxZoomReached:M}=$e(k2,st),{zoomIn:L,zoomOut:U,fitView:P}=vi();if(I.useEffect(()=>{b(!0)},[]),!N)return null;const B=()=>{L(),f?.()},D=()=>{U(),c?.()},K=()=>{P(u),p?.()},Z=()=>{x.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),m?.(!j)};return Y.createElement(Yu,{className:at(["react-flow__controls",y]),position:w,style:t,"data-testid":"rf__controls"},o&&Y.createElement(Y.Fragment,null,Y.createElement(us,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:M},Y.createElement(v2,null)),Y.createElement(us,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},Y.createElement(x2,null))),s&&Y.createElement(us,{className:"react-flow__controls-fitview",onClick:K,title:"fit view","aria-label":"fit view"},Y.createElement(w2,null)),a&&Y.createElement(us,{className:"react-flow__controls-interactive",onClick:Z,title:"toggle interactivity","aria-label":"toggle interactivity"},j?Y.createElement(S2,null):Y.createElement(N2,null)),g)};lm.displayName="Controls";var j2=I.memo(lm),Ht;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Ht||(Ht={}));function _2({color:t,dimensions:o,lineWidth:s}){return Y.createElement("path",{stroke:t,strokeWidth:s,d:`M${o[0]/2} 0 V${o[1]} M0 ${o[1]/2} H${o[0]}`})}function P2({color:t,radius:o}){return Y.createElement("circle",{cx:o,cy:o,r:o,fill:t})}const E2={[Ht.Dots]:"#91919a",[Ht.Lines]:"#eee",[Ht.Cross]:"#e2e2e2"},C2={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6},M2=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function im({id:t,variant:o=Ht.Dots,gap:s=20,size:a,lineWidth:u=1,offset:f=2,color:c,style:p,className:m}){const y=I.useRef(null),{transform:g,patternId:w}=$e(M2,st),x=c||E2[o],N=a||C2[o],b=o===Ht.Dots,j=o===Ht.Cross,E=Array.isArray(s)?s:[s,s],M=[E[0]*g[2]||1,E[1]*g[2]||1],L=N*g[2],U=j?[L,L]:M,P=b?[L/f,L/f]:[U[0]/f,U[1]/f];return Y.createElement("svg",{className:at(["react-flow__background",m]),style:{...p,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:y,"data-testid":"rf__background"},Y.createElement("pattern",{id:w+t,x:g[0]%M[0],y:g[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`},b?Y.createElement(P2,{color:x,radius:L/f}):Y.createElement(_2,{dimensions:U,color:x,lineWidth:u})),Y.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${w+t})`}))}im.displayName="Background";var b2=I.memo(im);const I2=({data:t,selected:o})=>{const s=c=>{c.stopPropagation()},a=t.inputs?.length||0,u=t.outputs?.length||0,f=Math.max(a,u);return i.jsxs("div",{className:`react-flow__node generic-node ${o?"selected":""}`,onClick:s,style:{"--handle-count":f},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((c,p)=>{const m=c.id||c.name||`input-${p}`,y=c.id||c.name||`input-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${y}-handle`,className:"node-handle",style:{left:0,background:Ve(c.type||"")}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((c,p)=>{const m=c.id||c.name||`output-${p}`,y=c.id||c.name||`output-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${y}-handle`,className:"node-handle",style:{right:0,background:Ve(c.type||"")}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})})]}),i.jsxs("div",{className:"node-content",children:[i.jsx("div",{className:"central-content-placeholder"}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"node-description",children:"Image Output"}),i.jsx("div",{className:"image-preview-container",children:t.imageUrl?i.jsx("img",{src:t.imageUrl,alt:"Output preview",className:"image-preview"}):i.jsx("div",{className:"image-placeholder",children:i.jsx("span",{children:"Image Output"})})}),t.outputs?.map((c,p)=>{const m=c.id||c.name||`output-${p}`;return i.jsx("div",{className:"node-output",children:i.jsx("label",{children:c.label})},m)}),i.jsxs("div",{className:"output-controls",children:[i.jsx("button",{className:"output-btn",children:"Save Image"}),i.jsx("button",{className:"output-btn",children:"Copy"})]})]})]})]})},T2=(t,o)=>{if(t.selected!==o.selected||t.data.imageUrl!==o.data.imageUrl)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},L2=Y.memo(I2,T2),z2=({data:t,selected:o})=>{const s=a=>{a.stopPropagation()};return i.jsxs("div",{className:`react-flow__node generic-node ${o?"selected":""}`,onClick:s,style:{"--handle-count":Math.max(t.inputs?.length||0,t.outputs?.length||0)},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label||"Text Output"})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((a,u)=>{const f=a.id||a.name||`input-${u}`,c=a.id||a.name||`input-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${c}-handle`,className:"node-handle",style:{left:0,background:Ve(a.type||"")}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((a,u)=>{const f=a.id||a.name||`output-${u}`,c=a.id||a.name||`output-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${c}-handle`,className:"node-handle",style:{right:0,background:Ve(a.type||"")}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})})]}),i.jsxs("div",{className:"node-content",children:[i.jsx("div",{className:"central-content-placeholder"}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"node-description",children:t.description||"A node for displaying text output"}),i.jsx("div",{className:"text-output-container",children:t.output?.result?i.jsx("div",{className:"text-output",children:t.output.result}):i.jsx("div",{className:"text-placeholder",children:i.jsx("span",{children:"No text output"})})}),t.outputs?.map((a,u)=>{const f=a.id||a.name||`output-${u}`;return i.jsx("div",{className:"node-output",children:i.jsx("label",{children:a.label})},f)}),i.jsx("div",{className:"output-controls",children:i.jsx("button",{className:"output-btn",onClick:()=>{t.output?.result&&navigator.clipboard.writeText(t.output.result)},children:"Copy"})})]})]})]})},D2=(t,o)=>{if(t.selected!==o.selected||t.data.text!==o.data.text)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},F2=Y.memo(z2,D2),$2=({data:t,selected:o})=>{const s=f=>{f.stopPropagation()},a={text:{name:"text",label:Ue("nodePalette.textContent"),type:"string",value:"",widget_meta:{widget_type:"text_input"}}},u=t.params||a;return i.jsxs("div",{className:`react-flow__node generic-node ${o?"selected":""}`,onClick:s,children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label||"Text Input"})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles"}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((f,c)=>{const p=f.id||f.name||`output-${c}`,m=f.id||f.name||`output-${c}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${m}-handle`,className:"node-handle",style:{right:0,background:Ve(f.type||"")}},p),i.jsx("span",{className:"handle-label",children:f.name})]},p)})})]}),i.jsx("div",{className:"node-content",children:Object.entries(u).map(([f,c])=>{const p=c;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:p.label}),i.jsx("input",{type:p.type==="number"?"number":"text",value:p.value,className:"node-input",onChange:m=>{console.log("Param changed:",f,m.target.value)}})]},f)})})]})},R2=I.memo($2),A2=({data:t,onDataChange:o})=>{const s=c=>{c.stopPropagation()},a=(c,p)=>{if(o){const m={...t.params,[c]:{...t.params?.[c],value:p}};o({...t,params:m})}},u=Math.max(t.inputs?.length||0,t.outputs?.length||0),f=Object.keys(t.params||{}).length>0?t.params:{...t.type==="Transform"&&{mapping:{name:"mapping",label:"Mapping",type:"dict",value:"{}"},transform_type:{name:"transform_type",label:"Transform Type",type:"string",value:"str"}},...t.type==="DatabaseOutput"&&{connection:{name:"connection",label:"Connection",type:"dict",value:"{}"},table:{name:"table",label:"Table",type:"string",value:""}},...t.type==="APIOutput"&&{url:{name:"url",label:"URL",type:"string",value:""},method:{name:"method",label:"Method",type:"string",value:"POST"},headers:{name:"headers",label:"Headers",type:"dict",value:"{}"}}};return i.jsxs("div",{className:"react-flow__node generic-node",onClick:s,style:{"--handle-count":u},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((c,p)=>i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${c.name}-handle`,className:"node-handle",style:{background:Ve(c.type||""),left:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},`${c.name}-${p}`))}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((c,p)=>i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${c.name}-handle`,className:"node-handle",style:{background:Ve(c.type||""),right:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},`${c.name}-${p}`))})]}),i.jsx("div",{className:"parameter-control-area",children:Object.entries(f).map(([c,p])=>{const m=p;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:m.label}),i.jsx("input",{type:m.type==="number"?"number":"text",value:m.value,className:"node-input",onChange:y=>{const g=m.type==="number"?parseFloat(y.target.value)||0:y.target.value;a(c,g)}})]},c)})})]})},O2=(t,o)=>{if(t.selected!==o.selected)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},De=Y.memo(A2,O2),V2=({data:t})=>{const o=t?.imageUrl||t?.preview,s=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"react-flow__node generic-node",style:{"--handle-count":s},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label||"Image Preview Node"})}),i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((a,u)=>{const f=a.id||a.name||`input-${u}`,c=a.id||a.name||`input-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${c}-handle`,className:"node-handle",style:{left:0}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})}),i.jsx("div",{className:"central-content-placeholder"}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((a,u)=>{const f=a.id||a.name||`output-${u}`,c=a.id||a.name||`output-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${c}-handle`,className:"node-handle",style:{right:0}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"node-description",children:t.description||"A preview node for displaying images"}),i.jsx("div",{className:"image-preview-container",children:o?i.jsx("img",{src:o,alt:"Preview",className:"preview-image",onError:a=>{console.error("Failed to load image:",a)}}):i.jsxs("div",{className:"no-image-placeholder",children:[i.jsx("p",{children:"No image data available"}),i.jsx("p",{children:"Connect an image source node"})]})}),o&&i.jsx("button",{className:"save-image-button",onClick:()=>{if(o){const a=document.createElement("a");a.href=o,a.download="preview-image.png",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},children:"Save Image"})]})]})},H2=({data:t,onDataChange:o})=>{const s=Fn(),[a,u]=I.useState(()=>{const g={};return t.params&&Object.entries(t.params).forEach(([w,x])=>{const N=x;g[w]=N.value}),g}),f=t.inputs?.length||0,c=t.outputs?.length||0,p=Math.max(f,c),m=(g,w)=>{const x={...a,[g]:w};if(u(x),o&&t.params){const N={...t.params};N[g]&&(N[g].value=w),o(s||"",{...t,params:N,controls:x})}},y=g=>{const{name:w,label:x,type:N,options:b,step:j,widget_meta:E}=g,M=a[w];return E?.widget_type==="slider"||N==="number"?i.jsxs("div",{className:"control-group slider-control",children:[i.jsx("label",{className:"control-label",children:x}),i.jsx("input",{type:"range",min:E?.min_value||0,max:E?.max_value||100,step:E?.step||j||1,value:M||0,onChange:L=>m(w,parseInt(L.target.value)),className:"slider"}),i.jsx("span",{className:"slider-value",children:M||0})]},w):E?.widget_type==="combo"||N==="select"?i.jsxs("div",{className:"control-group select-control",children:[i.jsx("label",{className:"control-label",children:x}),i.jsxs("select",{value:M||"",onChange:L=>m(w,L.target.value),className:"select",children:[i.jsx("option",{value:"",children:"Select an option"}),(b||E?.options||[]).map((L,U)=>i.jsx("option",{value:L.value||L,children:L.label||L},U))]})]},w):E?.widget_type==="toggle"||N==="boolean"?i.jsxs("div",{className:"control-group toggle-control",children:[i.jsx("label",{className:"control-label",children:x}),i.jsx("input",{type:"checkbox",checked:M||!1,onChange:L=>m(w,L.target.checked),className:"toggle"})]},w):i.jsxs("div",{className:"control-group text-control",children:[i.jsx("label",{className:"control-label",children:x}),i.jsx("input",{type:"text",value:M||"",onChange:L=>m(w,L.target.value),className:"node-input"})]},w)};return i.jsxs("div",{className:"react-flow__node generic-node",style:{"--handle-count":p},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label||"Control Node"})}),i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((g,w)=>{const x=g.id||g.name||`input-${w}`,N=g.id||g.name||`input-${w}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${N}-handle`,className:"node-handle",style:{left:0}}),i.jsx("span",{className:"handle-label",children:g.name})]},x)})}),i.jsx("div",{className:"central-content-placeholder"}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((g,w)=>{const x=g.id||g.name||`output-${w}`,N=g.id||g.name||`output-${w}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${N}-handle`,className:"node-handle",style:{right:0}}),i.jsx("span",{className:"handle-label",children:g.name})]},x)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"node-description",children:t.description||"A control node with multiple parameters"}),i.jsx("div",{className:"controls-container",children:t.params&&Object.values(t.params).map((g,w)=>i.jsx(Y.Fragment,{children:y(g)},g.name||`param-${w}`))})]})]})},B2=({data:t,selected:o,onDataChange:s})=>{const a=Fn(),u=m=>{m.stopPropagation()};console.log("StableDiffusionGenerateNode inputs:",t.inputs),console.log("StableDiffusionGenerateNode outputs:",t.outputs);const f={prompt:{name:"prompt",label:Ue("nodePalette.prompt"),type:"string",value:"a beautiful landscape",widget_meta:{widget_type:"text_input"}},negative_prompt:{name:"negative_prompt",label:Ue("nodePalette.negativePrompt"),type:"string",value:"ugly, blurry",widget_meta:{widget_type:"text_input"}},steps:{name:"steps",label:Ue("nodePalette.generationSteps"),type:"number",value:"20",widget_meta:{widget_type:"number_input"}},cfg_scale:{name:"cfg_scale",label:Ue("nodePalette.cfgScale"),type:"number",value:"7",widget_meta:{widget_type:"number_input"}},width:{name:"width",label:Ue("nodePalette.width"),type:"number",value:"512",widget_meta:{widget_type:"number_input"}},height:{name:"height",label:Ue("nodePalette.height"),type:"number",value:"512",widget_meta:{widget_type:"number_input"}}},c=Object.keys(t.params||{}).length>0?t.params:f,p=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:`react-flow__node generic-node ${o?"selected":""}`,onClick:u,style:{"--handle-count":p},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((m,y)=>{const g=m.id||m.name||`input-${y}`,w=m.id||m.name||`input-${y}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${w}-handle`,className:"node-handle",style:{background:Ve(m.type||""),left:0}},g),i.jsx("span",{className:"handle-label",children:m.name})]},g)})}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((m,y)=>{const g=m.id||m.name||`output-${y}`,w=m.id||m.name||`output-${y}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${w}-handle`,className:"node-handle",style:{background:Ve(m.type||""),right:0}},g),i.jsx("span",{className:"handle-label",children:m.name})]},g)})})]}),i.jsxs("div",{className:"node-content",children:[i.jsx("div",{className:"node-description",children:"Stable Diffusion"}),Object.entries(c).map(([m,y])=>{const g=y;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:g.label}),i.jsx("div",{className:"param-control",children:i.jsx("input",{type:g.type==="number"?"number":"text",value:g.value,onChange:w=>{const x=g.type==="number"?Number(w.target.value):w.target.value,N={...t.params,[m]:{...g,value:x}};s&&a&&s(a,{...t,params:N})}})})]},m)})]})]})},W2=(t,o)=>{if(t.selected!==o.selected||t.data.imageUrl!==o.data.imageUrl)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},U2=Y.memo(B2,W2),q2=({data:t})=>{const o=f=>{f.stopPropagation()},s=Math.max(t.inputs?.length||0,t.outputs?.length||0),a={prompt:{name:"prompt",label:Ue("nodePalette.prompt"),type:"string",value:"a beautiful landscape",widget_meta:{widget_type:"text_input"}},negative_prompt:{name:"negative_prompt",label:Ue("nodePalette.negativePrompt"),type:"string",value:"ugly, blurry",widget_meta:{widget_type:"text_input"}},steps:{name:"steps",label:Ue("nodePalette.generationSteps"),type:"number",value:"20",widget_meta:{widget_type:"number_input"}},cfg_scale:{name:"cfg_scale",label:Ue("nodePalette.cfgScale"),type:"number",value:"7",widget_meta:{widget_type:"number_input"}},strength:{name:"strength",label:Ue("nodePalette.strength"),type:"number",value:"0.7",widget_meta:{widget_type:"number_input"}}},u=Object.keys(t.params||{}).length>0?t.params:a;return i.jsx("div",{className:"react-flow__node generic-node",onClick:o,style:{"--handle-count":s},children:i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((f,c)=>{const p=f.id||f.name||`input-${c}`,m=f.id||f.name||`input-${c}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${m}-handle`,className:"node-handle",style:{left:0,background:Ve(f.type||"")}}),i.jsx("span",{className:"handle-label",children:f.name})]},p)})}),i.jsxs("div",{className:"central-content-placeholder",children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsx("div",{className:"node-content",children:Object.entries(u).map(([f,c])=>{const p=c;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:p.label}),i.jsx("input",{type:p.type==="number"?"number":"text",value:p.value,className:"node-input",onChange:m=>{console.log("Param changed:",f,m.target.value)}})]},f)})})]}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((f,c)=>{const p=f.id||f.name||`output-${c}`,m=f.id||f.name||`output-${c}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${m}-handle`,className:"node-handle",style:{right:0,background:Ve(f.type||"")}}),i.jsx("span",{className:"handle-label",children:f.name})]},p)})})]})})},G2=(t,o)=>{if(t.selected!==o.selected||t.data.imageUrl!==o.data.imageUrl||t.data.inputImageUrl!==o.data.inputImageUrl)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},K2=Y.memo(q2,G2),Y2=({id:t,data:o,selected:s})=>{const a=f=>{f.stopPropagation()},u=Math.max(o.inputs?.length||0,o.outputs?.length||0);return i.jsxs("div",{className:`react-flow__node generic-node ${s?"selected":""}`,onClick:a,style:{"--handle-count":u},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:o.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:o.inputs?.map((f,c)=>{const p=f.id||f.name||`input-${c}`,m=f.id||f.name||`input-${c}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${m}-handle`,className:"node-handle",style:{left:0,background:Ve(f.type||"")}}),i.jsx("span",{className:"handle-label",children:f.name})]},p)})}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:o.outputs?.map((f,c)=>{const p=f.id||f.name||`output-${c}`,m=f.id||f.name||`output-${c}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${m}-handle`,className:"node-handle",style:{right:0,background:Ve(f.type||"")}}),i.jsx("span",{className:"handle-label",children:f.name})]},p)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsxs("div",{className:"image-input-container",children:[o.imageUrl?i.jsx("img",{src:o.imageUrl,alt:"Input image",className:"preview-image"}):i.jsx("div",{className:"no-image-placeholder",children:i.jsx("span",{children:"Upload Image"})}),i.jsxs("div",{className:"image-input-controls",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:f=>{const c=f.target.files?.[0];if(c){const p=new FileReader;p.onload=m=>{console.log("Image loaded:",m.target?.result)},p.readAsDataURL(c)}},style:{display:"none"},id:`${t}-file-input`}),i.jsx("label",{htmlFor:`${t}-file-input`,className:"save-image-button",children:"Choose File"}),i.jsx("button",{className:"save-image-button",onClick:()=>{console.log("Clear image")},children:"Clear"})]})]}),Object.entries(o.params||{}).map(([f,c])=>{const p=c;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:p.label}),i.jsx("input",{type:p.type==="number"?"number":"text",value:p.value,className:"node-input",onChange:m=>{console.log("Param changed:",f,m.target.value)}})]},f)})]})]})},X2=(t,o)=>{if(t.selected!==o.selected||t.data.imageUrl!==o.data.imageUrl)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},Q2=Y.memo(Y2,X2),Z2=({data:t,onDataChange:o})=>{const s=Fn(),a=c=>{c.stopPropagation()},u=(c,p)=>{if(console.log("Text changed:",p),o&&t.params){const m={...t.params};m[c]?m[c].value=p:m[c]={value:p,type:typeof p},o(s||"",{...t,params:m})}},f=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"cognot-node-base clip-text-encode-node",onClick:a,style:{"--handle-count":f},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((c,p)=>{const m=c.id||c.name||`input-${p}`,y=c.id||c.name||`input-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${y}-handle`,className:"node-handle",style:{left:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((c,p)=>{const m=c.id||c.name||`output-${p}`,y=c.id||c.name||`output-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${y}-handle`,className:"node-handle",style:{right:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})})]}),i.jsx("div",{className:"node-content-area",children:i.jsxs("div",{className:"node-content",children:[i.jsx("div",{className:"text-input-container",children:i.jsx("textarea",{value:t.params?.text?.value||"",placeholder:"Enter text prompt",className:"node-input node-textarea",rows:3,onChange:c=>{u("text",c.target.value)}})}),Object.entries(t.params||{}).map(([c,p])=>{if(c!=="text"){const m=p;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:m.label}),i.jsx("input",{type:m.type==="number"?"number":"text",value:m.value,className:"node-input",onChange:y=>{u(c,y.target.value)}})]},c)}return null})]})})]})},J2=({data:t,onDataChange:o})=>{const s=Fn(),[a,u]=I.useState([]),[f,c]=I.useState(!1),p=async()=>{c(!0);try{const N=await(await fetch("/models?model_type=checkpoints")).json();u(N.models||[])}catch(x){console.error("Failed to fetch models:",x)}finally{c(!1)}};I.useEffect(()=>{p()},[]);const m=x=>{const N=x.target.value;if(console.log("Selected model path:",N),o&&t.params){const b={...t.params,modelPath:{...t.params.modelPath,value:N}};o(s||"",{...t,params:b})}},y=x=>{x.stopPropagation()},g=(x,N)=>{console.log("Param changed:",x,N);let b=N;if((x==="strength"||x==="weight"||x==="scale"||x==="clip_skip")&&(b=parseFloat(N)||0),o&&t.params){const j={...t.params,[x]:{...t.params[x],value:b}};o(s||"",{...t,params:j})}},w=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"react-flow__node load-checkpoint-node",onClick:y,style:{"--handle-count":w},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map(x=>i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${x.name}-handle`,className:"node-handle",style:{left:0}},x.name),i.jsx("span",{className:"handle-label",children:x.name})]},x.name))}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map(x=>i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${x.name}-handle`,className:"node-handle",style:{right:0}},x.name),i.jsx("span",{className:"handle-label",children:x.name})]},x.name))})]}),i.jsxs("div",{className:"node-content",children:[i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Model"}),f?i.jsx("div",{className:"model-loading",children:"Loading models..."}):i.jsxs("select",{value:t.params?.modelPath?.value||"",className:"node-select",onChange:m,style:{width:"100%",padding:"8px",marginTop:"4px"},children:[i.jsx("option",{value:"",children:"Select a model..."}),a.map((x,N)=>i.jsx("option",{value:x.path,children:x.name},N))]})]}),Object.entries(t.params||{}).map(([x,N])=>{if(x!=="modelPath"){const b=N;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:b.label}),i.jsx("input",{type:b.type,value:b.value,className:"node-input",onChange:j=>g(x,j.target.value)})]},x)}return null})]})]})},eN=({data:t,onDataChange:o})=>{const s=Fn(),a=c=>{c.stopPropagation()},u=(c,p)=>{if(o&&t.params){const m={...t.params};m[c]&&(m[c].value=p),o(s||"",{...t,params:m})}},f=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"react-flow__node generic-node",onClick:a,style:{"--handle-count":f},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",style:{"--handle-count":f},children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((c,p)=>{const m=c.id||c.name||`input-${p}`,y=c.id||c.name||`input-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${y}-handle`,className:"node-handle",style:{background:Ve(c.type||""),left:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((c,p)=>{const m=c.id||c.name||`output-${p}`,y=c.id||c.name||`output-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${y}-handle`,className:"node-handle",style:{background:Ve(c.type||""),right:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"image-preview-container",children:t.imageUrl?i.jsx("img",{src:t.imageUrl,alt:"Image to save",className:"preview-image"}):i.jsx("div",{className:"no-image-placeholder",children:i.jsx("span",{children:"Image Preview"})})}),Object.entries(t.params||{}).map(([c,p])=>{const m=p;return m.type==="select"?i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:m.label}),i.jsx("select",{value:m.value,className:"node-input",onChange:y=>{u(c,y.target.value)},children:m.options?.map(y=>i.jsx("option",{value:y.value,children:y.label||y.value},y.value))})]},c):i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:m.label}),i.jsx("input",{type:m.type==="number"?"number":"text",value:m.value,className:"node-input",onChange:y=>{const g=m.type==="number"?parseFloat(y.target.value)||0:y.target.value;u(c,g)}})]},c)}),i.jsx("div",{className:"output-controls",children:i.jsx("button",{className:"save-image-button",onClick:()=>{console.log("Save image clicked")},children:"Save Image"})})]})]})},tN=(t,o)=>{if(t.selected!==o.selected)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},nN=Y.memo(eN,tN),rN=({data:t,onDataChange:o})=>{const s=Fn(),a=p=>{p.stopPropagation()},u=(p,m)=>{o(s||"",{params:{...t.params,[p]:{...t.params?.[p],value:m}}})},f=["Resize","Crop","Blend","Enhance"],c=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"react-flow__node generic-node",onClick:a,style:{"--handle-count":c},children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((p,m)=>{const y=p.id||p.name||`input-${m}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${y}-handle`,className:"node-handle",style:{background:Ve(p.type||""),left:0}}),i.jsx("span",{className:"handle-label",children:p.name})]},y)})}),i.jsx("div",{className:"central-content-placeholder"}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((p,m)=>{const y=p.id||p.name||`output-${m}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${y}-handle`,className:"node-handle",style:{background:Ve(p.type||""),right:0}}),i.jsx("span",{className:"handle-label",children:p.name})]},y)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Operation"}),i.jsx("select",{value:t.params?.operation?.value||"Resize",className:"node-input",onChange:p=>{u("operation",p.target.value)},children:f.map(p=>i.jsx("option",{value:p,children:p},p))})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Width"}),i.jsx("input",{type:"number",value:t.params?.width?.value||512,min:"64",max:"8192",step:"1",className:"node-input",onChange:p=>{u("width",parseInt(p.target.value)||512)}})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Height"}),i.jsx("input",{type:"number",value:t.params?.height?.value||512,min:"64",max:"8192",step:"1",className:"node-input",onChange:p=>{u("height",parseInt(p.target.value)||512)}})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Blend Mode"}),i.jsxs("select",{value:t.params?.blendMode?.value||"Normal",className:"node-input",onChange:p=>{u("blendMode",p.target.value)},children:[i.jsx("option",{value:"Normal",children:"Normal"},"Normal"),i.jsx("option",{value:"Multiply",children:"Multiply"},"Multiply"),i.jsx("option",{value:"Screen",children:"Screen"},"Screen"),i.jsx("option",{value:"Overlay",children:"Overlay"},"Overlay"),i.jsx("option",{value:"Lighten",children:"Lighten"},"Lighten"),i.jsx("option",{value:"Darken",children:"Darken"},"Darken"),i.jsx("option",{value:"Color Dodge",children:"Color Dodge"},"Color Dodge"),i.jsx("option",{value:"Color Burn",children:"Color Burn"},"Color Burn")]})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Opacity"}),i.jsx("input",{type:"number",value:t.params?.opacity?.value||1,min:"0",max:"1",step:"0.1",className:"node-input",onChange:p=>{u("opacity",parseFloat(p.target.value)||1)}})]}),Object.entries(t.params||{}).map(([p,m])=>{if(!["operation","width","height","blendMode","opacity"].includes(p)){const y=m;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:y.label}),i.jsx("input",{type:y.type,value:y.value,className:"node-input",onChange:g=>{const w=y.type==="number"?parseFloat(g.target.value)||0:g.target.value;u(p,w)}})]},p)}return null})]})]})},oN=({data:t,onDataChange:o})=>{const s=Fn(),a=c=>{c.stopPropagation()},u=Math.max(t.inputs?.length||0,t.outputs?.length||0),f=(c,p)=>{console.log("Param changed:",c,p);let m=p;if((c==="strength"||c==="weight"||c==="scale"||c==="clip_skip")&&(m=parseFloat(p)||0),o&&t.params){const y={...t.params,[c]:{...t.params[c],value:m}};o(s||"",{...t,params:y})}};return i.jsxs("div",{className:"react-flow__node generic-node",onClick:a,id:`node-${s}`,children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"connection-area",style:{"--handle-count":u},children:[i.jsx("div",{className:"handles-column left-handles",children:t.inputs?.map((c,p)=>{const m=c.id||c.name||`input-${p}`,y=c.id||c.name||`input-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${y}-handle`,className:"node-handle",style:{background:Ve(c.type||""),left:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})}),i.jsx("div",{className:"handles-column right-handles",children:t.outputs?.map((c,p)=>{const m=c.id||c.name||`output-${p}`,y=c.id||c.name||`output-${p}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${y}-handle`,className:"node-handle",style:{background:Ve(c.type||""),right:0}}),i.jsx("span",{className:"handle-label",children:c.name})]},m)})})]}),i.jsxs("div",{className:"node-content",children:[i.jsx("div",{className:"central-content-placeholder"}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"node-description",children:"Decodes latent representations into images using a VAE (Variational Autoencoder)."}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Latent Scale"}),i.jsx("input",{type:"number",value:t.params?.latentScale?.value||1,min:"0.1",max:"5.0",step:"0.1",className:"node-input",onChange:c=>{f("latentScale",parseFloat(c.target.value)||1)}})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:"Decode Batch Size"}),i.jsx("input",{type:"number",value:t.params?.decodeBatchSize?.value||1,min:"1",max:"16",step:"1",className:"node-input",onChange:c=>{f("decodeBatchSize",parseInt(c.target.value)||1)}})]})]})]})]})},sN=({data:t,onDataChange:o})=>{const s=Fn(),a=m=>{m.stopPropagation()},u=(m,y)=>{if(o&&t.params){const g={...t.params};g[m]&&(g[m].value=y),o(s||"",{...t,params:g})}},f=["Euler","Euler a","DPM++ 2M","DPM++ 2M Karras","DPM++ SDE","DPM++ SDE Karras","DDIM","PLMS"],c=["normal","karras","exponential","polyexponential","ddim_uniform"],p=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsx("div",{className:"react-flow__node k-sampler-node",onClick:a,style:{"--handle-count":p},children:i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((m,y)=>{const g=m.id||m.name||`input-${y}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"target",position:de.Left,id:`${g}-handle`,className:"node-handle",style:{left:0,background:Ve(m.type||"")}}),i.jsx("span",{className:"handle-label",children:m.name})]},g)})}),i.jsxs("div",{className:"central-content-placeholder",children:[i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})}),i.jsxs("div",{className:"node-content",children:[i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:Ue("nodePalette.steps")}),i.jsx("input",{type:"number",value:t.params?.steps?.value||20,min:"1",max:"100",step:"1",className:"node-input",onChange:m=>{u("steps",parseInt(m.target.value))}})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:Ue("nodePalette.cfgScale")}),i.jsx("input",{type:"number",value:t.params?.cfgScale?.value||7,min:"1",max:"30",step:"0.1",className:"node-input",onChange:m=>{u("cfgScale",parseFloat(m.target.value))}})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:Ue("nodePalette.sampler")}),i.jsx("select",{value:t.params?.sampler?.value||"Euler a",className:"node-input",onChange:m=>{u("sampler",m.target.value)},children:f.map(m=>i.jsx("option",{value:m,children:m},m))})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:Ue("nodePalette.scheduler")}),i.jsx("select",{value:t.params?.scheduler?.value||"karras",className:"node-input",onChange:m=>{u("scheduler",m.target.value)},children:c.map(m=>i.jsx("option",{value:m,children:m},m))})]}),i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:Ue("nodePalette.seed")}),i.jsx("input",{type:"number",value:t.params?.seed?.value||-1,className:"node-input",onChange:m=>{u("seed",parseInt(m.target.value))}})]}),Object.entries(t.params||{}).map(([m,y])=>{if(!["steps","cfgScale","sampler","scheduler","seed"].includes(m)){const g=y;return i.jsxs("div",{className:"param-group",children:[i.jsx("label",{className:"param-label",children:g.label}),i.jsx("input",{type:g.type,value:g.value,className:"node-input",onChange:w=>{u(m,g.type==="number"?parseFloat(w.target.value):w.target.value)}})]},m)}return null})]})]}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((m,y)=>{const g=m.id||m.name||`output-${y}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{type:"source",position:de.Right,id:`${g}-handle`,className:"node-handle",style:{right:0,background:Ve(m.type||"")}}),i.jsx("span",{className:"handle-label",children:m.name})]},g)})})]})})},lN=({data:t})=>{const o=a=>{a.stopPropagation()},s=Math.max(t.inputs?.length||0,t.outputs?.length||0);return i.jsxs("div",{className:"react-flow__node generic-node",onClick:o,style:{"--handle-count":s},children:[i.jsxs("div",{className:"connection-area",children:[t.inputs?.length>0&&i.jsx("div",{className:"handles-column left-handles",children:t.inputs.map((a,u)=>{const f=a.id||a.name||`input-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{id:f,type:"target",position:de.Left,className:"node-handle",style:{background:Ve(a.type||""),left:0}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})}),i.jsx("div",{className:"central-content-placeholder",children:i.jsx("div",{className:"node-header",children:i.jsx("span",{children:t.label})})}),t.outputs?.length>0&&i.jsx("div",{className:"handles-column right-handles",children:t.outputs.map((a,u)=>{const f=a.id||a.name||`output-${u}`;return i.jsxs("div",{className:"handle-item",children:[i.jsx(Ee,{id:f,type:"source",position:de.Right,className:"node-handle",style:{background:Ve(a.type||""),right:0}}),i.jsx("span",{className:"handle-label",children:a.name})]},f)})})]}),i.jsxs("div",{className:"parameter-control-area",children:[i.jsx("div",{className:"image-preview-container",children:t.imageUrl?i.jsx("img",{src:t.imageUrl,alt:"Preview image",className:"node-image-preview",style:{maxHeight:"200px",maxWidth:"100%"}}):i.jsx("div",{className:"image-placeholder",children:i.jsx("span",{children:"Preview Image"})})}),i.jsxs("div",{className:"preview-controls",children:[i.jsx("button",{className:"save-image-button",onClick:()=>{console.log("Refresh preview")},children:"Refresh"}),i.jsx("button",{className:"save-image-button",onClick:()=>{console.log("Zoom in")},children:"Zoom In"}),i.jsx("button",{className:"save-image-button",onClick:()=>{console.log("Zoom out")},children:"Zoom Out"})]})]})]})},iN=(t,o)=>{if(t.selected!==o.selected||t.data.imageUrl!==o.data.imageUrl)return!1;const s=t.data.params||{},a=o.data.params||{},u=[...new Set([...Object.keys(s),...Object.keys(a)])];for(const f of u){const c=s[f],p=a[f];if(!c||!p||c.value!==p.value)return!1}return!0},aN=Y.memo(lN,iN);function uN(){const t=window?.appWindow,[o,s]=I.useState(!1),[a,u]=I.useState(!1),[f,c]=I.useState(!1),{t:p}=Ir();I.useEffect(()=>{const re=document.getElementById("root");re&&re.querySelector(".app")},[]);const[m,y]=I.useState(!0),[g,w]=I.useState({nodes:[],edges:[]}),[x,N]=I.useState(!1),[b,j]=I.useState(!1),[E,M]=I.useState(!1),[L,U]=I.useState(0),[P,B]=I.useState(""),[D,K]=I.useState(null),[Z,J]=I.useState(null),le=async()=>{w(ce=>({...ce,nodes:R,edges:A}));const re={...g,nodes:R,edges:A};if(re.nodes.length>0||re.edges.length>0){const ce=`workflow_${Date.now()}`,fe=prompt("Please enter workflow name:","My Workflow");if(fe)try{const we=await fetch("http://127.0.0.1:8000/workflows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:ce,name:fe,data:re,createdAt:new Date().toISOString()})});if(we.ok){await we.json();const ke=JSON.parse(localStorage.getItem("savedWorkflows")||"[]");ke.push({id:ce,name:fe,data:re,createdAt:new Date().toISOString()}),localStorage.setItem("savedWorkflows",JSON.stringify(ke)),alert("Workflow saved successfully!")}else{const ke=await we.json().catch(()=>({}));alert(`Failed to save workflow to server: ${ke.detail||we.statusText}`)}}catch(we){console.error("Error saving workflow:",we),alert(`Error saving workflow: ${we instanceof Error?we.message:"Unknown error"}`)}}else alert("No workflow to save")},X=()=>{N(!x),b&&j(!1)},q=()=>{j(!b),x&&N(!1),a&&u(!1)},W=()=>{u(!a),x&&N(!1),b&&j(!1)};I.useEffect(()=>{let re=null;return E&&D&&(re=window.setInterval(async()=>{try{const ce=await fetch(`/execution/status?executionId=${D}`);if(ce.ok){const fe=await ce.json();if(console.log("Execution Status:",fe),B(fe.status),fe.results&&fe.results.node_count){const we=Object.keys(fe.results).filter(Me=>Me!=="node_count").length,ke=Math.min(100,Math.floor(we/fe.results.node_count*100));U(ke)}(fe.status==="completed"||fe.status==="error")&&(re&&clearInterval(re),M(!1),fe.status==="completed"?(J(fe.results),alert("Workflow Executed Successfully!")):fe.status==="error"&&alert("Error Executing Workflow: "+fe.error))}}catch(ce){console.error("Error fetching execution status:",ce),re&&clearInterval(re),M(!1)}},500)),()=>{re&&clearInterval(re)}},[E,D]);const S=I.useRef(null),[R,$,Q]=l2([]),[A,C,O]=i2([]),k=vi(),F=I.useCallback(re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},[]),ne=I.useCallback(re=>{re.preventDefault();const ce=S.current?.getBoundingClientRect(),fe=re.dataTransfer.getData("application/reactflow");if(fe&&ce&&k){const we=JSON.parse(fe),ke=k.screenToFlowPosition({x:re.clientX-ce.left,y:re.clientY-ce.top}),Me={...we,position:ke};$(Le=>Le.concat(Me)),w(Le=>({...Le,nodes:[...Le.nodes,Me]}))}},[k,$,w]),te=I.useCallback(re=>{const ce=R.find(be=>be.id===re.source),fe=R.find(be=>be.id===re.target);let we="";ce&&re.sourceHandle&&(we=ce.data.outputs?.find(Xe=>Xe.name===re.sourceHandle)?.type||"");let ke="";if(fe&&re.targetHandle&&(ke=fe.data.inputs?.find(Xe=>Xe.name===re.targetHandle)?.type||""),we&&ke&&we!==ke){console.log(` ${we} -> ${ke}`);return}const Me=we||ke||"default",Le={...re,type:Me,data:{...re.data,dataType:Me},style:{...re.style,strokeWidth:2,stroke:I0(Me)}};C(be=>Sh(Le,be))},[C,R]),ue=I.useCallback((re,ce)=>{$(fe=>{const we=fe.map(ke=>ke.id===re?{...ke,data:{...ke.data,...ce}}:ke);return w(ke=>({...ke,nodes:we,edges:ke.edges})),we})},[$,w]),ee=I.useCallback(re=>ce=>i.jsx(re,{...ce,onDataChange:ue}),[ue]),ge=I.useMemo(()=>({imageOutput:ee(L2),stable_diffusion_generate:ee(U2),stable_diffusion_image_to_image:ee(K2),imageInput:ee(Q2),imageManipulation:ee(rN),saveImage:ee(nN),vaeDecode:ee(oN),previewNode:ee(aN),ClipTextEncode:ee(Z2),CheckpointLoaderSimple:ee(J2),KSampler:ee(sN),videoLoad:ee(De),frameIndexManager:ee(De),opticalFlowCalculator:ee(De),frameProcessorLoop:ee(De),fusionImage:ee(De),videoComposer:ee(De),promptInterpolator:ee(De),TextInput:ee(R2),TextOutput:ee(F2),FileInput:ee(De),APIInput:ee(De),DatabaseInput:ee(De),TextProcessing:ee(De),MathOperation:ee(De),Filter:ee(De),Loop:ee(De),processing:ee(De),AddNumbers:ee(De),MultiplyNumbers:ee(De),CompareNumbers:ee(De),ConcatenateStrings:ee(De),Branch:ee(De),Sampler:ee(De),BaseConfigExample:ee(De),DatabaseOutput:ee(De),APIOutput:ee(De),FileOutput:ee(De),AIProcessing:ee(De),Transform:ee(De),default:ee(De),PreviewOutputExample:ee(V2),ControlNodeExample:ee(H2)}),[ee]);return I.useEffect(()=>{g.nodes&&g.edges&&g.nodes.length>0&&($(g.nodes),C(g.edges))},[]),i.jsxs("div",{className:"app",children:[i.jsxs("div",{className:"app-header",children:[i.jsx("h1",{children:"Cognot"}),i.jsxs("div",{className:"app-text-options",children:[i.jsx(M0,{nodes:R,edges:A,setNodes:$,setEdges:C}),i.jsx("button",{type:"button",className:"text-option-btn",onClick:()=>console.log("Help clicked"),children:p("common.help")})]}),E&&i.jsx("div",{className:"execution-progress-container",children:i.jsxs("div",{className:"app-progress",children:[i.jsx("progress",{value:L,max:"100",className:"progress-bar"}),i.jsxs("span",{className:"progress-status",children:[P.charAt(0).toUpperCase()+P.slice(1)," (",L,"%)"]})]})}),i.jsxs("div",{className:"app-controls",children:[i.jsx("button",{type:"button",className:"icon-btn",title:p("common.saveWorkflow"),onClick:le,children:i.jsx(u0,{})}),i.jsx("button",{type:"button",className:"icon-btn",title:p("common.exportWorkflow"),onClick:()=>{const re=_u(g),ce=ju(re);if(ce.isValid){const fe=ku(re);console.log("Export Workflow (Backend Format):",fe);const we=JSON.stringify(fe,null,2),ke=new Blob([we],{type:"application/json"}),Me=URL.createObjectURL(ke),Le=document.createElement("a");Le.href=Me,Le.download="workflow.json",Le.click(),URL.revokeObjectURL(Me)}else console.error(p("common.workflowValidationFailed"),ce.errors),alert(p("common.workflowValidationFailed")+" "+ce.errors.join(", "))},children:i.jsx(c0,{})}),i.jsx("button",{type:"button",className:"icon-btn",title:p("common.executeWorkflow"),onClick:()=>{const re=_u(g),ce=ju(re);if(ce.isValid){M(!0),U(0),B("submitting"),K(null);const fe=ku(re);console.log("Execute Workflow (Backend Format):",fe),fetch("/execution/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)}).then(we=>{if(we.ok)return we.json();throw new Error("Failed to Execute Workflow")}).then(we=>{console.log("Execution Started:",we),K(we.execution_id),B("pending")}).catch(we=>{console.error("Workflow Execution Error:",we),alert("Error Executing Workflow: "+we.message),M(!1)})}else console.error("Workflow Validation Failed:",ce.errors),alert("Workflow Validation Failed: "+ce.errors.join(", "))},children:i.jsx(d0,{})}),i.jsx("button",{type:"button",className:`icon-btn preview-btn ${x?"active":""}`,title:p("common.livePreview"),onClick:X,children:i.jsx(f0,{})}),i.jsx("button",{type:"button",className:`icon-btn gallery-btn ${b?"active":""}`,title:p("common.resource"),onClick:q,children:i.jsx(p0,{})}),i.jsx("button",{type:"button",className:`icon-btn queue-btn ${a?"active":""}`,title:p("common.queueMonitor"),onClick:W,children:i.jsx(v0,{})}),i.jsx("div",{className:"window-controls-separator"}),i.jsx("button",{type:"button",className:"icon-btn",onClick:async()=>{try{t?await t.minimize():window.resizeTo(window.outerWidth,300)}catch(re){console.error("Failed to minimize window:",re),window.resizeTo(window.outerWidth,300)}},children:i.jsx(g0,{})}),i.jsx("button",{type:"button",className:"icon-btn",onClick:async()=>{try{t&&(await t.isMaximized()?await t.unmaximize():await t.maximize())}catch(re){console.error("Failed to toggle window maximize:",re)}},children:i.jsx(y0,{})}),i.jsx("button",{type:"button",className:"icon-btn close-btn",onClick:async()=>{try{t?await t.close():window.close()}catch(re){console.error("Failed to close window:",re),window.close()}},children:i.jsx(h0,{})})]})]}),i.jsxs("div",{className:"app-main",children:[i.jsxs("div",{className:"sidebar narrow-nav",children:[i.jsx("button",{type:"button",className:`nav-btn ${m?"active":""}`,title:p("narrowNav.nodePalette"),onClick:()=>y(!m),children:i.jsx(m0,{size:24})}),i.jsx("button",{type:"button",className:`nav-btn ${f?"active":""}`,title:p("narrowNav.models"),onClick:()=>c(!f),children:i.jsx(x0,{size:24})}),i.jsx("div",{style:{flex:1}}),i.jsx("button",{type:"button",className:"nav-btn",title:p("narrowNav.settings"),onClick:()=>s(!0),children:i.jsx(Dp,{size:24})})]}),i.jsxs("div",{className:"left-panels-container",children:[i.jsx("div",{className:`sidebar left-sidebar ${m?"expanded":"collapsed"}`,children:i.jsx(s0,{setNodes:$,setEdges:C})}),f&&i.jsx("aside",{className:"sidebar left-sidebar models-manager-panel",children:i.jsx(b0,{})})]}),i.jsx("div",{className:"app-content",ref:S,children:i.jsxs(nm,{nodes:R,edges:A,onNodesChange:Q,onEdgesChange:O,onConnect:te,onInit:()=>{},onDragOver:F,onDrop:ne,fitView:!0,nodeTypes:ge,preventScrolling:!0,panOnScroll:!1,panOnDrag:!0,zoomOnDoubleClick:!0,zoomOnScroll:!0,connectionLineStyle:{stroke:"#4caf50",strokeWidth:2,strokeDasharray:"5 5"},connectionLineType:In.SmoothStep,children:[i.jsx(b2,{variant:Ht.Dots,gap:12,size:1}),i.jsx(j2,{}),i.jsx(y2,{nodeColor:re=>re.type==="input"?"#0041d0":"#ff0072",nodeStrokeWidth:3,zoomable:!0,pannable:!0})]})}),x&&i.jsx("aside",{className:"sidebar preview-sidebar",children:i.jsx(l0,{executionResults:Z||void 0,isRunning:E})}),b&&i.jsx("aside",{className:"sidebar gallery-sidebar",children:i.jsx(i0,{})}),a&&i.jsx("aside",{className:"sidebar queue-sidebar",children:i.jsx(a0,{})})]}),i.jsx(w0,{isOpen:o,onClose:()=>s(!1)})]})}const Tp=document.getElementById("root");Tp&&e0.createRoot(Tp).render(i.jsx(Y.StrictMode,{children:i.jsx(r0,{children:i.jsx(sc,{children:i.jsx(uN,{})})})}));
